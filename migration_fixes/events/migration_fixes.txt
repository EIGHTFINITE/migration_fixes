namespace = migration_fixes

migration_fixes.1 = {
	type = country_event
	hidden = yes
	immediate = {
		if = {
			limit = {
				NOT = { has_variable = migration_fixes_active }
			}
			set_variable = migration_fixes_active
		}
		if = {
			limit = {
				OR = {
					AND = {
						month = 0
						NOT = { has_variable = migration_fixes_jan }
					}
					AND = {
						month = 1
						NOT = { has_variable = migration_fixes_feb }
					}
					AND = {
						month = 2
						NOT = { has_variable = migration_fixes_mar }
					}
					AND = {
						month = 3
						NOT = { has_variable = migration_fixes_apr }
					}
					AND = {
						month = 4
						NOT = { has_variable = migration_fixes_may }
					}
					AND = {
						month = 5
						NOT = { has_variable = migration_fixes_jun }
					}
					AND = {
						month = 6
						NOT = { has_variable = migration_fixes_jul }
					}
					AND = {
						month = 7
						NOT = { has_variable = migration_fixes_aug }
					}
					AND = {
						month = 8
						NOT = { has_variable = migration_fixes_sep }
					}
					AND = {
						month = 9
						NOT = { has_variable = migration_fixes_oct }
					}
					AND = {
						month = 10
						NOT = { has_variable = migration_fixes_nov }
					}
					AND = {
						month = 11
						NOT = { has_variable = migration_fixes_dec }
					}
				}
			}
			if = {
				limit = {
					month = 0
				}
				set_variable = migration_fixes_jan
				remove_variable = migration_fixes_feb
				remove_variable = migration_fixes_mar
				remove_variable = migration_fixes_apr
				remove_variable = migration_fixes_may
				remove_variable = migration_fixes_jun
				remove_variable = migration_fixes_jul
				remove_variable = migration_fixes_aug
				remove_variable = migration_fixes_sep
				remove_variable = migration_fixes_oct
				remove_variable = migration_fixes_nov
				remove_variable = migration_fixes_dec
			}
			if = {
				limit = {
					month = 1
				}
				remove_variable = migration_fixes_jan
				set_variable = migration_fixes_feb
				remove_variable = migration_fixes_mar
				remove_variable = migration_fixes_apr
				remove_variable = migration_fixes_may
				remove_variable = migration_fixes_jun
				remove_variable = migration_fixes_jul
				remove_variable = migration_fixes_aug
				remove_variable = migration_fixes_sep
				remove_variable = migration_fixes_oct
				remove_variable = migration_fixes_nov
				remove_variable = migration_fixes_dec
			}
			if = {
				limit = {
					month = 2
				}
				remove_variable = migration_fixes_jan
				remove_variable = migration_fixes_feb
				set_variable = migration_fixes_mar
				remove_variable = migration_fixes_apr
				remove_variable = migration_fixes_may
				remove_variable = migration_fixes_jun
				remove_variable = migration_fixes_jul
				remove_variable = migration_fixes_aug
				remove_variable = migration_fixes_sep
				remove_variable = migration_fixes_oct
				remove_variable = migration_fixes_nov
				remove_variable = migration_fixes_dec
			}
			if = {
				limit = {
					month = 3
				}
				remove_variable = migration_fixes_jan
				remove_variable = migration_fixes_feb
				remove_variable = migration_fixes_mar
				set_variable = migration_fixes_apr
				remove_variable = migration_fixes_may
				remove_variable = migration_fixes_jun
				remove_variable = migration_fixes_jul
				remove_variable = migration_fixes_aug
				remove_variable = migration_fixes_sep
				remove_variable = migration_fixes_oct
				remove_variable = migration_fixes_nov
				remove_variable = migration_fixes_dec
			}
			if = {
				limit = {
					month = 4
				}
				remove_variable = migration_fixes_jan
				remove_variable = migration_fixes_feb
				remove_variable = migration_fixes_mar
				remove_variable = migration_fixes_apr
				set_variable = migration_fixes_may
				remove_variable = migration_fixes_jun
				remove_variable = migration_fixes_jul
				remove_variable = migration_fixes_aug
				remove_variable = migration_fixes_sep
				remove_variable = migration_fixes_oct
				remove_variable = migration_fixes_nov
				remove_variable = migration_fixes_dec
			}
			if = {
				limit = {
					month = 5
				}
				remove_variable = migration_fixes_jan
				remove_variable = migration_fixes_feb
				remove_variable = migration_fixes_mar
				remove_variable = migration_fixes_apr
				remove_variable = migration_fixes_may
				set_variable = migration_fixes_jun
				remove_variable = migration_fixes_jul
				remove_variable = migration_fixes_aug
				remove_variable = migration_fixes_sep
				remove_variable = migration_fixes_oct
				remove_variable = migration_fixes_nov
				remove_variable = migration_fixes_dec
			}
			if = {
				limit = {
					month = 6
				}
				remove_variable = migration_fixes_jan
				remove_variable = migration_fixes_feb
				remove_variable = migration_fixes_mar
				remove_variable = migration_fixes_apr
				remove_variable = migration_fixes_may
				remove_variable = migration_fixes_jun
				set_variable = migration_fixes_jul
				remove_variable = migration_fixes_aug
				remove_variable = migration_fixes_sep
				remove_variable = migration_fixes_oct
				remove_variable = migration_fixes_nov
				remove_variable = migration_fixes_dec
			}
			if = {
				limit = {
					month = 7
				}
				remove_variable = migration_fixes_jan
				remove_variable = migration_fixes_feb
				remove_variable = migration_fixes_mar
				remove_variable = migration_fixes_apr
				remove_variable = migration_fixes_may
				remove_variable = migration_fixes_jun
				remove_variable = migration_fixes_jul
				set_variable = migration_fixes_aug
				remove_variable = migration_fixes_sep
				remove_variable = migration_fixes_oct
				remove_variable = migration_fixes_nov
				remove_variable = migration_fixes_dec
			}
			if = {
				limit = {
					month = 8
				}
				remove_variable = migration_fixes_jan
				remove_variable = migration_fixes_feb
				remove_variable = migration_fixes_mar
				remove_variable = migration_fixes_apr
				remove_variable = migration_fixes_may
				remove_variable = migration_fixes_jun
				remove_variable = migration_fixes_jul
				remove_variable = migration_fixes_aug
				set_variable = migration_fixes_sep
				remove_variable = migration_fixes_oct
				remove_variable = migration_fixes_nov
				remove_variable = migration_fixes_dec
			}
			if = {
				limit = {
					month = 9
				}
				remove_variable = migration_fixes_jan
				remove_variable = migration_fixes_feb
				remove_variable = migration_fixes_mar
				remove_variable = migration_fixes_apr
				remove_variable = migration_fixes_may
				remove_variable = migration_fixes_jun
				remove_variable = migration_fixes_jul
				remove_variable = migration_fixes_aug
				remove_variable = migration_fixes_sep
				set_variable = migration_fixes_oct
				remove_variable = migration_fixes_nov
				remove_variable = migration_fixes_dec
			}
			if = {
				limit = {
					month = 10
				}
				remove_variable = migration_fixes_jan
				remove_variable = migration_fixes_feb
				remove_variable = migration_fixes_mar
				remove_variable = migration_fixes_apr
				remove_variable = migration_fixes_may
				remove_variable = migration_fixes_jun
				remove_variable = migration_fixes_jul
				remove_variable = migration_fixes_aug
				remove_variable = migration_fixes_sep
				remove_variable = migration_fixes_oct
				set_variable = migration_fixes_nov
				remove_variable = migration_fixes_dec
			}
			if = {
				limit = {
					month = 11
				}
				remove_variable = migration_fixes_jan
				remove_variable = migration_fixes_feb
				remove_variable = migration_fixes_mar
				remove_variable = migration_fixes_apr
				remove_variable = migration_fixes_may
				remove_variable = migration_fixes_jun
				remove_variable = migration_fixes_jul
				remove_variable = migration_fixes_aug
				remove_variable = migration_fixes_sep
				remove_variable = migration_fixes_oct
				remove_variable = migration_fixes_nov
				set_variable = migration_fixes_dec
			}
			if = {
				limit = {
					any_scope_state = {
						owner = ROOT
						is_capital = no
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:welsh
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:welsh }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:welsh }
							}
							save_temporary_scope_as = migration_fixes_home_welsh_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_welsh_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:welsh } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_welsh_state
						scope:migration_fixes_home_welsh_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:welsh
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:welsh
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_welsh_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:welsh
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:welsh
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_welsh_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:welsh
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:welsh
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_welsh_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:welsh
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:welsh
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_welsh_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:welsh
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:welsh
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_welsh_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:welsh
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:welsh
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_welsh_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:welsh
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:welsh
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_welsh_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:welsh
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:welsh
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_welsh_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:welsh
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:welsh
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_welsh_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:welsh
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:welsh
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_welsh_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:welsh
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:welsh
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_welsh_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:welsh
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:welsh
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_welsh_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:welsh
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_welsh_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_welsh_state = {
								every_scope_pop = {
									limit = {
										culture = cu:welsh
									}
									move_pop = scope:migration_fixes_home_welsh_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:scottish
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:scottish }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:scottish }
							}
							save_temporary_scope_as = migration_fixes_home_scottish_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_scottish_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:scottish } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_scottish_state
						scope:migration_fixes_home_scottish_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:scottish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:scottish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_scottish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:scottish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:scottish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_scottish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:scottish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:scottish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_scottish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:scottish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:scottish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_scottish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:scottish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:scottish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_scottish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:scottish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:scottish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_scottish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:scottish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:scottish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_scottish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:scottish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:scottish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_scottish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:scottish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:scottish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_scottish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:scottish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:scottish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_scottish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:scottish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:scottish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_scottish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:scottish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:scottish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_scottish_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:scottish
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_scottish_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_scottish_state = {
								every_scope_pop = {
									limit = {
										culture = cu:scottish
									}
									move_pop = scope:migration_fixes_home_scottish_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:galician
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:galician }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:galician }
							}
							save_temporary_scope_as = migration_fixes_home_galician_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_galician_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:galician } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_galician_state
						scope:migration_fixes_home_galician_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:galician
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:galician
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_galician_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:galician
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:galician
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_galician_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:galician
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:galician
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_galician_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:galician
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:galician
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_galician_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:galician
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:galician
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_galician_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:galician
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:galician
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_galician_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:galician
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:galician
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_galician_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:galician
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:galician
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_galician_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:galician
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:galician
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_galician_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:galician
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:galician
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_galician_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:galician
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:galician
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_galician_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:galician
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:galician
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_galician_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:galician
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_galician_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_galician_state = {
								every_scope_pop = {
									limit = {
										culture = cu:galician
									}
									move_pop = scope:migration_fixes_home_galician_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:malay
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:malay }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:malay }
							}
							save_temporary_scope_as = migration_fixes_home_malay_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_malay_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:malay } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_malay_state
						scope:migration_fixes_home_malay_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:malay
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:malay
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_malay_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:malay
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:malay
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_malay_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:malay
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:malay
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_malay_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:malay
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:malay
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_malay_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:malay
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:malay
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_malay_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:malay
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:malay
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_malay_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:malay
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:malay
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_malay_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:malay
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:malay
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_malay_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:malay
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:malay
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_malay_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:malay
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:malay
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_malay_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:malay
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:malay
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_malay_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:malay
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:malay
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_malay_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:malay
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_malay_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_malay_state = {
								every_scope_pop = {
									limit = {
										culture = cu:malay
									}
									move_pop = scope:migration_fixes_home_malay_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:bornean
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:bornean }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:bornean }
							}
							save_temporary_scope_as = migration_fixes_home_bornean_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_bornean_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:bornean } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_bornean_state
						scope:migration_fixes_home_bornean_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:bornean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bornean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_bornean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bornean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bornean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_bornean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bornean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bornean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_bornean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bornean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bornean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_bornean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bornean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bornean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_bornean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bornean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bornean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_bornean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bornean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bornean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_bornean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bornean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bornean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_bornean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bornean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bornean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_bornean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bornean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bornean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_bornean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bornean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bornean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_bornean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bornean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bornean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_bornean_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:bornean
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_bornean_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_bornean_state = {
								every_scope_pop = {
									limit = {
										culture = cu:bornean
									}
									move_pop = scope:migration_fixes_home_bornean_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:sumatran
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:sumatran }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:sumatran }
							}
							save_temporary_scope_as = migration_fixes_home_sumatran_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_sumatran_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:sumatran } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_sumatran_state
						scope:migration_fixes_home_sumatran_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:sumatran
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sumatran
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_sumatran_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sumatran
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sumatran
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_sumatran_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sumatran
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sumatran
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_sumatran_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sumatran
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sumatran
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_sumatran_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sumatran
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sumatran
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_sumatran_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sumatran
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sumatran
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_sumatran_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sumatran
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sumatran
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_sumatran_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sumatran
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sumatran
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_sumatran_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sumatran
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sumatran
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_sumatran_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sumatran
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sumatran
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_sumatran_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sumatran
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sumatran
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_sumatran_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sumatran
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sumatran
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_sumatran_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:sumatran
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_sumatran_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_sumatran_state = {
								every_scope_pop = {
									limit = {
										culture = cu:sumatran
									}
									move_pop = scope:migration_fixes_home_sumatran_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:balinese
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:balinese }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:balinese }
							}
							save_temporary_scope_as = migration_fixes_home_balinese_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_balinese_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:balinese } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_balinese_state
						scope:migration_fixes_home_balinese_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:balinese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:balinese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_balinese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:balinese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:balinese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_balinese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:balinese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:balinese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_balinese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:balinese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:balinese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_balinese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:balinese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:balinese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_balinese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:balinese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:balinese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_balinese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:balinese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:balinese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_balinese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:balinese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:balinese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_balinese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:balinese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:balinese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_balinese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:balinese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:balinese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_balinese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:balinese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:balinese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_balinese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:balinese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:balinese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_balinese_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:balinese
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_balinese_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_balinese_state = {
								every_scope_pop = {
									limit = {
										culture = cu:balinese
									}
									move_pop = scope:migration_fixes_home_balinese_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:cajun
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:cajun }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:cajun }
							}
							save_temporary_scope_as = migration_fixes_home_cajun_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_cajun_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:cajun } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_cajun_state
						scope:migration_fixes_home_cajun_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:cajun
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:cajun
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_cajun_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:cajun
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:cajun
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_cajun_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:cajun
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:cajun
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_cajun_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:cajun
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:cajun
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_cajun_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:cajun
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:cajun
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_cajun_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:cajun
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:cajun
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_cajun_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:cajun
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:cajun
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_cajun_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:cajun
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:cajun
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_cajun_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:cajun
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:cajun
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_cajun_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:cajun
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:cajun
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_cajun_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:cajun
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:cajun
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_cajun_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:cajun
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:cajun
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_cajun_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:cajun
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_cajun_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_cajun_state = {
								every_scope_pop = {
									limit = {
										culture = cu:cajun
									}
									move_pop = scope:migration_fixes_home_cajun_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:assyrian
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:assyrian }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:assyrian }
							}
							save_temporary_scope_as = migration_fixes_home_assyrian_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_assyrian_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:assyrian } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_assyrian_state
						scope:migration_fixes_home_assyrian_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:assyrian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:assyrian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_assyrian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:assyrian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:assyrian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_assyrian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:assyrian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:assyrian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_assyrian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:assyrian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:assyrian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_assyrian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:assyrian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:assyrian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_assyrian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:assyrian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:assyrian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_assyrian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:assyrian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:assyrian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_assyrian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:assyrian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:assyrian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_assyrian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:assyrian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:assyrian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_assyrian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:assyrian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:assyrian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_assyrian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:assyrian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:assyrian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_assyrian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:assyrian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:assyrian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_assyrian_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:assyrian
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_assyrian_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_assyrian_state = {
								every_scope_pop = {
									limit = {
										culture = cu:assyrian
									}
									move_pop = scope:migration_fixes_home_assyrian_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:circassian
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:circassian }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:circassian }
							}
							save_temporary_scope_as = migration_fixes_home_circassian_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_circassian_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:circassian } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_circassian_state
						scope:migration_fixes_home_circassian_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:circassian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:circassian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_circassian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:circassian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:circassian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_circassian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:circassian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:circassian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_circassian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:circassian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:circassian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_circassian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:circassian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:circassian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_circassian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:circassian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:circassian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_circassian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:circassian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:circassian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_circassian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:circassian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:circassian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_circassian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:circassian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:circassian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_circassian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:circassian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:circassian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_circassian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:circassian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:circassian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_circassian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:circassian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:circassian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_circassian_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:circassian
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_circassian_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_circassian_state = {
								every_scope_pop = {
									limit = {
										culture = cu:circassian
									}
									move_pop = scope:migration_fixes_home_circassian_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:francoprovencal
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:francoprovencal }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:francoprovencal }
							}
							save_temporary_scope_as = migration_fixes_home_francoprovencal_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_francoprovencal_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:francoprovencal } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_francoprovencal_state
						scope:migration_fixes_home_francoprovencal_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:francoprovencal
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:francoprovencal
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_francoprovencal_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:francoprovencal
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:francoprovencal
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_francoprovencal_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:francoprovencal
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:francoprovencal
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_francoprovencal_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:francoprovencal
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:francoprovencal
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_francoprovencal_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:francoprovencal
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:francoprovencal
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_francoprovencal_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:francoprovencal
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:francoprovencal
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_francoprovencal_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:francoprovencal
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:francoprovencal
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_francoprovencal_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:francoprovencal
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:francoprovencal
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_francoprovencal_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:francoprovencal
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:francoprovencal
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_francoprovencal_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:francoprovencal
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:francoprovencal
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_francoprovencal_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:francoprovencal
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:francoprovencal
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_francoprovencal_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:francoprovencal
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:francoprovencal
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_francoprovencal_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:francoprovencal
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_francoprovencal_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_francoprovencal_state = {
								every_scope_pop = {
									limit = {
										culture = cu:francoprovencal
									}
									move_pop = scope:migration_fixes_home_francoprovencal_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:chechen
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:chechen }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:chechen }
							}
							save_temporary_scope_as = migration_fixes_home_chechen_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_chechen_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:chechen } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_chechen_state
						scope:migration_fixes_home_chechen_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:chechen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chechen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_chechen_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chechen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chechen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_chechen_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chechen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chechen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_chechen_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chechen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chechen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_chechen_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chechen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chechen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_chechen_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chechen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chechen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_chechen_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chechen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chechen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_chechen_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chechen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chechen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_chechen_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chechen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chechen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_chechen_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chechen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chechen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_chechen_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chechen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chechen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_chechen_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chechen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chechen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_chechen_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:chechen
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_chechen_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_chechen_state = {
								every_scope_pop = {
									limit = {
										culture = cu:chechen
									}
									move_pop = scope:migration_fixes_home_chechen_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:karelian
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:karelian }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:karelian }
							}
							save_temporary_scope_as = migration_fixes_home_karelian_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_karelian_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:karelian } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_karelian_state
						scope:migration_fixes_home_karelian_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:karelian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:karelian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_karelian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:karelian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:karelian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_karelian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:karelian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:karelian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_karelian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:karelian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:karelian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_karelian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:karelian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:karelian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_karelian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:karelian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:karelian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_karelian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:karelian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:karelian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_karelian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:karelian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:karelian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_karelian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:karelian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:karelian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_karelian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:karelian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:karelian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_karelian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:karelian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:karelian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_karelian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:karelian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:karelian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_karelian_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:karelian
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_karelian_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_karelian_state = {
								every_scope_pop = {
									limit = {
										culture = cu:karelian
									}
									move_pop = scope:migration_fixes_home_karelian_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:bashkir
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:bashkir }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:bashkir }
							}
							save_temporary_scope_as = migration_fixes_home_bashkir_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_bashkir_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:bashkir } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_bashkir_state
						scope:migration_fixes_home_bashkir_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:bashkir
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bashkir
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_bashkir_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bashkir
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bashkir
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_bashkir_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bashkir
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bashkir
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_bashkir_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bashkir
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bashkir
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_bashkir_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bashkir
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bashkir
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_bashkir_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bashkir
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bashkir
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_bashkir_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bashkir
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bashkir
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_bashkir_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bashkir
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bashkir
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_bashkir_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bashkir
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bashkir
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_bashkir_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bashkir
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bashkir
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_bashkir_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bashkir
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bashkir
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_bashkir_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bashkir
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bashkir
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_bashkir_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:bashkir
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_bashkir_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_bashkir_state = {
								every_scope_pop = {
									limit = {
										culture = cu:bashkir
									}
									move_pop = scope:migration_fixes_home_bashkir_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:buryat
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:buryat }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:buryat }
							}
							save_temporary_scope_as = migration_fixes_home_buryat_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_buryat_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:buryat } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_buryat_state
						scope:migration_fixes_home_buryat_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:buryat
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:buryat
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_buryat_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:buryat
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:buryat
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_buryat_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:buryat
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:buryat
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_buryat_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:buryat
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:buryat
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_buryat_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:buryat
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:buryat
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_buryat_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:buryat
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:buryat
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_buryat_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:buryat
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:buryat
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_buryat_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:buryat
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:buryat
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_buryat_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:buryat
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:buryat
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_buryat_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:buryat
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:buryat
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_buryat_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:buryat
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:buryat
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_buryat_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:buryat
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:buryat
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_buryat_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:buryat
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_buryat_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_buryat_state = {
								every_scope_pop = {
									limit = {
										culture = cu:buryat
									}
									move_pop = scope:migration_fixes_home_buryat_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:mordvin
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:mordvin }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:mordvin }
							}
							save_temporary_scope_as = migration_fixes_home_mordvin_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_mordvin_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:mordvin } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_mordvin_state
						scope:migration_fixes_home_mordvin_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:mordvin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mordvin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_mordvin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mordvin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mordvin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_mordvin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mordvin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mordvin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_mordvin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mordvin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mordvin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_mordvin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mordvin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mordvin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_mordvin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mordvin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mordvin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_mordvin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mordvin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mordvin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_mordvin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mordvin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mordvin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_mordvin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mordvin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mordvin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_mordvin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mordvin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mordvin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_mordvin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mordvin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mordvin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_mordvin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mordvin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mordvin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_mordvin_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:mordvin
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_mordvin_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_mordvin_state = {
								every_scope_pop = {
									limit = {
										culture = cu:mordvin
									}
									move_pop = scope:migration_fixes_home_mordvin_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:chuvash
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:chuvash }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:chuvash }
							}
							save_temporary_scope_as = migration_fixes_home_chuvash_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_chuvash_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:chuvash } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_chuvash_state
						scope:migration_fixes_home_chuvash_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:chuvash
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chuvash
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_chuvash_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chuvash
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chuvash
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_chuvash_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chuvash
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chuvash
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_chuvash_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chuvash
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chuvash
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_chuvash_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chuvash
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chuvash
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_chuvash_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chuvash
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chuvash
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_chuvash_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chuvash
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chuvash
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_chuvash_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chuvash
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chuvash
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_chuvash_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chuvash
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chuvash
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_chuvash_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chuvash
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chuvash
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_chuvash_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chuvash
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chuvash
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_chuvash_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chuvash
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chuvash
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_chuvash_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:chuvash
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_chuvash_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_chuvash_state = {
								every_scope_pop = {
									limit = {
										culture = cu:chuvash
									}
									move_pop = scope:migration_fixes_home_chuvash_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:mari
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:mari }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:mari }
							}
							save_temporary_scope_as = migration_fixes_home_mari_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_mari_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:mari } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_mari_state
						scope:migration_fixes_home_mari_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:mari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_mari_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_mari_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_mari_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_mari_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_mari_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_mari_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_mari_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_mari_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_mari_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_mari_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_mari_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_mari_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:mari
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_mari_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_mari_state = {
								every_scope_pop = {
									limit = {
										culture = cu:mari
									}
									move_pop = scope:migration_fixes_home_mari_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:udmurt
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:udmurt }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:udmurt }
							}
							save_temporary_scope_as = migration_fixes_home_udmurt_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_udmurt_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:udmurt } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_udmurt_state
						scope:migration_fixes_home_udmurt_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:udmurt
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:udmurt
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_udmurt_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:udmurt
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:udmurt
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_udmurt_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:udmurt
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:udmurt
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_udmurt_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:udmurt
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:udmurt
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_udmurt_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:udmurt
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:udmurt
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_udmurt_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:udmurt
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:udmurt
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_udmurt_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:udmurt
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:udmurt
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_udmurt_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:udmurt
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:udmurt
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_udmurt_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:udmurt
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:udmurt
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_udmurt_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:udmurt
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:udmurt
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_udmurt_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:udmurt
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:udmurt
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_udmurt_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:udmurt
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:udmurt
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_udmurt_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:udmurt
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_udmurt_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_udmurt_state = {
								every_scope_pop = {
									limit = {
										culture = cu:udmurt
									}
									move_pop = scope:migration_fixes_home_udmurt_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:mazanderani
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:mazanderani }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:mazanderani }
							}
							save_temporary_scope_as = migration_fixes_home_mazanderani_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_mazanderani_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:mazanderani } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_mazanderani_state
						scope:migration_fixes_home_mazanderani_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:mazanderani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mazanderani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_mazanderani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mazanderani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mazanderani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_mazanderani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mazanderani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mazanderani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_mazanderani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mazanderani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mazanderani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_mazanderani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mazanderani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mazanderani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_mazanderani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mazanderani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mazanderani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_mazanderani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mazanderani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mazanderani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_mazanderani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mazanderani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mazanderani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_mazanderani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mazanderani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mazanderani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_mazanderani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mazanderani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mazanderani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_mazanderani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mazanderani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mazanderani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_mazanderani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mazanderani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mazanderani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_mazanderani_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:mazanderani
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_mazanderani_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_mazanderani_state = {
								every_scope_pop = {
									limit = {
										culture = cu:mazanderani
									}
									move_pop = scope:migration_fixes_home_mazanderani_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:luri
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:luri }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:luri }
							}
							save_temporary_scope_as = migration_fixes_home_luri_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_luri_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:luri } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_luri_state
						scope:migration_fixes_home_luri_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:luri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:luri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_luri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:luri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:luri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_luri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:luri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:luri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_luri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:luri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:luri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_luri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:luri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:luri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_luri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:luri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:luri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_luri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:luri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:luri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_luri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:luri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:luri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_luri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:luri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:luri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_luri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:luri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:luri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_luri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:luri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:luri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_luri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:luri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:luri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_luri_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:luri
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_luri_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_luri_state = {
								every_scope_pop = {
									limit = {
										culture = cu:luri
									}
									move_pop = scope:migration_fixes_home_luri_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:kho
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:kho }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:kho }
							}
							save_temporary_scope_as = migration_fixes_home_kho_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_kho_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:kho } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_kho_state
						scope:migration_fixes_home_kho_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:kho
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kho
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_kho_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kho
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kho
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_kho_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kho
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kho
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_kho_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kho
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kho
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_kho_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kho
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kho
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_kho_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kho
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kho
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_kho_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kho
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kho
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_kho_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kho
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kho
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_kho_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kho
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kho
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_kho_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kho
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kho
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_kho_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kho
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kho
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_kho_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kho
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kho
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_kho_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:kho
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_kho_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_kho_state = {
								every_scope_pop = {
									limit = {
										culture = cu:kho
									}
									move_pop = scope:migration_fixes_home_kho_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:north_german
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:north_german }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:north_german }
							}
							save_temporary_scope_as = migration_fixes_home_north_german_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_north_german_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:north_german } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_north_german_state
						scope:migration_fixes_home_north_german_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:north_german
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:north_german
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_north_german_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:north_german
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:north_german
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_north_german_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:north_german
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:north_german
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_north_german_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:north_german
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:north_german
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_north_german_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:north_german
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:north_german
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_north_german_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:north_german
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:north_german
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_north_german_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:north_german
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:north_german
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_north_german_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:north_german
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:north_german
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_north_german_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:north_german
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:north_german
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_north_german_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:north_german
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:north_german
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_north_german_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:north_german
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:north_german
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_north_german_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:north_german
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:north_german
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_north_german_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:north_german
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_north_german_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_north_german_state = {
								every_scope_pop = {
									limit = {
										culture = cu:north_german
									}
									move_pop = scope:migration_fixes_home_north_german_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:south_german
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:south_german }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:south_german }
							}
							save_temporary_scope_as = migration_fixes_home_south_german_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_south_german_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:south_german } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_south_german_state
						scope:migration_fixes_home_south_german_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:south_german
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:south_german
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_south_german_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:south_german
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:south_german
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_south_german_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:south_german
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:south_german
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_south_german_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:south_german
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:south_german
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_south_german_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:south_german
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:south_german
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_south_german_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:south_german
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:south_german
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_south_german_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:south_german
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:south_german
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_south_german_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:south_german
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:south_german
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_south_german_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:south_german
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:south_german
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_south_german_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:south_german
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:south_german
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_south_german_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:south_german
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:south_german
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_south_german_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:south_german
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:south_german
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_south_german_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:south_german
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_south_german_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_south_german_state = {
								every_scope_pop = {
									limit = {
										culture = cu:south_german
									}
									move_pop = scope:migration_fixes_home_south_german_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:ashkenazi
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:ashkenazi }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:ashkenazi }
							}
							save_temporary_scope_as = migration_fixes_home_ashkenazi_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_ashkenazi_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:ashkenazi } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_ashkenazi_state
						scope:migration_fixes_home_ashkenazi_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:ashkenazi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ashkenazi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_ashkenazi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ashkenazi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ashkenazi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_ashkenazi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ashkenazi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ashkenazi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_ashkenazi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ashkenazi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ashkenazi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_ashkenazi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ashkenazi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ashkenazi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_ashkenazi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ashkenazi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ashkenazi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_ashkenazi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ashkenazi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ashkenazi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_ashkenazi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ashkenazi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ashkenazi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_ashkenazi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ashkenazi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ashkenazi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_ashkenazi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ashkenazi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ashkenazi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_ashkenazi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ashkenazi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ashkenazi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_ashkenazi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ashkenazi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ashkenazi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_ashkenazi_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:ashkenazi
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_ashkenazi_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_ashkenazi_state = {
								every_scope_pop = {
									limit = {
										culture = cu:ashkenazi
									}
									move_pop = scope:migration_fixes_home_ashkenazi_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:dutch
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:dutch }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:dutch }
							}
							save_temporary_scope_as = migration_fixes_home_dutch_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_dutch_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:dutch } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_dutch_state
						scope:migration_fixes_home_dutch_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:dutch
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dutch
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_dutch_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dutch
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dutch
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_dutch_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dutch
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dutch
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_dutch_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dutch
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dutch
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_dutch_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dutch
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dutch
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_dutch_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dutch
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dutch
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_dutch_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dutch
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dutch
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_dutch_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dutch
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dutch
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_dutch_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dutch
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dutch
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_dutch_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dutch
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dutch
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_dutch_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dutch
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dutch
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_dutch_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dutch
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dutch
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_dutch_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:dutch
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_dutch_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_dutch_state = {
								every_scope_pop = {
									limit = {
										culture = cu:dutch
									}
									move_pop = scope:migration_fixes_home_dutch_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:flemish
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:flemish }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:flemish }
							}
							save_temporary_scope_as = migration_fixes_home_flemish_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_flemish_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:flemish } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_flemish_state
						scope:migration_fixes_home_flemish_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:flemish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:flemish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_flemish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:flemish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:flemish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_flemish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:flemish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:flemish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_flemish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:flemish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:flemish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_flemish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:flemish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:flemish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_flemish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:flemish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:flemish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_flemish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:flemish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:flemish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_flemish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:flemish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:flemish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_flemish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:flemish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:flemish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_flemish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:flemish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:flemish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_flemish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:flemish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:flemish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_flemish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:flemish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:flemish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_flemish_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:flemish
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_flemish_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_flemish_state = {
								every_scope_pop = {
									limit = {
										culture = cu:flemish
									}
									move_pop = scope:migration_fixes_home_flemish_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:wallonian
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:wallonian }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:wallonian }
							}
							save_temporary_scope_as = migration_fixes_home_wallonian_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_wallonian_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:wallonian } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_wallonian_state
						scope:migration_fixes_home_wallonian_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:wallonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:wallonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_wallonian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:wallonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:wallonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_wallonian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:wallonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:wallonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_wallonian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:wallonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:wallonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_wallonian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:wallonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:wallonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_wallonian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:wallonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:wallonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_wallonian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:wallonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:wallonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_wallonian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:wallonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:wallonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_wallonian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:wallonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:wallonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_wallonian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:wallonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:wallonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_wallonian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:wallonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:wallonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_wallonian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:wallonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:wallonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_wallonian_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:wallonian
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_wallonian_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_wallonian_state = {
								every_scope_pop = {
									limit = {
										culture = cu:wallonian
									}
									move_pop = scope:migration_fixes_home_wallonian_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:boer
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:boer }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:boer }
							}
							save_temporary_scope_as = migration_fixes_home_boer_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_boer_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:boer } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_boer_state
						scope:migration_fixes_home_boer_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:boer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:boer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_boer_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:boer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:boer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_boer_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:boer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:boer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_boer_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:boer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:boer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_boer_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:boer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:boer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_boer_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:boer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:boer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_boer_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:boer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:boer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_boer_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:boer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:boer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_boer_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:boer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:boer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_boer_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:boer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:boer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_boer_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:boer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:boer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_boer_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:boer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:boer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_boer_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:boer
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_boer_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_boer_state = {
								every_scope_pop = {
									limit = {
										culture = cu:boer
									}
									move_pop = scope:migration_fixes_home_boer_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:alemannic
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:alemannic }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:alemannic }
							}
							save_temporary_scope_as = migration_fixes_home_alemannic_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_alemannic_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:alemannic } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_alemannic_state
						scope:migration_fixes_home_alemannic_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:alemannic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:alemannic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_alemannic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:alemannic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:alemannic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_alemannic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:alemannic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:alemannic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_alemannic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:alemannic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:alemannic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_alemannic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:alemannic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:alemannic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_alemannic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:alemannic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:alemannic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_alemannic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:alemannic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:alemannic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_alemannic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:alemannic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:alemannic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_alemannic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:alemannic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:alemannic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_alemannic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:alemannic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:alemannic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_alemannic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:alemannic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:alemannic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_alemannic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:alemannic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:alemannic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_alemannic_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:alemannic
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_alemannic_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_alemannic_state = {
								every_scope_pop = {
									limit = {
										culture = cu:alemannic
									}
									move_pop = scope:migration_fixes_home_alemannic_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:swedish
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:swedish }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:swedish }
							}
							save_temporary_scope_as = migration_fixes_home_swedish_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_swedish_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:swedish } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_swedish_state
						scope:migration_fixes_home_swedish_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:swedish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:swedish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_swedish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:swedish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:swedish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_swedish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:swedish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:swedish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_swedish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:swedish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:swedish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_swedish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:swedish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:swedish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_swedish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:swedish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:swedish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_swedish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:swedish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:swedish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_swedish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:swedish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:swedish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_swedish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:swedish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:swedish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_swedish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:swedish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:swedish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_swedish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:swedish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:swedish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_swedish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:swedish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:swedish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_swedish_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:swedish
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_swedish_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_swedish_state = {
								every_scope_pop = {
									limit = {
										culture = cu:swedish
									}
									move_pop = scope:migration_fixes_home_swedish_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:danish
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:danish }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:danish }
							}
							save_temporary_scope_as = migration_fixes_home_danish_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_danish_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:danish } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_danish_state
						scope:migration_fixes_home_danish_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:danish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:danish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_danish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:danish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:danish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_danish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:danish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:danish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_danish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:danish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:danish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_danish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:danish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:danish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_danish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:danish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:danish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_danish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:danish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:danish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_danish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:danish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:danish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_danish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:danish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:danish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_danish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:danish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:danish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_danish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:danish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:danish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_danish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:danish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:danish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_danish_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:danish
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_danish_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_danish_state = {
								every_scope_pop = {
									limit = {
										culture = cu:danish
									}
									move_pop = scope:migration_fixes_home_danish_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:norwegian
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:norwegian }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:norwegian }
							}
							save_temporary_scope_as = migration_fixes_home_norwegian_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_norwegian_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:norwegian } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_norwegian_state
						scope:migration_fixes_home_norwegian_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:norwegian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:norwegian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_norwegian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:norwegian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:norwegian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_norwegian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:norwegian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:norwegian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_norwegian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:norwegian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:norwegian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_norwegian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:norwegian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:norwegian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_norwegian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:norwegian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:norwegian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_norwegian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:norwegian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:norwegian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_norwegian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:norwegian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:norwegian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_norwegian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:norwegian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:norwegian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_norwegian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:norwegian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:norwegian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_norwegian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:norwegian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:norwegian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_norwegian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:norwegian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:norwegian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_norwegian_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:norwegian
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_norwegian_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_norwegian_state = {
								every_scope_pop = {
									limit = {
										culture = cu:norwegian
									}
									move_pop = scope:migration_fixes_home_norwegian_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:icelandic
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:icelandic }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:icelandic }
							}
							save_temporary_scope_as = migration_fixes_home_icelandic_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_icelandic_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:icelandic } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_icelandic_state
						scope:migration_fixes_home_icelandic_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:icelandic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:icelandic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_icelandic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:icelandic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:icelandic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_icelandic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:icelandic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:icelandic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_icelandic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:icelandic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:icelandic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_icelandic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:icelandic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:icelandic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_icelandic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:icelandic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:icelandic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_icelandic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:icelandic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:icelandic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_icelandic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:icelandic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:icelandic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_icelandic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:icelandic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:icelandic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_icelandic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:icelandic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:icelandic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_icelandic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:icelandic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:icelandic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_icelandic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:icelandic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:icelandic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_icelandic_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:icelandic
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_icelandic_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_icelandic_state = {
								every_scope_pop = {
									limit = {
										culture = cu:icelandic
									}
									move_pop = scope:migration_fixes_home_icelandic_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:finnish
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:finnish }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:finnish }
							}
							save_temporary_scope_as = migration_fixes_home_finnish_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_finnish_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:finnish } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_finnish_state
						scope:migration_fixes_home_finnish_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:finnish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:finnish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_finnish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:finnish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:finnish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_finnish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:finnish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:finnish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_finnish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:finnish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:finnish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_finnish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:finnish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:finnish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_finnish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:finnish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:finnish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_finnish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:finnish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:finnish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_finnish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:finnish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:finnish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_finnish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:finnish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:finnish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_finnish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:finnish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:finnish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_finnish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:finnish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:finnish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_finnish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:finnish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:finnish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_finnish_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:finnish
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_finnish_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_finnish_state = {
								every_scope_pop = {
									limit = {
										culture = cu:finnish
									}
									move_pop = scope:migration_fixes_home_finnish_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:sami
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:sami }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:sami }
							}
							save_temporary_scope_as = migration_fixes_home_sami_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_sami_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:sami } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_sami_state
						scope:migration_fixes_home_sami_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:sami
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sami
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_sami_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sami
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sami
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_sami_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sami
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sami
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_sami_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sami
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sami
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_sami_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sami
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sami
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_sami_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sami
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sami
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_sami_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sami
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sami
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_sami_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sami
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sami
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_sami_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sami
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sami
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_sami_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sami
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sami
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_sami_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sami
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sami
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_sami_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sami
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sami
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_sami_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:sami
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_sami_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_sami_state = {
								every_scope_pop = {
									limit = {
										culture = cu:sami
									}
									move_pop = scope:migration_fixes_home_sami_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:british
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:british }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:british }
							}
							save_temporary_scope_as = migration_fixes_home_british_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_british_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:british } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_british_state
						scope:migration_fixes_home_british_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:british
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:british
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_british_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:british
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:british
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_british_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:british
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:british
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_british_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:british
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:british
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_british_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:british
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:british
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_british_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:british
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:british
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_british_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:british
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:british
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_british_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:british
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:british
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_british_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:british
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:british
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_british_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:british
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:british
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_british_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:british
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:british
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_british_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:british
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:british
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_british_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:british
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_british_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_british_state = {
								every_scope_pop = {
									limit = {
										culture = cu:british
									}
									move_pop = scope:migration_fixes_home_british_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:irish
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:irish }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:irish }
							}
							save_temporary_scope_as = migration_fixes_home_irish_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_irish_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:irish } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_irish_state
						scope:migration_fixes_home_irish_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:irish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:irish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_irish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:irish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:irish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_irish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:irish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:irish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_irish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:irish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:irish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_irish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:irish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:irish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_irish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:irish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:irish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_irish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:irish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:irish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_irish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:irish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:irish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_irish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:irish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:irish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_irish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:irish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:irish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_irish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:irish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:irish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_irish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:irish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:irish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_irish_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:irish
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_irish_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_irish_state = {
								every_scope_pop = {
									limit = {
										culture = cu:irish
									}
									move_pop = scope:migration_fixes_home_irish_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:australian
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:australian }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:australian }
							}
							save_temporary_scope_as = migration_fixes_home_australian_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_australian_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:australian } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_australian_state
						scope:migration_fixes_home_australian_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:australian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:australian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_australian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:australian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:australian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_australian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:australian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:australian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_australian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:australian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:australian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_australian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:australian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:australian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_australian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:australian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:australian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_australian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:australian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:australian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_australian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:australian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:australian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_australian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:australian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:australian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_australian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:australian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:australian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_australian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:australian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:australian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_australian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:australian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:australian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_australian_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:australian
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_australian_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_australian_state = {
								every_scope_pop = {
									limit = {
										culture = cu:australian
									}
									move_pop = scope:migration_fixes_home_australian_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:north_italian
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:north_italian }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:north_italian }
							}
							save_temporary_scope_as = migration_fixes_home_north_italian_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_north_italian_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:north_italian } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_north_italian_state
						scope:migration_fixes_home_north_italian_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:north_italian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:north_italian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_north_italian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:north_italian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:north_italian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_north_italian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:north_italian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:north_italian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_north_italian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:north_italian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:north_italian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_north_italian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:north_italian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:north_italian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_north_italian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:north_italian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:north_italian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_north_italian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:north_italian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:north_italian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_north_italian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:north_italian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:north_italian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_north_italian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:north_italian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:north_italian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_north_italian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:north_italian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:north_italian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_north_italian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:north_italian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:north_italian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_north_italian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:north_italian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:north_italian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_north_italian_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:north_italian
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_north_italian_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_north_italian_state = {
								every_scope_pop = {
									limit = {
										culture = cu:north_italian
									}
									move_pop = scope:migration_fixes_home_north_italian_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:south_italian
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:south_italian }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:south_italian }
							}
							save_temporary_scope_as = migration_fixes_home_south_italian_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_south_italian_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:south_italian } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_south_italian_state
						scope:migration_fixes_home_south_italian_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:south_italian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:south_italian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_south_italian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:south_italian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:south_italian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_south_italian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:south_italian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:south_italian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_south_italian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:south_italian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:south_italian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_south_italian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:south_italian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:south_italian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_south_italian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:south_italian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:south_italian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_south_italian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:south_italian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:south_italian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_south_italian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:south_italian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:south_italian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_south_italian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:south_italian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:south_italian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_south_italian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:south_italian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:south_italian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_south_italian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:south_italian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:south_italian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_south_italian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:south_italian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:south_italian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_south_italian_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:south_italian
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_south_italian_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_south_italian_state = {
								every_scope_pop = {
									limit = {
										culture = cu:south_italian
									}
									move_pop = scope:migration_fixes_home_south_italian_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:maltese
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:maltese }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:maltese }
							}
							save_temporary_scope_as = migration_fixes_home_maltese_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_maltese_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:maltese } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_maltese_state
						scope:migration_fixes_home_maltese_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:maltese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:maltese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_maltese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:maltese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:maltese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_maltese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:maltese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:maltese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_maltese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:maltese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:maltese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_maltese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:maltese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:maltese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_maltese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:maltese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:maltese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_maltese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:maltese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:maltese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_maltese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:maltese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:maltese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_maltese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:maltese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:maltese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_maltese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:maltese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:maltese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_maltese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:maltese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:maltese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_maltese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:maltese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:maltese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_maltese_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:maltese
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_maltese_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_maltese_state = {
								every_scope_pop = {
									limit = {
										culture = cu:maltese
									}
									move_pop = scope:migration_fixes_home_maltese_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:basque
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:basque }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:basque }
							}
							save_temporary_scope_as = migration_fixes_home_basque_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_basque_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:basque } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_basque_state
						scope:migration_fixes_home_basque_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:basque
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:basque
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_basque_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:basque
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:basque
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_basque_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:basque
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:basque
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_basque_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:basque
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:basque
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_basque_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:basque
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:basque
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_basque_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:basque
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:basque
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_basque_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:basque
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:basque
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_basque_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:basque
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:basque
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_basque_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:basque
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:basque
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_basque_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:basque
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:basque
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_basque_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:basque
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:basque
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_basque_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:basque
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:basque
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_basque_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:basque
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_basque_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_basque_state = {
								every_scope_pop = {
									limit = {
										culture = cu:basque
									}
									move_pop = scope:migration_fixes_home_basque_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:spanish
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:spanish }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:spanish }
							}
							save_temporary_scope_as = migration_fixes_home_spanish_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_spanish_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:spanish } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_spanish_state
						scope:migration_fixes_home_spanish_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:spanish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:spanish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_spanish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:spanish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:spanish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_spanish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:spanish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:spanish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_spanish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:spanish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:spanish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_spanish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:spanish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:spanish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_spanish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:spanish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:spanish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_spanish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:spanish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:spanish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_spanish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:spanish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:spanish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_spanish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:spanish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:spanish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_spanish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:spanish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:spanish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_spanish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:spanish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:spanish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_spanish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:spanish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:spanish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_spanish_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:spanish
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_spanish_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_spanish_state = {
								every_scope_pop = {
									limit = {
										culture = cu:spanish
									}
									move_pop = scope:migration_fixes_home_spanish_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:catalan
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:catalan }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:catalan }
							}
							save_temporary_scope_as = migration_fixes_home_catalan_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_catalan_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:catalan } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_catalan_state
						scope:migration_fixes_home_catalan_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:catalan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:catalan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_catalan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:catalan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:catalan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_catalan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:catalan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:catalan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_catalan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:catalan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:catalan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_catalan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:catalan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:catalan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_catalan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:catalan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:catalan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_catalan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:catalan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:catalan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_catalan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:catalan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:catalan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_catalan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:catalan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:catalan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_catalan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:catalan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:catalan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_catalan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:catalan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:catalan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_catalan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:catalan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:catalan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_catalan_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:catalan
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_catalan_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_catalan_state = {
								every_scope_pop = {
									limit = {
										culture = cu:catalan
									}
									move_pop = scope:migration_fixes_home_catalan_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:portuguese
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:portuguese }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:portuguese }
							}
							save_temporary_scope_as = migration_fixes_home_portuguese_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_portuguese_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:portuguese } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_portuguese_state
						scope:migration_fixes_home_portuguese_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:portuguese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:portuguese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_portuguese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:portuguese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:portuguese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_portuguese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:portuguese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:portuguese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_portuguese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:portuguese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:portuguese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_portuguese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:portuguese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:portuguese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_portuguese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:portuguese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:portuguese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_portuguese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:portuguese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:portuguese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_portuguese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:portuguese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:portuguese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_portuguese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:portuguese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:portuguese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_portuguese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:portuguese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:portuguese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_portuguese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:portuguese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:portuguese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_portuguese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:portuguese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:portuguese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_portuguese_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:portuguese
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_portuguese_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_portuguese_state = {
								every_scope_pop = {
									limit = {
										culture = cu:portuguese
									}
									move_pop = scope:migration_fixes_home_portuguese_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:french
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:french }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:french }
							}
							save_temporary_scope_as = migration_fixes_home_french_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_french_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:french } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_french_state
						scope:migration_fixes_home_french_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:french
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:french
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_french_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:french
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:french
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_french_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:french
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:french
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_french_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:french
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:french
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_french_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:french
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:french
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_french_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:french
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:french
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_french_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:french
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:french
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_french_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:french
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:french
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_french_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:french
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:french
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_french_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:french
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:french
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_french_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:french
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:french
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_french_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:french
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:french
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_french_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:french
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_french_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_french_state = {
								every_scope_pop = {
									limit = {
										culture = cu:french
									}
									move_pop = scope:migration_fixes_home_french_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:occitan
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:occitan }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:occitan }
							}
							save_temporary_scope_as = migration_fixes_home_occitan_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_occitan_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:occitan } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_occitan_state
						scope:migration_fixes_home_occitan_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:occitan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:occitan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_occitan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:occitan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:occitan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_occitan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:occitan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:occitan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_occitan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:occitan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:occitan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_occitan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:occitan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:occitan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_occitan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:occitan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:occitan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_occitan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:occitan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:occitan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_occitan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:occitan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:occitan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_occitan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:occitan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:occitan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_occitan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:occitan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:occitan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_occitan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:occitan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:occitan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_occitan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:occitan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:occitan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_occitan_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:occitan
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_occitan_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_occitan_state = {
								every_scope_pop = {
									limit = {
										culture = cu:occitan
									}
									move_pop = scope:migration_fixes_home_occitan_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:breton
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:breton }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:breton }
							}
							save_temporary_scope_as = migration_fixes_home_breton_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_breton_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:breton } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_breton_state
						scope:migration_fixes_home_breton_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:breton
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:breton
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_breton_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:breton
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:breton
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_breton_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:breton
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:breton
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_breton_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:breton
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:breton
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_breton_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:breton
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:breton
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_breton_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:breton
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:breton
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_breton_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:breton
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:breton
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_breton_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:breton
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:breton
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_breton_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:breton
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:breton
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_breton_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:breton
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:breton
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_breton_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:breton
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:breton
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_breton_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:breton
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:breton
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_breton_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:breton
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_breton_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_breton_state = {
								every_scope_pop = {
									limit = {
										culture = cu:breton
									}
									move_pop = scope:migration_fixes_home_breton_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:croat
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:croat }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:croat }
							}
							save_temporary_scope_as = migration_fixes_home_croat_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_croat_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:croat } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_croat_state
						scope:migration_fixes_home_croat_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:croat
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:croat
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_croat_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:croat
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:croat
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_croat_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:croat
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:croat
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_croat_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:croat
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:croat
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_croat_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:croat
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:croat
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_croat_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:croat
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:croat
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_croat_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:croat
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:croat
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_croat_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:croat
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:croat
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_croat_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:croat
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:croat
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_croat_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:croat
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:croat
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_croat_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:croat
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:croat
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_croat_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:croat
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:croat
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_croat_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:croat
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_croat_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_croat_state = {
								every_scope_pop = {
									limit = {
										culture = cu:croat
									}
									move_pop = scope:migration_fixes_home_croat_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:serb
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:serb }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:serb }
							}
							save_temporary_scope_as = migration_fixes_home_serb_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_serb_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:serb } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_serb_state
						scope:migration_fixes_home_serb_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:serb
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:serb
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_serb_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:serb
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:serb
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_serb_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:serb
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:serb
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_serb_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:serb
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:serb
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_serb_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:serb
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:serb
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_serb_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:serb
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:serb
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_serb_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:serb
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:serb
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_serb_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:serb
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:serb
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_serb_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:serb
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:serb
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_serb_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:serb
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:serb
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_serb_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:serb
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:serb
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_serb_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:serb
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:serb
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_serb_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:serb
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_serb_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_serb_state = {
								every_scope_pop = {
									limit = {
										culture = cu:serb
									}
									move_pop = scope:migration_fixes_home_serb_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:bulgarian
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:bulgarian }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:bulgarian }
							}
							save_temporary_scope_as = migration_fixes_home_bulgarian_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_bulgarian_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:bulgarian } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_bulgarian_state
						scope:migration_fixes_home_bulgarian_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:bulgarian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bulgarian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_bulgarian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bulgarian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bulgarian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_bulgarian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bulgarian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bulgarian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_bulgarian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bulgarian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bulgarian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_bulgarian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bulgarian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bulgarian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_bulgarian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bulgarian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bulgarian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_bulgarian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bulgarian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bulgarian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_bulgarian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bulgarian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bulgarian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_bulgarian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bulgarian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bulgarian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_bulgarian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bulgarian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bulgarian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_bulgarian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bulgarian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bulgarian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_bulgarian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bulgarian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bulgarian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_bulgarian_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:bulgarian
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_bulgarian_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_bulgarian_state = {
								every_scope_pop = {
									limit = {
										culture = cu:bulgarian
									}
									move_pop = scope:migration_fixes_home_bulgarian_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:albanian
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:albanian }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:albanian }
							}
							save_temporary_scope_as = migration_fixes_home_albanian_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_albanian_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:albanian } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_albanian_state
						scope:migration_fixes_home_albanian_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:albanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:albanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_albanian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:albanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:albanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_albanian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:albanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:albanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_albanian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:albanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:albanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_albanian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:albanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:albanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_albanian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:albanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:albanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_albanian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:albanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:albanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_albanian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:albanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:albanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_albanian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:albanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:albanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_albanian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:albanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:albanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_albanian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:albanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:albanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_albanian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:albanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:albanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_albanian_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:albanian
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_albanian_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_albanian_state = {
								every_scope_pop = {
									limit = {
										culture = cu:albanian
									}
									move_pop = scope:migration_fixes_home_albanian_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:slovene
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:slovene }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:slovene }
							}
							save_temporary_scope_as = migration_fixes_home_slovene_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_slovene_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:slovene } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_slovene_state
						scope:migration_fixes_home_slovene_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:slovene
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:slovene
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_slovene_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:slovene
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:slovene
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_slovene_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:slovene
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:slovene
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_slovene_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:slovene
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:slovene
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_slovene_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:slovene
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:slovene
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_slovene_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:slovene
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:slovene
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_slovene_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:slovene
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:slovene
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_slovene_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:slovene
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:slovene
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_slovene_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:slovene
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:slovene
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_slovene_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:slovene
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:slovene
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_slovene_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:slovene
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:slovene
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_slovene_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:slovene
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:slovene
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_slovene_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:slovene
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_slovene_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_slovene_state = {
								every_scope_pop = {
									limit = {
										culture = cu:slovene
									}
									move_pop = scope:migration_fixes_home_slovene_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:bosniak
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:bosniak }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:bosniak }
							}
							save_temporary_scope_as = migration_fixes_home_bosniak_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_bosniak_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:bosniak } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_bosniak_state
						scope:migration_fixes_home_bosniak_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:bosniak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bosniak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_bosniak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bosniak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bosniak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_bosniak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bosniak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bosniak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_bosniak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bosniak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bosniak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_bosniak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bosniak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bosniak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_bosniak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bosniak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bosniak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_bosniak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bosniak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bosniak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_bosniak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bosniak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bosniak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_bosniak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bosniak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bosniak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_bosniak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bosniak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bosniak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_bosniak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bosniak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bosniak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_bosniak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bosniak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bosniak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_bosniak_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:bosniak
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_bosniak_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_bosniak_state = {
								every_scope_pop = {
									limit = {
										culture = cu:bosniak
									}
									move_pop = scope:migration_fixes_home_bosniak_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:romanian
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:romanian }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:romanian }
							}
							save_temporary_scope_as = migration_fixes_home_romanian_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_romanian_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:romanian } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_romanian_state
						scope:migration_fixes_home_romanian_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:romanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:romanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_romanian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:romanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:romanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_romanian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:romanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:romanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_romanian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:romanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:romanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_romanian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:romanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:romanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_romanian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:romanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:romanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_romanian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:romanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:romanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_romanian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:romanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:romanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_romanian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:romanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:romanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_romanian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:romanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:romanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_romanian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:romanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:romanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_romanian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:romanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:romanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_romanian_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:romanian
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_romanian_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_romanian_state = {
								every_scope_pop = {
									limit = {
										culture = cu:romanian
									}
									move_pop = scope:migration_fixes_home_romanian_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:hungarian
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:hungarian }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:hungarian }
							}
							save_temporary_scope_as = migration_fixes_home_hungarian_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_hungarian_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:hungarian } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_hungarian_state
						scope:migration_fixes_home_hungarian_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:hungarian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hungarian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_hungarian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hungarian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hungarian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_hungarian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hungarian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hungarian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_hungarian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hungarian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hungarian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_hungarian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hungarian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hungarian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_hungarian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hungarian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hungarian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_hungarian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hungarian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hungarian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_hungarian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hungarian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hungarian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_hungarian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hungarian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hungarian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_hungarian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hungarian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hungarian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_hungarian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hungarian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hungarian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_hungarian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hungarian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hungarian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_hungarian_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:hungarian
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_hungarian_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_hungarian_state = {
								every_scope_pop = {
									limit = {
										culture = cu:hungarian
									}
									move_pop = scope:migration_fixes_home_hungarian_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:polish
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:polish }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:polish }
							}
							save_temporary_scope_as = migration_fixes_home_polish_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_polish_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:polish } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_polish_state
						scope:migration_fixes_home_polish_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:polish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:polish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_polish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:polish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:polish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_polish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:polish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:polish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_polish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:polish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:polish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_polish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:polish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:polish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_polish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:polish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:polish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_polish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:polish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:polish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_polish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:polish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:polish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_polish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:polish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:polish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_polish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:polish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:polish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_polish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:polish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:polish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_polish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:polish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:polish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_polish_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:polish
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_polish_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_polish_state = {
								every_scope_pop = {
									limit = {
										culture = cu:polish
									}
									move_pop = scope:migration_fixes_home_polish_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:lithuanian
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:lithuanian }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:lithuanian }
							}
							save_temporary_scope_as = migration_fixes_home_lithuanian_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_lithuanian_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:lithuanian } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_lithuanian_state
						scope:migration_fixes_home_lithuanian_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:lithuanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lithuanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_lithuanian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lithuanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lithuanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_lithuanian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lithuanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lithuanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_lithuanian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lithuanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lithuanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_lithuanian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lithuanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lithuanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_lithuanian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lithuanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lithuanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_lithuanian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lithuanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lithuanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_lithuanian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lithuanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lithuanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_lithuanian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lithuanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lithuanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_lithuanian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lithuanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lithuanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_lithuanian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lithuanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lithuanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_lithuanian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lithuanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lithuanian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_lithuanian_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:lithuanian
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_lithuanian_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_lithuanian_state = {
								every_scope_pop = {
									limit = {
										culture = cu:lithuanian
									}
									move_pop = scope:migration_fixes_home_lithuanian_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:czech
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:czech }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:czech }
							}
							save_temporary_scope_as = migration_fixes_home_czech_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_czech_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:czech } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_czech_state
						scope:migration_fixes_home_czech_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:czech
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:czech
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_czech_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:czech
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:czech
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_czech_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:czech
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:czech
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_czech_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:czech
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:czech
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_czech_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:czech
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:czech
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_czech_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:czech
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:czech
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_czech_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:czech
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:czech
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_czech_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:czech
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:czech
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_czech_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:czech
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:czech
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_czech_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:czech
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:czech
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_czech_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:czech
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:czech
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_czech_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:czech
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:czech
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_czech_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:czech
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_czech_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_czech_state = {
								every_scope_pop = {
									limit = {
										culture = cu:czech
									}
									move_pop = scope:migration_fixes_home_czech_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:slovak
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:slovak }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:slovak }
							}
							save_temporary_scope_as = migration_fixes_home_slovak_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_slovak_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:slovak } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_slovak_state
						scope:migration_fixes_home_slovak_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:slovak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:slovak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_slovak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:slovak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:slovak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_slovak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:slovak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:slovak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_slovak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:slovak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:slovak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_slovak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:slovak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:slovak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_slovak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:slovak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:slovak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_slovak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:slovak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:slovak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_slovak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:slovak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:slovak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_slovak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:slovak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:slovak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_slovak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:slovak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:slovak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_slovak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:slovak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:slovak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_slovak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:slovak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:slovak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_slovak_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:slovak
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_slovak_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_slovak_state = {
								every_scope_pop = {
									limit = {
										culture = cu:slovak
									}
									move_pop = scope:migration_fixes_home_slovak_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:russian
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:russian }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:russian }
							}
							save_temporary_scope_as = migration_fixes_home_russian_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_russian_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:russian } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_russian_state
						scope:migration_fixes_home_russian_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:russian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:russian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_russian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:russian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:russian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_russian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:russian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:russian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_russian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:russian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:russian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_russian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:russian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:russian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_russian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:russian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:russian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_russian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:russian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:russian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_russian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:russian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:russian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_russian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:russian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:russian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_russian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:russian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:russian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_russian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:russian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:russian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_russian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:russian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:russian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_russian_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:russian
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_russian_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_russian_state = {
								every_scope_pop = {
									limit = {
										culture = cu:russian
									}
									move_pop = scope:migration_fixes_home_russian_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:byelorussian
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:byelorussian }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:byelorussian }
							}
							save_temporary_scope_as = migration_fixes_home_byelorussian_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_byelorussian_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:byelorussian } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_byelorussian_state
						scope:migration_fixes_home_byelorussian_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:byelorussian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:byelorussian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_byelorussian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:byelorussian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:byelorussian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_byelorussian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:byelorussian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:byelorussian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_byelorussian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:byelorussian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:byelorussian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_byelorussian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:byelorussian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:byelorussian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_byelorussian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:byelorussian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:byelorussian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_byelorussian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:byelorussian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:byelorussian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_byelorussian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:byelorussian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:byelorussian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_byelorussian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:byelorussian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:byelorussian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_byelorussian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:byelorussian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:byelorussian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_byelorussian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:byelorussian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:byelorussian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_byelorussian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:byelorussian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:byelorussian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_byelorussian_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:byelorussian
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_byelorussian_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_byelorussian_state = {
								every_scope_pop = {
									limit = {
										culture = cu:byelorussian
									}
									move_pop = scope:migration_fixes_home_byelorussian_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:ukrainian
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:ukrainian }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:ukrainian }
							}
							save_temporary_scope_as = migration_fixes_home_ukrainian_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_ukrainian_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:ukrainian } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_ukrainian_state
						scope:migration_fixes_home_ukrainian_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:ukrainian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ukrainian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_ukrainian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ukrainian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ukrainian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_ukrainian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ukrainian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ukrainian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_ukrainian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ukrainian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ukrainian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_ukrainian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ukrainian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ukrainian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_ukrainian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ukrainian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ukrainian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_ukrainian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ukrainian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ukrainian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_ukrainian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ukrainian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ukrainian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_ukrainian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ukrainian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ukrainian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_ukrainian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ukrainian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ukrainian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_ukrainian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ukrainian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ukrainian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_ukrainian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ukrainian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ukrainian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_ukrainian_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:ukrainian
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_ukrainian_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_ukrainian_state = {
								every_scope_pop = {
									limit = {
										culture = cu:ukrainian
									}
									move_pop = scope:migration_fixes_home_ukrainian_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:ugrian
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:ugrian }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:ugrian }
							}
							save_temporary_scope_as = migration_fixes_home_ugrian_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_ugrian_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:ugrian } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_ugrian_state
						scope:migration_fixes_home_ugrian_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:ugrian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ugrian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_ugrian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ugrian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ugrian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_ugrian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ugrian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ugrian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_ugrian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ugrian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ugrian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_ugrian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ugrian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ugrian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_ugrian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ugrian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ugrian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_ugrian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ugrian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ugrian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_ugrian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ugrian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ugrian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_ugrian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ugrian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ugrian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_ugrian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ugrian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ugrian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_ugrian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ugrian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ugrian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_ugrian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ugrian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ugrian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_ugrian_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:ugrian
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_ugrian_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_ugrian_state = {
								every_scope_pop = {
									limit = {
										culture = cu:ugrian
									}
									move_pop = scope:migration_fixes_home_ugrian_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:latvian
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:latvian }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:latvian }
							}
							save_temporary_scope_as = migration_fixes_home_latvian_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_latvian_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:latvian } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_latvian_state
						scope:migration_fixes_home_latvian_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:latvian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:latvian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_latvian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:latvian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:latvian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_latvian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:latvian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:latvian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_latvian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:latvian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:latvian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_latvian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:latvian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:latvian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_latvian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:latvian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:latvian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_latvian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:latvian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:latvian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_latvian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:latvian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:latvian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_latvian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:latvian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:latvian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_latvian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:latvian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:latvian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_latvian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:latvian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:latvian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_latvian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:latvian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:latvian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_latvian_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:latvian
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_latvian_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_latvian_state = {
								every_scope_pop = {
									limit = {
										culture = cu:latvian
									}
									move_pop = scope:migration_fixes_home_latvian_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:estonian
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:estonian }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:estonian }
							}
							save_temporary_scope_as = migration_fixes_home_estonian_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_estonian_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:estonian } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_estonian_state
						scope:migration_fixes_home_estonian_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:estonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:estonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_estonian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:estonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:estonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_estonian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:estonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:estonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_estonian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:estonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:estonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_estonian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:estonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:estonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_estonian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:estonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:estonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_estonian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:estonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:estonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_estonian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:estonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:estonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_estonian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:estonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:estonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_estonian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:estonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:estonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_estonian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:estonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:estonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_estonian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:estonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:estonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_estonian_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:estonian
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_estonian_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_estonian_state = {
								every_scope_pop = {
									limit = {
										culture = cu:estonian
									}
									move_pop = scope:migration_fixes_home_estonian_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:greek
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:greek }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:greek }
							}
							save_temporary_scope_as = migration_fixes_home_greek_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_greek_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:greek } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_greek_state
						scope:migration_fixes_home_greek_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:greek
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:greek
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_greek_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:greek
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:greek
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_greek_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:greek
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:greek
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_greek_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:greek
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:greek
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_greek_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:greek
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:greek
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_greek_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:greek
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:greek
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_greek_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:greek
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:greek
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_greek_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:greek
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:greek
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_greek_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:greek
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:greek
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_greek_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:greek
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:greek
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_greek_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:greek
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:greek
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_greek_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:greek
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:greek
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_greek_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:greek
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_greek_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_greek_state = {
								every_scope_pop = {
									limit = {
										culture = cu:greek
									}
									move_pop = scope:migration_fixes_home_greek_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:georgian
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:georgian }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:georgian }
							}
							save_temporary_scope_as = migration_fixes_home_georgian_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_georgian_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:georgian } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_georgian_state
						scope:migration_fixes_home_georgian_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:georgian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:georgian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_georgian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:georgian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:georgian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_georgian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:georgian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:georgian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_georgian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:georgian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:georgian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_georgian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:georgian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:georgian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_georgian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:georgian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:georgian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_georgian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:georgian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:georgian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_georgian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:georgian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:georgian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_georgian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:georgian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:georgian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_georgian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:georgian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:georgian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_georgian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:georgian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:georgian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_georgian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:georgian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:georgian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_georgian_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:georgian
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_georgian_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_georgian_state = {
								every_scope_pop = {
									limit = {
										culture = cu:georgian
									}
									move_pop = scope:migration_fixes_home_georgian_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:armenian
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:armenian }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:armenian }
							}
							save_temporary_scope_as = migration_fixes_home_armenian_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_armenian_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:armenian } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_armenian_state
						scope:migration_fixes_home_armenian_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:armenian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:armenian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_armenian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:armenian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:armenian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_armenian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:armenian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:armenian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_armenian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:armenian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:armenian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_armenian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:armenian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:armenian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_armenian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:armenian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:armenian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_armenian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:armenian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:armenian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_armenian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:armenian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:armenian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_armenian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:armenian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:armenian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_armenian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:armenian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:armenian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_armenian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:armenian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:armenian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_armenian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:armenian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:armenian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_armenian_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:armenian
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_armenian_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_armenian_state = {
								every_scope_pop = {
									limit = {
										culture = cu:armenian
									}
									move_pop = scope:migration_fixes_home_armenian_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:sephardic
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:sephardic }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:sephardic }
							}
							save_temporary_scope_as = migration_fixes_home_sephardic_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_sephardic_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:sephardic } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_sephardic_state
						scope:migration_fixes_home_sephardic_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:sephardic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sephardic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_sephardic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sephardic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sephardic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_sephardic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sephardic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sephardic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_sephardic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sephardic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sephardic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_sephardic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sephardic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sephardic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_sephardic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sephardic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sephardic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_sephardic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sephardic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sephardic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_sephardic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sephardic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sephardic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_sephardic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sephardic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sephardic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_sephardic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sephardic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sephardic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_sephardic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sephardic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sephardic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_sephardic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sephardic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sephardic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_sephardic_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:sephardic
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_sephardic_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_sephardic_state = {
								every_scope_pop = {
									limit = {
										culture = cu:sephardic
									}
									move_pop = scope:migration_fixes_home_sephardic_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:turkish
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:turkish }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:turkish }
							}
							save_temporary_scope_as = migration_fixes_home_turkish_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_turkish_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:turkish } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_turkish_state
						scope:migration_fixes_home_turkish_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:turkish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:turkish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_turkish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:turkish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:turkish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_turkish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:turkish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:turkish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_turkish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:turkish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:turkish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_turkish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:turkish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:turkish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_turkish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:turkish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:turkish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_turkish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:turkish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:turkish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_turkish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:turkish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:turkish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_turkish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:turkish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:turkish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_turkish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:turkish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:turkish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_turkish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:turkish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:turkish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_turkish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:turkish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:turkish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_turkish_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:turkish
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_turkish_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_turkish_state = {
								every_scope_pop = {
									limit = {
										culture = cu:turkish
									}
									move_pop = scope:migration_fixes_home_turkish_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:azerbaijani
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:azerbaijani }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:azerbaijani }
							}
							save_temporary_scope_as = migration_fixes_home_azerbaijani_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_azerbaijani_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:azerbaijani } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_azerbaijani_state
						scope:migration_fixes_home_azerbaijani_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:azerbaijani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:azerbaijani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_azerbaijani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:azerbaijani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:azerbaijani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_azerbaijani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:azerbaijani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:azerbaijani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_azerbaijani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:azerbaijani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:azerbaijani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_azerbaijani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:azerbaijani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:azerbaijani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_azerbaijani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:azerbaijani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:azerbaijani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_azerbaijani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:azerbaijani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:azerbaijani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_azerbaijani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:azerbaijani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:azerbaijani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_azerbaijani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:azerbaijani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:azerbaijani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_azerbaijani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:azerbaijani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:azerbaijani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_azerbaijani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:azerbaijani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:azerbaijani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_azerbaijani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:azerbaijani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:azerbaijani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_azerbaijani_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:azerbaijani
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_azerbaijani_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_azerbaijani_state = {
								every_scope_pop = {
									limit = {
										culture = cu:azerbaijani
									}
									move_pop = scope:migration_fixes_home_azerbaijani_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:north_caucasian
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:north_caucasian }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:north_caucasian }
							}
							save_temporary_scope_as = migration_fixes_home_north_caucasian_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_north_caucasian_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:north_caucasian } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_north_caucasian_state
						scope:migration_fixes_home_north_caucasian_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:north_caucasian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:north_caucasian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_north_caucasian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:north_caucasian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:north_caucasian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_north_caucasian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:north_caucasian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:north_caucasian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_north_caucasian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:north_caucasian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:north_caucasian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_north_caucasian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:north_caucasian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:north_caucasian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_north_caucasian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:north_caucasian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:north_caucasian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_north_caucasian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:north_caucasian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:north_caucasian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_north_caucasian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:north_caucasian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:north_caucasian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_north_caucasian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:north_caucasian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:north_caucasian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_north_caucasian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:north_caucasian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:north_caucasian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_north_caucasian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:north_caucasian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:north_caucasian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_north_caucasian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:north_caucasian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:north_caucasian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_north_caucasian_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:north_caucasian
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_north_caucasian_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_north_caucasian_state = {
								every_scope_pop = {
									limit = {
										culture = cu:north_caucasian
									}
									move_pop = scope:migration_fixes_home_north_caucasian_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:maghrebi
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:maghrebi }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:maghrebi }
							}
							save_temporary_scope_as = migration_fixes_home_maghrebi_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_maghrebi_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:maghrebi } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_maghrebi_state
						scope:migration_fixes_home_maghrebi_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:maghrebi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:maghrebi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_maghrebi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:maghrebi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:maghrebi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_maghrebi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:maghrebi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:maghrebi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_maghrebi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:maghrebi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:maghrebi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_maghrebi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:maghrebi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:maghrebi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_maghrebi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:maghrebi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:maghrebi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_maghrebi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:maghrebi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:maghrebi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_maghrebi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:maghrebi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:maghrebi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_maghrebi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:maghrebi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:maghrebi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_maghrebi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:maghrebi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:maghrebi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_maghrebi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:maghrebi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:maghrebi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_maghrebi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:maghrebi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:maghrebi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_maghrebi_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:maghrebi
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_maghrebi_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_maghrebi_state = {
								every_scope_pop = {
									limit = {
										culture = cu:maghrebi
									}
									move_pop = scope:migration_fixes_home_maghrebi_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:misri
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:misri }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:misri }
							}
							save_temporary_scope_as = migration_fixes_home_misri_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_misri_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:misri } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_misri_state
						scope:migration_fixes_home_misri_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:misri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:misri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_misri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:misri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:misri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_misri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:misri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:misri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_misri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:misri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:misri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_misri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:misri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:misri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_misri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:misri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:misri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_misri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:misri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:misri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_misri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:misri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:misri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_misri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:misri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:misri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_misri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:misri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:misri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_misri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:misri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:misri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_misri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:misri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:misri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_misri_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:misri
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_misri_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_misri_state = {
								every_scope_pop = {
									limit = {
										culture = cu:misri
									}
									move_pop = scope:migration_fixes_home_misri_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:mashriqi
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:mashriqi }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:mashriqi }
							}
							save_temporary_scope_as = migration_fixes_home_mashriqi_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_mashriqi_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:mashriqi } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_mashriqi_state
						scope:migration_fixes_home_mashriqi_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:mashriqi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mashriqi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_mashriqi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mashriqi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mashriqi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_mashriqi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mashriqi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mashriqi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_mashriqi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mashriqi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mashriqi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_mashriqi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mashriqi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mashriqi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_mashriqi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mashriqi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mashriqi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_mashriqi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mashriqi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mashriqi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_mashriqi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mashriqi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mashriqi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_mashriqi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mashriqi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mashriqi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_mashriqi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mashriqi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mashriqi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_mashriqi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mashriqi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mashriqi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_mashriqi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mashriqi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mashriqi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_mashriqi_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:mashriqi
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_mashriqi_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_mashriqi_state = {
								every_scope_pop = {
									limit = {
										culture = cu:mashriqi
									}
									move_pop = scope:migration_fixes_home_mashriqi_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:bedouin
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:bedouin }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:bedouin }
							}
							save_temporary_scope_as = migration_fixes_home_bedouin_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_bedouin_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:bedouin } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_bedouin_state
						scope:migration_fixes_home_bedouin_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:bedouin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bedouin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_bedouin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bedouin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bedouin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_bedouin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bedouin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bedouin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_bedouin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bedouin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bedouin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_bedouin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bedouin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bedouin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_bedouin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bedouin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bedouin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_bedouin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bedouin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bedouin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_bedouin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bedouin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bedouin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_bedouin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bedouin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bedouin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_bedouin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bedouin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bedouin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_bedouin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bedouin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bedouin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_bedouin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bedouin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bedouin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_bedouin_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:bedouin
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_bedouin_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_bedouin_state = {
								every_scope_pop = {
									limit = {
										culture = cu:bedouin
									}
									move_pop = scope:migration_fixes_home_bedouin_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:berber
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:berber }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:berber }
							}
							save_temporary_scope_as = migration_fixes_home_berber_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_berber_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:berber } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_berber_state
						scope:migration_fixes_home_berber_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:berber
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:berber
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_berber_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:berber
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:berber
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_berber_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:berber
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:berber
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_berber_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:berber
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:berber
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_berber_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:berber
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:berber
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_berber_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:berber
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:berber
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_berber_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:berber
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:berber
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_berber_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:berber
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:berber
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_berber_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:berber
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:berber
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_berber_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:berber
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:berber
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_berber_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:berber
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:berber
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_berber_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:berber
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:berber
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_berber_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:berber
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_berber_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_berber_state = {
								every_scope_pop = {
									limit = {
										culture = cu:berber
									}
									move_pop = scope:migration_fixes_home_berber_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:persian
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:persian }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:persian }
							}
							save_temporary_scope_as = migration_fixes_home_persian_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_persian_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:persian } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_persian_state
						scope:migration_fixes_home_persian_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:persian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:persian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_persian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:persian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:persian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_persian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:persian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:persian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_persian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:persian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:persian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_persian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:persian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:persian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_persian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:persian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:persian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_persian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:persian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:persian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_persian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:persian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:persian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_persian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:persian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:persian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_persian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:persian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:persian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_persian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:persian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:persian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_persian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:persian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:persian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_persian_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:persian
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_persian_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_persian_state = {
								every_scope_pop = {
									limit = {
										culture = cu:persian
									}
									move_pop = scope:migration_fixes_home_persian_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:uzbek
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:uzbek }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:uzbek }
							}
							save_temporary_scope_as = migration_fixes_home_uzbek_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_uzbek_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:uzbek } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_uzbek_state
						scope:migration_fixes_home_uzbek_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:uzbek
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:uzbek
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_uzbek_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:uzbek
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:uzbek
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_uzbek_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:uzbek
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:uzbek
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_uzbek_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:uzbek
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:uzbek
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_uzbek_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:uzbek
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:uzbek
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_uzbek_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:uzbek
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:uzbek
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_uzbek_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:uzbek
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:uzbek
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_uzbek_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:uzbek
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:uzbek
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_uzbek_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:uzbek
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:uzbek
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_uzbek_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:uzbek
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:uzbek
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_uzbek_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:uzbek
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:uzbek
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_uzbek_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:uzbek
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:uzbek
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_uzbek_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:uzbek
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_uzbek_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_uzbek_state = {
								every_scope_pop = {
									limit = {
										culture = cu:uzbek
									}
									move_pop = scope:migration_fixes_home_uzbek_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:kazak
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:kazak }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:kazak }
							}
							save_temporary_scope_as = migration_fixes_home_kazak_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_kazak_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:kazak } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_kazak_state
						scope:migration_fixes_home_kazak_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:kazak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kazak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_kazak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kazak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kazak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_kazak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kazak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kazak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_kazak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kazak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kazak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_kazak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kazak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kazak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_kazak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kazak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kazak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_kazak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kazak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kazak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_kazak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kazak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kazak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_kazak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kazak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kazak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_kazak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kazak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kazak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_kazak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kazak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kazak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_kazak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kazak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kazak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_kazak_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:kazak
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_kazak_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_kazak_state = {
								every_scope_pop = {
									limit = {
										culture = cu:kazak
									}
									move_pop = scope:migration_fixes_home_kazak_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:kirgiz
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:kirgiz }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:kirgiz }
							}
							save_temporary_scope_as = migration_fixes_home_kirgiz_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_kirgiz_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:kirgiz } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_kirgiz_state
						scope:migration_fixes_home_kirgiz_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:kirgiz
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kirgiz
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_kirgiz_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kirgiz
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kirgiz
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_kirgiz_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kirgiz
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kirgiz
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_kirgiz_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kirgiz
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kirgiz
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_kirgiz_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kirgiz
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kirgiz
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_kirgiz_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kirgiz
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kirgiz
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_kirgiz_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kirgiz
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kirgiz
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_kirgiz_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kirgiz
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kirgiz
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_kirgiz_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kirgiz
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kirgiz
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_kirgiz_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kirgiz
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kirgiz
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_kirgiz_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kirgiz
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kirgiz
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_kirgiz_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kirgiz
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kirgiz
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_kirgiz_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:kirgiz
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_kirgiz_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_kirgiz_state = {
								every_scope_pop = {
									limit = {
										culture = cu:kirgiz
									}
									move_pop = scope:migration_fixes_home_kirgiz_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:tajik
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:tajik }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:tajik }
							}
							save_temporary_scope_as = migration_fixes_home_tajik_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_tajik_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:tajik } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_tajik_state
						scope:migration_fixes_home_tajik_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:tajik
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tajik
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_tajik_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tajik
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tajik
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_tajik_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tajik
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tajik
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_tajik_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tajik
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tajik
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_tajik_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tajik
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tajik
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_tajik_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tajik
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tajik
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_tajik_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tajik
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tajik
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_tajik_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tajik
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tajik
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_tajik_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tajik
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tajik
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_tajik_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tajik
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tajik
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_tajik_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tajik
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tajik
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_tajik_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tajik
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tajik
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_tajik_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:tajik
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_tajik_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_tajik_state = {
								every_scope_pop = {
									limit = {
										culture = cu:tajik
									}
									move_pop = scope:migration_fixes_home_tajik_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:uighur
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:uighur }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:uighur }
							}
							save_temporary_scope_as = migration_fixes_home_uighur_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_uighur_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:uighur } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_uighur_state
						scope:migration_fixes_home_uighur_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:uighur
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:uighur
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_uighur_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:uighur
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:uighur
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_uighur_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:uighur
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:uighur
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_uighur_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:uighur
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:uighur
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_uighur_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:uighur
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:uighur
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_uighur_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:uighur
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:uighur
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_uighur_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:uighur
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:uighur
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_uighur_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:uighur
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:uighur
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_uighur_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:uighur
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:uighur
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_uighur_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:uighur
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:uighur
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_uighur_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:uighur
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:uighur
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_uighur_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:uighur
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:uighur
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_uighur_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:uighur
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_uighur_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_uighur_state = {
								every_scope_pop = {
									limit = {
										culture = cu:uighur
									}
									move_pop = scope:migration_fixes_home_uighur_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:pashtun
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:pashtun }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:pashtun }
							}
							save_temporary_scope_as = migration_fixes_home_pashtun_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_pashtun_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:pashtun } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_pashtun_state
						scope:migration_fixes_home_pashtun_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:pashtun
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:pashtun
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_pashtun_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:pashtun
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:pashtun
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_pashtun_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:pashtun
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:pashtun
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_pashtun_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:pashtun
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:pashtun
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_pashtun_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:pashtun
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:pashtun
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_pashtun_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:pashtun
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:pashtun
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_pashtun_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:pashtun
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:pashtun
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_pashtun_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:pashtun
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:pashtun
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_pashtun_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:pashtun
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:pashtun
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_pashtun_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:pashtun
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:pashtun
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_pashtun_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:pashtun
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:pashtun
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_pashtun_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:pashtun
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:pashtun
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_pashtun_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:pashtun
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_pashtun_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_pashtun_state = {
								every_scope_pop = {
									limit = {
										culture = cu:pashtun
									}
									move_pop = scope:migration_fixes_home_pashtun_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:baluchi
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:baluchi }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:baluchi }
							}
							save_temporary_scope_as = migration_fixes_home_baluchi_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_baluchi_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:baluchi } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_baluchi_state
						scope:migration_fixes_home_baluchi_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:baluchi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:baluchi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_baluchi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:baluchi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:baluchi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_baluchi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:baluchi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:baluchi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_baluchi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:baluchi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:baluchi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_baluchi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:baluchi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:baluchi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_baluchi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:baluchi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:baluchi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_baluchi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:baluchi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:baluchi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_baluchi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:baluchi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:baluchi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_baluchi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:baluchi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:baluchi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_baluchi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:baluchi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:baluchi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_baluchi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:baluchi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:baluchi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_baluchi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:baluchi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:baluchi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_baluchi_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:baluchi
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_baluchi_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_baluchi_state = {
								every_scope_pop = {
									limit = {
										culture = cu:baluchi
									}
									move_pop = scope:migration_fixes_home_baluchi_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:hazara
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:hazara }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:hazara }
							}
							save_temporary_scope_as = migration_fixes_home_hazara_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_hazara_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:hazara } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_hazara_state
						scope:migration_fixes_home_hazara_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:hazara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hazara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_hazara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hazara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hazara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_hazara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hazara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hazara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_hazara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hazara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hazara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_hazara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hazara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hazara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_hazara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hazara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hazara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_hazara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hazara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hazara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_hazara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hazara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hazara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_hazara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hazara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hazara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_hazara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hazara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hazara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_hazara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hazara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hazara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_hazara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hazara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hazara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_hazara_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:hazara
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_hazara_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_hazara_state = {
								every_scope_pop = {
									limit = {
										culture = cu:hazara
									}
									move_pop = scope:migration_fixes_home_hazara_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:turkmen
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:turkmen }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:turkmen }
							}
							save_temporary_scope_as = migration_fixes_home_turkmen_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_turkmen_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:turkmen } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_turkmen_state
						scope:migration_fixes_home_turkmen_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:turkmen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:turkmen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_turkmen_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:turkmen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:turkmen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_turkmen_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:turkmen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:turkmen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_turkmen_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:turkmen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:turkmen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_turkmen_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:turkmen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:turkmen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_turkmen_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:turkmen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:turkmen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_turkmen_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:turkmen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:turkmen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_turkmen_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:turkmen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:turkmen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_turkmen_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:turkmen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:turkmen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_turkmen_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:turkmen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:turkmen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_turkmen_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:turkmen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:turkmen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_turkmen_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:turkmen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:turkmen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_turkmen_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:turkmen
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_turkmen_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_turkmen_state = {
								every_scope_pop = {
									limit = {
										culture = cu:turkmen
									}
									move_pop = scope:migration_fixes_home_turkmen_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:kurdish
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:kurdish }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:kurdish }
							}
							save_temporary_scope_as = migration_fixes_home_kurdish_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_kurdish_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:kurdish } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_kurdish_state
						scope:migration_fixes_home_kurdish_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:kurdish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kurdish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_kurdish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kurdish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kurdish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_kurdish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kurdish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kurdish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_kurdish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kurdish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kurdish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_kurdish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kurdish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kurdish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_kurdish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kurdish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kurdish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_kurdish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kurdish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kurdish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_kurdish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kurdish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kurdish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_kurdish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kurdish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kurdish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_kurdish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kurdish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kurdish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_kurdish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kurdish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kurdish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_kurdish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kurdish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kurdish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_kurdish_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:kurdish
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_kurdish_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_kurdish_state = {
								every_scope_pop = {
									limit = {
										culture = cu:kurdish
									}
									move_pop = scope:migration_fixes_home_kurdish_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:tatar
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:tatar }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:tatar }
							}
							save_temporary_scope_as = migration_fixes_home_tatar_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_tatar_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:tatar } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_tatar_state
						scope:migration_fixes_home_tatar_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:tatar
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tatar
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_tatar_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tatar
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tatar
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_tatar_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tatar
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tatar
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_tatar_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tatar
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tatar
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_tatar_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tatar
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tatar
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_tatar_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tatar
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tatar
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_tatar_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tatar
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tatar
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_tatar_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tatar
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tatar
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_tatar_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tatar
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tatar
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_tatar_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tatar
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tatar
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_tatar_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tatar
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tatar
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_tatar_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tatar
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tatar
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_tatar_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:tatar
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_tatar_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_tatar_state = {
								every_scope_pop = {
									limit = {
										culture = cu:tatar
									}
									move_pop = scope:migration_fixes_home_tatar_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:mongol
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:mongol }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:mongol }
							}
							save_temporary_scope_as = migration_fixes_home_mongol_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_mongol_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:mongol } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_mongol_state
						scope:migration_fixes_home_mongol_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:mongol
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mongol
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_mongol_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mongol
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mongol
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_mongol_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mongol
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mongol
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_mongol_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mongol
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mongol
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_mongol_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mongol
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mongol
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_mongol_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mongol
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mongol
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_mongol_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mongol
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mongol
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_mongol_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mongol
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mongol
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_mongol_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mongol
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mongol
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_mongol_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mongol
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mongol
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_mongol_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mongol
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mongol
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_mongol_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mongol
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mongol
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_mongol_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:mongol
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_mongol_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_mongol_state = {
								every_scope_pop = {
									limit = {
										culture = cu:mongol
									}
									move_pop = scope:migration_fixes_home_mongol_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:kalmyk
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:kalmyk }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:kalmyk }
							}
							save_temporary_scope_as = migration_fixes_home_kalmyk_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_kalmyk_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:kalmyk } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_kalmyk_state
						scope:migration_fixes_home_kalmyk_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:kalmyk
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kalmyk
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_kalmyk_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kalmyk
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kalmyk
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_kalmyk_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kalmyk
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kalmyk
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_kalmyk_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kalmyk
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kalmyk
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_kalmyk_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kalmyk
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kalmyk
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_kalmyk_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kalmyk
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kalmyk
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_kalmyk_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kalmyk
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kalmyk
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_kalmyk_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kalmyk
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kalmyk
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_kalmyk_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kalmyk
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kalmyk
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_kalmyk_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kalmyk
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kalmyk
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_kalmyk_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kalmyk
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kalmyk
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_kalmyk_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kalmyk
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kalmyk
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_kalmyk_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:kalmyk
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_kalmyk_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_kalmyk_state = {
								every_scope_pop = {
									limit = {
										culture = cu:kalmyk
									}
									move_pop = scope:migration_fixes_home_kalmyk_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:siberian
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:siberian }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:siberian }
							}
							save_temporary_scope_as = migration_fixes_home_siberian_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_siberian_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:siberian } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_siberian_state
						scope:migration_fixes_home_siberian_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:siberian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:siberian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_siberian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:siberian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:siberian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_siberian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:siberian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:siberian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_siberian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:siberian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:siberian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_siberian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:siberian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:siberian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_siberian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:siberian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:siberian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_siberian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:siberian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:siberian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_siberian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:siberian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:siberian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_siberian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:siberian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:siberian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_siberian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:siberian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:siberian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_siberian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:siberian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:siberian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_siberian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:siberian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:siberian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_siberian_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:siberian
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_siberian_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_siberian_state = {
								every_scope_pop = {
									limit = {
										culture = cu:siberian
									}
									move_pop = scope:migration_fixes_home_siberian_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:yakut
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:yakut }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:yakut }
							}
							save_temporary_scope_as = migration_fixes_home_yakut_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_yakut_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:yakut } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_yakut_state
						scope:migration_fixes_home_yakut_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:yakut
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yakut
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_yakut_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yakut
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yakut
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_yakut_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yakut
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yakut
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_yakut_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yakut
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yakut
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_yakut_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yakut
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yakut
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_yakut_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yakut
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yakut
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_yakut_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yakut
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yakut
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_yakut_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yakut
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yakut
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_yakut_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yakut
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yakut
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_yakut_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yakut
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yakut
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_yakut_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yakut
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yakut
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_yakut_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yakut
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yakut
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_yakut_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:yakut
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_yakut_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_yakut_state = {
								every_scope_pop = {
									limit = {
										culture = cu:yakut
									}
									move_pop = scope:migration_fixes_home_yakut_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:tibetan
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:tibetan }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:tibetan }
							}
							save_temporary_scope_as = migration_fixes_home_tibetan_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_tibetan_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:tibetan } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_tibetan_state
						scope:migration_fixes_home_tibetan_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:tibetan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tibetan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_tibetan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tibetan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tibetan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_tibetan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tibetan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tibetan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_tibetan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tibetan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tibetan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_tibetan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tibetan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tibetan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_tibetan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tibetan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tibetan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_tibetan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tibetan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tibetan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_tibetan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tibetan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tibetan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_tibetan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tibetan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tibetan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_tibetan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tibetan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tibetan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_tibetan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tibetan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tibetan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_tibetan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tibetan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tibetan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_tibetan_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:tibetan
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_tibetan_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_tibetan_state = {
								every_scope_pop = {
									limit = {
										culture = cu:tibetan
									}
									move_pop = scope:migration_fixes_home_tibetan_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:assamese
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:assamese }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:assamese }
							}
							save_temporary_scope_as = migration_fixes_home_assamese_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_assamese_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:assamese } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_assamese_state
						scope:migration_fixes_home_assamese_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:assamese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:assamese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_assamese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:assamese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:assamese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_assamese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:assamese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:assamese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_assamese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:assamese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:assamese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_assamese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:assamese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:assamese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_assamese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:assamese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:assamese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_assamese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:assamese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:assamese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_assamese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:assamese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:assamese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_assamese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:assamese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:assamese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_assamese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:assamese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:assamese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_assamese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:assamese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:assamese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_assamese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:assamese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:assamese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_assamese_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:assamese
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_assamese_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_assamese_state = {
								every_scope_pop = {
									limit = {
										culture = cu:assamese
									}
									move_pop = scope:migration_fixes_home_assamese_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:bihari
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:bihari }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:bihari }
							}
							save_temporary_scope_as = migration_fixes_home_bihari_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_bihari_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:bihari } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_bihari_state
						scope:migration_fixes_home_bihari_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:bihari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bihari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_bihari_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bihari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bihari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_bihari_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bihari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bihari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_bihari_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bihari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bihari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_bihari_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bihari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bihari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_bihari_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bihari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bihari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_bihari_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bihari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bihari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_bihari_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bihari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bihari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_bihari_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bihari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bihari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_bihari_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bihari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bihari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_bihari_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bihari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bihari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_bihari_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bihari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bihari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_bihari_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:bihari
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_bihari_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_bihari_state = {
								every_scope_pop = {
									limit = {
										culture = cu:bihari
									}
									move_pop = scope:migration_fixes_home_bihari_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:manipuri
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:manipuri }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:manipuri }
							}
							save_temporary_scope_as = migration_fixes_home_manipuri_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_manipuri_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:manipuri } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_manipuri_state
						scope:migration_fixes_home_manipuri_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:manipuri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:manipuri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_manipuri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:manipuri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:manipuri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_manipuri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:manipuri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:manipuri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_manipuri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:manipuri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:manipuri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_manipuri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:manipuri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:manipuri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_manipuri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:manipuri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:manipuri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_manipuri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:manipuri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:manipuri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_manipuri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:manipuri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:manipuri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_manipuri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:manipuri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:manipuri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_manipuri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:manipuri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:manipuri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_manipuri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:manipuri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:manipuri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_manipuri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:manipuri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:manipuri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_manipuri_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:manipuri
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_manipuri_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_manipuri_state = {
								every_scope_pop = {
									limit = {
										culture = cu:manipuri
									}
									move_pop = scope:migration_fixes_home_manipuri_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:nepali
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:nepali }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:nepali }
							}
							save_temporary_scope_as = migration_fixes_home_nepali_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_nepali_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:nepali } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_nepali_state
						scope:migration_fixes_home_nepali_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:nepali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nepali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_nepali_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nepali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nepali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_nepali_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nepali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nepali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_nepali_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nepali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nepali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_nepali_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nepali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nepali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_nepali_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nepali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nepali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_nepali_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nepali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nepali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_nepali_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nepali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nepali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_nepali_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nepali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nepali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_nepali_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nepali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nepali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_nepali_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nepali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nepali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_nepali_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nepali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nepali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_nepali_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:nepali
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_nepali_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_nepali_state = {
								every_scope_pop = {
									limit = {
										culture = cu:nepali
									}
									move_pop = scope:migration_fixes_home_nepali_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:oriya
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:oriya }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:oriya }
							}
							save_temporary_scope_as = migration_fixes_home_oriya_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_oriya_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:oriya } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_oriya_state
						scope:migration_fixes_home_oriya_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:oriya
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:oriya
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_oriya_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:oriya
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:oriya
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_oriya_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:oriya
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:oriya
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_oriya_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:oriya
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:oriya
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_oriya_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:oriya
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:oriya
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_oriya_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:oriya
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:oriya
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_oriya_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:oriya
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:oriya
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_oriya_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:oriya
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:oriya
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_oriya_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:oriya
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:oriya
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_oriya_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:oriya
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:oriya
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_oriya_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:oriya
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:oriya
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_oriya_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:oriya
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:oriya
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_oriya_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:oriya
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_oriya_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_oriya_state = {
								every_scope_pop = {
									limit = {
										culture = cu:oriya
									}
									move_pop = scope:migration_fixes_home_oriya_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:sinhala
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:sinhala }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:sinhala }
							}
							save_temporary_scope_as = migration_fixes_home_sinhala_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_sinhala_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:sinhala } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_sinhala_state
						scope:migration_fixes_home_sinhala_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:sinhala
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sinhala
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_sinhala_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sinhala
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sinhala
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_sinhala_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sinhala
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sinhala
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_sinhala_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sinhala
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sinhala
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_sinhala_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sinhala
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sinhala
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_sinhala_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sinhala
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sinhala
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_sinhala_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sinhala
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sinhala
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_sinhala_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sinhala
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sinhala
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_sinhala_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sinhala
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sinhala
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_sinhala_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sinhala
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sinhala
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_sinhala_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sinhala
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sinhala
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_sinhala_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sinhala
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sinhala
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_sinhala_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:sinhala
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_sinhala_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_sinhala_state = {
								every_scope_pop = {
									limit = {
										culture = cu:sinhala
									}
									move_pop = scope:migration_fixes_home_sinhala_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:avadhi
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:avadhi }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:avadhi }
							}
							save_temporary_scope_as = migration_fixes_home_avadhi_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_avadhi_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:avadhi } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_avadhi_state
						scope:migration_fixes_home_avadhi_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:avadhi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:avadhi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_avadhi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:avadhi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:avadhi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_avadhi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:avadhi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:avadhi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_avadhi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:avadhi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:avadhi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_avadhi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:avadhi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:avadhi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_avadhi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:avadhi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:avadhi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_avadhi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:avadhi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:avadhi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_avadhi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:avadhi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:avadhi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_avadhi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:avadhi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:avadhi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_avadhi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:avadhi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:avadhi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_avadhi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:avadhi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:avadhi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_avadhi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:avadhi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:avadhi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_avadhi_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:avadhi
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_avadhi_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_avadhi_state = {
								every_scope_pop = {
									limit = {
										culture = cu:avadhi
									}
									move_pop = scope:migration_fixes_home_avadhi_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:panjabi
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:panjabi }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:panjabi }
							}
							save_temporary_scope_as = migration_fixes_home_panjabi_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_panjabi_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:panjabi } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_panjabi_state
						scope:migration_fixes_home_panjabi_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:panjabi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:panjabi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_panjabi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:panjabi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:panjabi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_panjabi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:panjabi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:panjabi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_panjabi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:panjabi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:panjabi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_panjabi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:panjabi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:panjabi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_panjabi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:panjabi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:panjabi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_panjabi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:panjabi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:panjabi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_panjabi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:panjabi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:panjabi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_panjabi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:panjabi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:panjabi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_panjabi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:panjabi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:panjabi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_panjabi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:panjabi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:panjabi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_panjabi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:panjabi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:panjabi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_panjabi_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:panjabi
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_panjabi_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_panjabi_state = {
								every_scope_pop = {
									limit = {
										culture = cu:panjabi
									}
									move_pop = scope:migration_fixes_home_panjabi_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:kashmiri
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:kashmiri }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:kashmiri }
							}
							save_temporary_scope_as = migration_fixes_home_kashmiri_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_kashmiri_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:kashmiri } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_kashmiri_state
						scope:migration_fixes_home_kashmiri_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:kashmiri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kashmiri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_kashmiri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kashmiri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kashmiri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_kashmiri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kashmiri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kashmiri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_kashmiri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kashmiri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kashmiri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_kashmiri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kashmiri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kashmiri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_kashmiri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kashmiri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kashmiri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_kashmiri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kashmiri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kashmiri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_kashmiri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kashmiri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kashmiri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_kashmiri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kashmiri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kashmiri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_kashmiri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kashmiri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kashmiri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_kashmiri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kashmiri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kashmiri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_kashmiri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kashmiri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kashmiri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_kashmiri_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:kashmiri
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_kashmiri_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_kashmiri_state = {
								every_scope_pop = {
									limit = {
										culture = cu:kashmiri
									}
									move_pop = scope:migration_fixes_home_kashmiri_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:sindi
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:sindi }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:sindi }
							}
							save_temporary_scope_as = migration_fixes_home_sindi_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_sindi_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:sindi } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_sindi_state
						scope:migration_fixes_home_sindi_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:sindi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sindi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_sindi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sindi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sindi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_sindi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sindi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sindi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_sindi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sindi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sindi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_sindi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sindi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sindi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_sindi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sindi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sindi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_sindi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sindi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sindi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_sindi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sindi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sindi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_sindi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sindi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sindi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_sindi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sindi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sindi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_sindi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sindi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sindi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_sindi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sindi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sindi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_sindi_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:sindi
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_sindi_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_sindi_state = {
								every_scope_pop = {
									limit = {
										culture = cu:sindi
									}
									move_pop = scope:migration_fixes_home_sindi_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:rajput
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:rajput }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:rajput }
							}
							save_temporary_scope_as = migration_fixes_home_rajput_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_rajput_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:rajput } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_rajput_state
						scope:migration_fixes_home_rajput_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:rajput
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:rajput
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_rajput_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:rajput
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:rajput
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_rajput_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:rajput
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:rajput
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_rajput_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:rajput
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:rajput
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_rajput_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:rajput
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:rajput
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_rajput_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:rajput
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:rajput
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_rajput_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:rajput
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:rajput
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_rajput_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:rajput
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:rajput
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_rajput_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:rajput
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:rajput
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_rajput_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:rajput
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:rajput
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_rajput_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:rajput
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:rajput
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_rajput_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:rajput
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:rajput
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_rajput_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:rajput
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_rajput_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_rajput_state = {
								every_scope_pop = {
									limit = {
										culture = cu:rajput
									}
									move_pop = scope:migration_fixes_home_rajput_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:kannada
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:kannada }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:kannada }
							}
							save_temporary_scope_as = migration_fixes_home_kannada_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_kannada_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:kannada } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_kannada_state
						scope:migration_fixes_home_kannada_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:kannada
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kannada
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_kannada_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kannada
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kannada
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_kannada_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kannada
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kannada
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_kannada_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kannada
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kannada
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_kannada_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kannada
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kannada
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_kannada_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kannada
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kannada
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_kannada_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kannada
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kannada
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_kannada_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kannada
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kannada
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_kannada_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kannada
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kannada
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_kannada_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kannada
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kannada
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_kannada_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kannada
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kannada
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_kannada_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kannada
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kannada
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_kannada_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:kannada
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_kannada_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_kannada_state = {
								every_scope_pop = {
									limit = {
										culture = cu:kannada
									}
									move_pop = scope:migration_fixes_home_kannada_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:malayalam
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:malayalam }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:malayalam }
							}
							save_temporary_scope_as = migration_fixes_home_malayalam_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_malayalam_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:malayalam } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_malayalam_state
						scope:migration_fixes_home_malayalam_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:malayalam
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:malayalam
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_malayalam_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:malayalam
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:malayalam
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_malayalam_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:malayalam
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:malayalam
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_malayalam_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:malayalam
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:malayalam
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_malayalam_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:malayalam
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:malayalam
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_malayalam_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:malayalam
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:malayalam
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_malayalam_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:malayalam
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:malayalam
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_malayalam_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:malayalam
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:malayalam
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_malayalam_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:malayalam
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:malayalam
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_malayalam_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:malayalam
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:malayalam
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_malayalam_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:malayalam
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:malayalam
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_malayalam_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:malayalam
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:malayalam
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_malayalam_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:malayalam
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_malayalam_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_malayalam_state = {
								every_scope_pop = {
									limit = {
										culture = cu:malayalam
									}
									move_pop = scope:migration_fixes_home_malayalam_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:telegu
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:telegu }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:telegu }
							}
							save_temporary_scope_as = migration_fixes_home_telegu_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_telegu_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:telegu } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_telegu_state
						scope:migration_fixes_home_telegu_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:telegu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:telegu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_telegu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:telegu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:telegu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_telegu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:telegu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:telegu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_telegu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:telegu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:telegu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_telegu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:telegu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:telegu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_telegu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:telegu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:telegu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_telegu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:telegu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:telegu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_telegu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:telegu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:telegu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_telegu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:telegu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:telegu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_telegu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:telegu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:telegu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_telegu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:telegu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:telegu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_telegu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:telegu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:telegu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_telegu_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:telegu
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_telegu_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_telegu_state = {
								every_scope_pop = {
									limit = {
										culture = cu:telegu
									}
									move_pop = scope:migration_fixes_home_telegu_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:vietnamese
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:vietnamese }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:vietnamese }
							}
							save_temporary_scope_as = migration_fixes_home_vietnamese_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_vietnamese_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:vietnamese } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_vietnamese_state
						scope:migration_fixes_home_vietnamese_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:vietnamese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:vietnamese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_vietnamese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:vietnamese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:vietnamese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_vietnamese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:vietnamese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:vietnamese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_vietnamese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:vietnamese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:vietnamese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_vietnamese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:vietnamese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:vietnamese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_vietnamese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:vietnamese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:vietnamese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_vietnamese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:vietnamese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:vietnamese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_vietnamese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:vietnamese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:vietnamese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_vietnamese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:vietnamese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:vietnamese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_vietnamese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:vietnamese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:vietnamese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_vietnamese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:vietnamese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:vietnamese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_vietnamese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:vietnamese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:vietnamese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_vietnamese_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:vietnamese
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_vietnamese_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_vietnamese_state = {
								every_scope_pop = {
									limit = {
										culture = cu:vietnamese
									}
									move_pop = scope:migration_fixes_home_vietnamese_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:khmer
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:khmer }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:khmer }
							}
							save_temporary_scope_as = migration_fixes_home_khmer_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_khmer_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:khmer } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_khmer_state
						scope:migration_fixes_home_khmer_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:khmer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:khmer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_khmer_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:khmer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:khmer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_khmer_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:khmer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:khmer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_khmer_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:khmer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:khmer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_khmer_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:khmer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:khmer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_khmer_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:khmer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:khmer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_khmer_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:khmer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:khmer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_khmer_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:khmer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:khmer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_khmer_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:khmer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:khmer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_khmer_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:khmer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:khmer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_khmer_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:khmer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:khmer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_khmer_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:khmer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:khmer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_khmer_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:khmer
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_khmer_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_khmer_state = {
								every_scope_pop = {
									limit = {
										culture = cu:khmer
									}
									move_pop = scope:migration_fixes_home_khmer_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:batak
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:batak }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:batak }
							}
							save_temporary_scope_as = migration_fixes_home_batak_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_batak_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:batak } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_batak_state
						scope:migration_fixes_home_batak_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:batak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:batak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_batak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:batak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:batak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_batak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:batak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:batak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_batak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:batak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:batak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_batak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:batak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:batak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_batak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:batak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:batak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_batak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:batak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:batak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_batak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:batak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:batak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_batak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:batak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:batak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_batak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:batak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:batak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_batak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:batak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:batak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_batak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:batak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:batak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_batak_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:batak
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_batak_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_batak_state = {
								every_scope_pop = {
									limit = {
										culture = cu:batak
									}
									move_pop = scope:migration_fixes_home_batak_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:dayak
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:dayak }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:dayak }
							}
							save_temporary_scope_as = migration_fixes_home_dayak_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_dayak_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:dayak } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_dayak_state
						scope:migration_fixes_home_dayak_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:dayak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dayak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_dayak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dayak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dayak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_dayak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dayak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dayak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_dayak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dayak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dayak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_dayak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dayak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dayak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_dayak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dayak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dayak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_dayak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dayak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dayak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_dayak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dayak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dayak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_dayak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dayak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dayak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_dayak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dayak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dayak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_dayak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dayak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dayak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_dayak_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dayak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dayak
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_dayak_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:dayak
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_dayak_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_dayak_state = {
								every_scope_pop = {
									limit = {
										culture = cu:dayak
									}
									move_pop = scope:migration_fixes_home_dayak_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:malagasy
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:malagasy }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:malagasy }
							}
							save_temporary_scope_as = migration_fixes_home_malagasy_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_malagasy_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:malagasy } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_malagasy_state
						scope:migration_fixes_home_malagasy_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:malagasy
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:malagasy
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_malagasy_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:malagasy
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:malagasy
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_malagasy_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:malagasy
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:malagasy
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_malagasy_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:malagasy
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:malagasy
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_malagasy_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:malagasy
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:malagasy
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_malagasy_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:malagasy
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:malagasy
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_malagasy_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:malagasy
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:malagasy
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_malagasy_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:malagasy
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:malagasy
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_malagasy_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:malagasy
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:malagasy
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_malagasy_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:malagasy
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:malagasy
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_malagasy_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:malagasy
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:malagasy
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_malagasy_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:malagasy
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:malagasy
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_malagasy_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:malagasy
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_malagasy_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_malagasy_state = {
								every_scope_pop = {
									limit = {
										culture = cu:malagasy
									}
									move_pop = scope:migration_fixes_home_malagasy_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:filipino
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:filipino }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:filipino }
							}
							save_temporary_scope_as = migration_fixes_home_filipino_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_filipino_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:filipino } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_filipino_state
						scope:migration_fixes_home_filipino_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:filipino
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:filipino
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_filipino_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:filipino
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:filipino
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_filipino_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:filipino
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:filipino
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_filipino_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:filipino
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:filipino
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_filipino_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:filipino
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:filipino
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_filipino_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:filipino
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:filipino
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_filipino_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:filipino
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:filipino
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_filipino_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:filipino
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:filipino
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_filipino_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:filipino
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:filipino
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_filipino_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:filipino
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:filipino
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_filipino_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:filipino
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:filipino
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_filipino_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:filipino
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:filipino
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_filipino_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:filipino
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_filipino_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_filipino_state = {
								every_scope_pop = {
									limit = {
										culture = cu:filipino
									}
									move_pop = scope:migration_fixes_home_filipino_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:moro
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:moro }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:moro }
							}
							save_temporary_scope_as = migration_fixes_home_moro_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_moro_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:moro } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_moro_state
						scope:migration_fixes_home_moro_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:moro
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:moro
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_moro_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:moro
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:moro
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_moro_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:moro
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:moro
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_moro_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:moro
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:moro
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_moro_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:moro
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:moro
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_moro_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:moro
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:moro
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_moro_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:moro
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:moro
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_moro_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:moro
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:moro
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_moro_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:moro
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:moro
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_moro_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:moro
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:moro
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_moro_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:moro
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:moro
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_moro_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:moro
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:moro
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_moro_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:moro
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_moro_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_moro_state = {
								every_scope_pop = {
									limit = {
										culture = cu:moro
									}
									move_pop = scope:migration_fixes_home_moro_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:javan
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:javan }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:javan }
							}
							save_temporary_scope_as = migration_fixes_home_javan_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_javan_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:javan } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_javan_state
						scope:migration_fixes_home_javan_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:javan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:javan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_javan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:javan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:javan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_javan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:javan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:javan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_javan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:javan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:javan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_javan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:javan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:javan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_javan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:javan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:javan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_javan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:javan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:javan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_javan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:javan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:javan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_javan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:javan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:javan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_javan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:javan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:javan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_javan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:javan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:javan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_javan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:javan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:javan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_javan_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:javan
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_javan_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_javan_state = {
								every_scope_pop = {
									limit = {
										culture = cu:javan
									}
									move_pop = scope:migration_fixes_home_javan_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:moluccan
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:moluccan }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:moluccan }
							}
							save_temporary_scope_as = migration_fixes_home_moluccan_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_moluccan_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:moluccan } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_moluccan_state
						scope:migration_fixes_home_moluccan_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:moluccan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:moluccan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_moluccan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:moluccan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:moluccan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_moluccan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:moluccan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:moluccan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_moluccan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:moluccan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:moluccan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_moluccan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:moluccan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:moluccan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_moluccan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:moluccan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:moluccan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_moluccan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:moluccan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:moluccan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_moluccan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:moluccan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:moluccan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_moluccan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:moluccan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:moluccan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_moluccan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:moluccan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:moluccan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_moluccan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:moluccan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:moluccan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_moluccan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:moluccan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:moluccan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_moluccan_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:moluccan
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_moluccan_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_moluccan_state = {
								every_scope_pop = {
									limit = {
										culture = cu:moluccan
									}
									move_pop = scope:migration_fixes_home_moluccan_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:thai
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:thai }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:thai }
							}
							save_temporary_scope_as = migration_fixes_home_thai_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_thai_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:thai } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_thai_state
						scope:migration_fixes_home_thai_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:thai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:thai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_thai_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:thai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:thai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_thai_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:thai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:thai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_thai_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:thai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:thai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_thai_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:thai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:thai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_thai_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:thai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:thai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_thai_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:thai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:thai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_thai_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:thai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:thai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_thai_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:thai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:thai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_thai_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:thai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:thai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_thai_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:thai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:thai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_thai_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:thai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:thai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_thai_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:thai
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_thai_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_thai_state = {
								every_scope_pop = {
									limit = {
										culture = cu:thai
									}
									move_pop = scope:migration_fixes_home_thai_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:mon
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:mon }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:mon }
							}
							save_temporary_scope_as = migration_fixes_home_mon_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_mon_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:mon } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_mon_state
						scope:migration_fixes_home_mon_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:mon
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mon
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_mon_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mon
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mon
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_mon_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mon
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mon
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_mon_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mon
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mon
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_mon_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mon
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mon
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_mon_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mon
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mon
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_mon_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mon
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mon
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_mon_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mon
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mon
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_mon_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mon
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mon
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_mon_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mon
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mon
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_mon_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mon
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mon
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_mon_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mon
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mon
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_mon_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:mon
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_mon_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_mon_state = {
								every_scope_pop = {
									limit = {
										culture = cu:mon
									}
									move_pop = scope:migration_fixes_home_mon_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:khmu
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:khmu }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:khmu }
							}
							save_temporary_scope_as = migration_fixes_home_khmu_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_khmu_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:khmu } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_khmu_state
						scope:migration_fixes_home_khmu_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:khmu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:khmu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_khmu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:khmu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:khmu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_khmu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:khmu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:khmu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_khmu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:khmu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:khmu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_khmu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:khmu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:khmu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_khmu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:khmu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:khmu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_khmu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:khmu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:khmu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_khmu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:khmu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:khmu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_khmu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:khmu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:khmu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_khmu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:khmu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:khmu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_khmu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:khmu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:khmu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_khmu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:khmu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:khmu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_khmu_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:khmu
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_khmu_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_khmu_state = {
								every_scope_pop = {
									limit = {
										culture = cu:khmu
									}
									move_pop = scope:migration_fixes_home_khmu_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:lao
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:lao }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:lao }
							}
							save_temporary_scope_as = migration_fixes_home_lao_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_lao_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:lao } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_lao_state
						scope:migration_fixes_home_lao_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:lao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_lao_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_lao_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_lao_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_lao_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_lao_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_lao_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_lao_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_lao_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_lao_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_lao_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_lao_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_lao_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:lao
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_lao_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_lao_state = {
								every_scope_pop = {
									limit = {
										culture = cu:lao
									}
									move_pop = scope:migration_fixes_home_lao_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:shan
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:shan }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:shan }
							}
							save_temporary_scope_as = migration_fixes_home_shan_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_shan_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:shan } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_shan_state
						scope:migration_fixes_home_shan_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:shan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:shan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_shan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:shan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:shan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_shan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:shan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:shan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_shan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:shan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:shan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_shan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:shan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:shan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_shan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:shan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:shan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_shan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:shan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:shan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_shan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:shan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:shan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_shan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:shan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:shan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_shan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:shan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:shan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_shan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:shan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:shan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_shan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:shan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:shan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_shan_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:shan
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_shan_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_shan_state = {
								every_scope_pop = {
									limit = {
										culture = cu:shan
									}
									move_pop = scope:migration_fixes_home_shan_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:burmese
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:burmese }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:burmese }
							}
							save_temporary_scope_as = migration_fixes_home_burmese_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_burmese_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:burmese } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_burmese_state
						scope:migration_fixes_home_burmese_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:burmese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:burmese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_burmese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:burmese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:burmese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_burmese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:burmese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:burmese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_burmese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:burmese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:burmese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_burmese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:burmese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:burmese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_burmese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:burmese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:burmese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_burmese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:burmese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:burmese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_burmese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:burmese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:burmese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_burmese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:burmese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:burmese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_burmese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:burmese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:burmese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_burmese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:burmese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:burmese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_burmese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:burmese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:burmese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_burmese_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:burmese
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_burmese_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_burmese_state = {
								every_scope_pop = {
									limit = {
										culture = cu:burmese
									}
									move_pop = scope:migration_fixes_home_burmese_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:kachin
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:kachin }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:kachin }
							}
							save_temporary_scope_as = migration_fixes_home_kachin_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_kachin_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:kachin } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_kachin_state
						scope:migration_fixes_home_kachin_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:kachin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kachin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_kachin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kachin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kachin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_kachin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kachin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kachin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_kachin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kachin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kachin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_kachin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kachin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kachin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_kachin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kachin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kachin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_kachin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kachin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kachin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_kachin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kachin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kachin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_kachin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kachin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kachin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_kachin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kachin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kachin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_kachin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kachin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kachin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_kachin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kachin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kachin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_kachin_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:kachin
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_kachin_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_kachin_state = {
								every_scope_pop = {
									limit = {
										culture = cu:kachin
									}
									move_pop = scope:migration_fixes_home_kachin_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:karen
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:karen }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:karen }
							}
							save_temporary_scope_as = migration_fixes_home_karen_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_karen_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:karen } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_karen_state
						scope:migration_fixes_home_karen_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:karen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:karen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_karen_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:karen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:karen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_karen_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:karen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:karen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_karen_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:karen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:karen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_karen_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:karen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:karen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_karen_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:karen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:karen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_karen_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:karen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:karen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_karen_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:karen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:karen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_karen_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:karen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:karen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_karen_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:karen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:karen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_karen_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:karen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:karen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_karen_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:karen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:karen
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_karen_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:karen
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_karen_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_karen_state = {
								every_scope_pop = {
									limit = {
										culture = cu:karen
									}
									move_pop = scope:migration_fixes_home_karen_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:japanese
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:japanese }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:japanese }
							}
							save_temporary_scope_as = migration_fixes_home_japanese_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_japanese_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:japanese } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_japanese_state
						scope:migration_fixes_home_japanese_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:japanese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:japanese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_japanese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:japanese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:japanese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_japanese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:japanese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:japanese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_japanese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:japanese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:japanese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_japanese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:japanese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:japanese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_japanese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:japanese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:japanese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_japanese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:japanese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:japanese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_japanese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:japanese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:japanese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_japanese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:japanese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:japanese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_japanese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:japanese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:japanese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_japanese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:japanese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:japanese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_japanese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:japanese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:japanese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_japanese_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:japanese
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_japanese_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_japanese_state = {
								every_scope_pop = {
									limit = {
										culture = cu:japanese
									}
									move_pop = scope:migration_fixes_home_japanese_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:manchu
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:manchu }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:manchu }
							}
							save_temporary_scope_as = migration_fixes_home_manchu_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_manchu_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:manchu } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_manchu_state
						scope:migration_fixes_home_manchu_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:manchu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:manchu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_manchu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:manchu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:manchu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_manchu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:manchu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:manchu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_manchu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:manchu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:manchu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_manchu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:manchu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:manchu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_manchu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:manchu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:manchu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_manchu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:manchu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:manchu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_manchu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:manchu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:manchu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_manchu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:manchu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:manchu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_manchu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:manchu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:manchu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_manchu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:manchu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:manchu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_manchu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:manchu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:manchu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_manchu_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:manchu
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_manchu_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_manchu_state = {
								every_scope_pop = {
									limit = {
										culture = cu:manchu
									}
									move_pop = scope:migration_fixes_home_manchu_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:han
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:han }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:han }
							}
							save_temporary_scope_as = migration_fixes_home_han_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_han_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:han } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_han_state
						scope:migration_fixes_home_han_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:han
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:han
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_han_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:han
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:han
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_han_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:han
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:han
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_han_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:han
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:han
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_han_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:han
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:han
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_han_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:han
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:han
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_han_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:han
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:han
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_han_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:han
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:han
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_han_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:han
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:han
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_han_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:han
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:han
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_han_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:han
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:han
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_han_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:han
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:han
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_han_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:han
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_han_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_han_state = {
								every_scope_pop = {
									limit = {
										culture = cu:han
									}
									move_pop = scope:migration_fixes_home_han_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:korean
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:korean }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:korean }
							}
							save_temporary_scope_as = migration_fixes_home_korean_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_korean_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:korean } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_korean_state
						scope:migration_fixes_home_korean_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:korean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:korean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_korean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:korean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:korean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_korean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:korean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:korean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_korean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:korean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:korean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_korean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:korean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:korean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_korean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:korean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:korean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_korean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:korean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:korean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_korean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:korean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:korean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_korean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:korean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:korean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_korean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:korean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:korean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_korean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:korean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:korean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_korean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:korean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:korean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_korean_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:korean
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_korean_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_korean_state = {
								every_scope_pop = {
									limit = {
										culture = cu:korean
									}
									move_pop = scope:migration_fixes_home_korean_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:ainu
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:ainu }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:ainu }
							}
							save_temporary_scope_as = migration_fixes_home_ainu_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_ainu_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:ainu } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_ainu_state
						scope:migration_fixes_home_ainu_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:ainu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ainu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_ainu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ainu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ainu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_ainu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ainu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ainu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_ainu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ainu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ainu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_ainu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ainu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ainu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_ainu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ainu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ainu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_ainu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ainu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ainu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_ainu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ainu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ainu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_ainu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ainu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ainu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_ainu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ainu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ainu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_ainu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ainu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ainu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_ainu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ainu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ainu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_ainu_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:ainu
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_ainu_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_ainu_state = {
								every_scope_pop = {
									limit = {
										culture = cu:ainu
									}
									move_pop = scope:migration_fixes_home_ainu_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:hakka
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:hakka }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:hakka }
							}
							save_temporary_scope_as = migration_fixes_home_hakka_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_hakka_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:hakka } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_hakka_state
						scope:migration_fixes_home_hakka_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:hakka
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hakka
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_hakka_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hakka
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hakka
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_hakka_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hakka
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hakka
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_hakka_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hakka
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hakka
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_hakka_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hakka
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hakka
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_hakka_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hakka
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hakka
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_hakka_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hakka
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hakka
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_hakka_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hakka
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hakka
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_hakka_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hakka
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hakka
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_hakka_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hakka
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hakka
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_hakka_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hakka
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hakka
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_hakka_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hakka
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hakka
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_hakka_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:hakka
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_hakka_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_hakka_state = {
								every_scope_pop = {
									limit = {
										culture = cu:hakka
									}
									move_pop = scope:migration_fixes_home_hakka_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:miao
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:miao }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:miao }
							}
							save_temporary_scope_as = migration_fixes_home_miao_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_miao_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:miao } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_miao_state
						scope:migration_fixes_home_miao_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:miao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:miao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_miao_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:miao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:miao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_miao_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:miao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:miao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_miao_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:miao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:miao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_miao_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:miao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:miao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_miao_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:miao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:miao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_miao_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:miao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:miao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_miao_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:miao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:miao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_miao_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:miao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:miao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_miao_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:miao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:miao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_miao_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:miao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:miao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_miao_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:miao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:miao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_miao_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:miao
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_miao_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_miao_state = {
								every_scope_pop = {
									limit = {
										culture = cu:miao
									}
									move_pop = scope:migration_fixes_home_miao_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:min
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:min }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:min }
							}
							save_temporary_scope_as = migration_fixes_home_min_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_min_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:min } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_min_state
						scope:migration_fixes_home_min_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:min
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:min
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_min_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:min
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:min
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_min_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:min
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:min
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_min_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:min
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:min
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_min_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:min
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:min
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_min_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:min
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:min
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_min_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:min
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:min
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_min_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:min
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:min
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_min_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:min
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:min
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_min_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:min
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:min
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_min_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:min
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:min
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_min_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:min
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:min
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_min_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:min
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_min_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_min_state = {
								every_scope_pop = {
									limit = {
										culture = cu:min
									}
									move_pop = scope:migration_fixes_home_min_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:zhuang
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:zhuang }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:zhuang }
							}
							save_temporary_scope_as = migration_fixes_home_zhuang_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_zhuang_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:zhuang } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_zhuang_state
						scope:migration_fixes_home_zhuang_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:zhuang
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:zhuang
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_zhuang_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:zhuang
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:zhuang
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_zhuang_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:zhuang
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:zhuang
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_zhuang_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:zhuang
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:zhuang
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_zhuang_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:zhuang
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:zhuang
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_zhuang_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:zhuang
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:zhuang
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_zhuang_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:zhuang
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:zhuang
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_zhuang_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:zhuang
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:zhuang
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_zhuang_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:zhuang
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:zhuang
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_zhuang_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:zhuang
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:zhuang
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_zhuang_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:zhuang
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:zhuang
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_zhuang_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:zhuang
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:zhuang
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_zhuang_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:zhuang
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_zhuang_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_zhuang_state = {
								every_scope_pop = {
									limit = {
										culture = cu:zhuang
									}
									move_pop = scope:migration_fixes_home_zhuang_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:yi
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:yi }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:yi }
							}
							save_temporary_scope_as = migration_fixes_home_yi_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_yi_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:yi } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_yi_state
						scope:migration_fixes_home_yi_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:yi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_yi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_yi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_yi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_yi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_yi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_yi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_yi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_yi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_yi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_yi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_yi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_yi_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:yi
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_yi_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_yi_state = {
								every_scope_pop = {
									limit = {
										culture = cu:yi
									}
									move_pop = scope:migration_fixes_home_yi_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:yue
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:yue }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:yue }
							}
							save_temporary_scope_as = migration_fixes_home_yue_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_yue_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:yue } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_yue_state
						scope:migration_fixes_home_yue_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:yue
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yue
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_yue_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yue
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yue
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_yue_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yue
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yue
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_yue_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yue
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yue
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_yue_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yue
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yue
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_yue_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yue
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yue
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_yue_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yue
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yue
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_yue_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yue
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yue
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_yue_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yue
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yue
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_yue_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yue
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yue
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_yue_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yue
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yue
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_yue_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yue
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yue
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_yue_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:yue
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_yue_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_yue_state = {
								every_scope_pop = {
									limit = {
										culture = cu:yue
									}
									move_pop = scope:migration_fixes_home_yue_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:polynesian
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:polynesian }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:polynesian }
							}
							save_temporary_scope_as = migration_fixes_home_polynesian_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_polynesian_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:polynesian } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_polynesian_state
						scope:migration_fixes_home_polynesian_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:polynesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:polynesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_polynesian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:polynesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:polynesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_polynesian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:polynesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:polynesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_polynesian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:polynesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:polynesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_polynesian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:polynesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:polynesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_polynesian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:polynesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:polynesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_polynesian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:polynesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:polynesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_polynesian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:polynesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:polynesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_polynesian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:polynesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:polynesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_polynesian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:polynesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:polynesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_polynesian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:polynesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:polynesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_polynesian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:polynesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:polynesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_polynesian_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:polynesian
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_polynesian_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_polynesian_state = {
								every_scope_pop = {
									limit = {
										culture = cu:polynesian
									}
									move_pop = scope:migration_fixes_home_polynesian_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:hawaiian
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:hawaiian }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:hawaiian }
							}
							save_temporary_scope_as = migration_fixes_home_hawaiian_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_hawaiian_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:hawaiian } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_hawaiian_state
						scope:migration_fixes_home_hawaiian_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:hawaiian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hawaiian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_hawaiian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hawaiian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hawaiian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_hawaiian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hawaiian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hawaiian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_hawaiian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hawaiian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hawaiian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_hawaiian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hawaiian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hawaiian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_hawaiian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hawaiian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hawaiian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_hawaiian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hawaiian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hawaiian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_hawaiian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hawaiian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hawaiian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_hawaiian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hawaiian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hawaiian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_hawaiian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hawaiian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hawaiian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_hawaiian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hawaiian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hawaiian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_hawaiian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hawaiian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hawaiian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_hawaiian_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:hawaiian
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_hawaiian_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_hawaiian_state = {
								every_scope_pop = {
									limit = {
										culture = cu:hawaiian
									}
									move_pop = scope:migration_fixes_home_hawaiian_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:melanesian
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:melanesian }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:melanesian }
							}
							save_temporary_scope_as = migration_fixes_home_melanesian_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_melanesian_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:melanesian } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_melanesian_state
						scope:migration_fixes_home_melanesian_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:melanesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:melanesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_melanesian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:melanesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:melanesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_melanesian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:melanesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:melanesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_melanesian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:melanesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:melanesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_melanesian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:melanesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:melanesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_melanesian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:melanesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:melanesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_melanesian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:melanesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:melanesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_melanesian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:melanesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:melanesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_melanesian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:melanesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:melanesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_melanesian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:melanesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:melanesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_melanesian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:melanesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:melanesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_melanesian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:melanesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:melanesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_melanesian_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:melanesian
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_melanesian_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_melanesian_state = {
								every_scope_pop = {
									limit = {
										culture = cu:melanesian
									}
									move_pop = scope:migration_fixes_home_melanesian_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:micronesian
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:micronesian }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:micronesian }
							}
							save_temporary_scope_as = migration_fixes_home_micronesian_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_micronesian_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:micronesian } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_micronesian_state
						scope:migration_fixes_home_micronesian_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:micronesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:micronesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_micronesian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:micronesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:micronesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_micronesian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:micronesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:micronesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_micronesian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:micronesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:micronesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_micronesian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:micronesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:micronesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_micronesian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:micronesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:micronesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_micronesian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:micronesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:micronesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_micronesian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:micronesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:micronesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_micronesian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:micronesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:micronesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_micronesian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:micronesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:micronesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_micronesian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:micronesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:micronesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_micronesian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:micronesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:micronesian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_micronesian_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:micronesian
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_micronesian_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_micronesian_state = {
								every_scope_pop = {
									limit = {
										culture = cu:micronesian
									}
									move_pop = scope:migration_fixes_home_micronesian_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:maori
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:maori }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:maori }
							}
							save_temporary_scope_as = migration_fixes_home_maori_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_maori_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:maori } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_maori_state
						scope:migration_fixes_home_maori_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:maori
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:maori
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_maori_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:maori
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:maori
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_maori_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:maori
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:maori
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_maori_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:maori
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:maori
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_maori_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:maori
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:maori
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_maori_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:maori
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:maori
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_maori_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:maori
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:maori
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_maori_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:maori
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:maori
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_maori_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:maori
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:maori
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_maori_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:maori
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:maori
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_maori_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:maori
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:maori
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_maori_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:maori
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:maori
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_maori_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:maori
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_maori_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_maori_state = {
								every_scope_pop = {
									limit = {
										culture = cu:maori
									}
									move_pop = scope:migration_fixes_home_maori_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:yuanzhumin
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:yuanzhumin }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:yuanzhumin }
							}
							save_temporary_scope_as = migration_fixes_home_yuanzhumin_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_yuanzhumin_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:yuanzhumin } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_yuanzhumin_state
						scope:migration_fixes_home_yuanzhumin_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:yuanzhumin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yuanzhumin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_yuanzhumin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yuanzhumin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yuanzhumin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_yuanzhumin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yuanzhumin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yuanzhumin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_yuanzhumin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yuanzhumin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yuanzhumin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_yuanzhumin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yuanzhumin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yuanzhumin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_yuanzhumin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yuanzhumin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yuanzhumin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_yuanzhumin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yuanzhumin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yuanzhumin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_yuanzhumin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yuanzhumin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yuanzhumin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_yuanzhumin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yuanzhumin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yuanzhumin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_yuanzhumin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yuanzhumin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yuanzhumin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_yuanzhumin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yuanzhumin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yuanzhumin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_yuanzhumin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yuanzhumin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yuanzhumin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_yuanzhumin_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:yuanzhumin
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_yuanzhumin_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_yuanzhumin_state = {
								every_scope_pop = {
									limit = {
										culture = cu:yuanzhumin
									}
									move_pop = scope:migration_fixes_home_yuanzhumin_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:aborigine
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:aborigine }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:aborigine }
							}
							save_temporary_scope_as = migration_fixes_home_aborigine_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_aborigine_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:aborigine } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_aborigine_state
						scope:migration_fixes_home_aborigine_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:aborigine
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:aborigine
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_aborigine_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:aborigine
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:aborigine
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_aborigine_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:aborigine
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:aborigine
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_aborigine_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:aborigine
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:aborigine
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_aborigine_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:aborigine
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:aborigine
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_aborigine_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:aborigine
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:aborigine
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_aborigine_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:aborigine
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:aborigine
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_aborigine_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:aborigine
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:aborigine
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_aborigine_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:aborigine
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:aborigine
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_aborigine_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:aborigine
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:aborigine
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_aborigine_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:aborigine
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:aborigine
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_aborigine_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:aborigine
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:aborigine
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_aborigine_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:aborigine
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_aborigine_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_aborigine_state = {
								every_scope_pop = {
									limit = {
										culture = cu:aborigine
									}
									move_pop = scope:migration_fixes_home_aborigine_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:zapotec
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:zapotec }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:zapotec }
							}
							save_temporary_scope_as = migration_fixes_home_zapotec_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_zapotec_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:zapotec } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_zapotec_state
						scope:migration_fixes_home_zapotec_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:zapotec
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:zapotec
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_zapotec_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:zapotec
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:zapotec
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_zapotec_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:zapotec
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:zapotec
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_zapotec_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:zapotec
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:zapotec
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_zapotec_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:zapotec
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:zapotec
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_zapotec_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:zapotec
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:zapotec
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_zapotec_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:zapotec
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:zapotec
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_zapotec_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:zapotec
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:zapotec
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_zapotec_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:zapotec
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:zapotec
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_zapotec_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:zapotec
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:zapotec
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_zapotec_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:zapotec
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:zapotec
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_zapotec_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:zapotec
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:zapotec
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_zapotec_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:zapotec
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_zapotec_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_zapotec_state = {
								every_scope_pop = {
									limit = {
										culture = cu:zapotec
									}
									move_pop = scope:migration_fixes_home_zapotec_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:mayan
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:mayan }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:mayan }
							}
							save_temporary_scope_as = migration_fixes_home_mayan_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_mayan_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:mayan } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_mayan_state
						scope:migration_fixes_home_mayan_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:mayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_mayan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_mayan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_mayan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_mayan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_mayan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_mayan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_mayan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_mayan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_mayan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_mayan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_mayan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_mayan_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:mayan
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_mayan_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_mayan_state = {
								every_scope_pop = {
									limit = {
										culture = cu:mayan
									}
									move_pop = scope:migration_fixes_home_mayan_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:nahua
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:nahua }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:nahua }
							}
							save_temporary_scope_as = migration_fixes_home_nahua_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_nahua_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:nahua } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_nahua_state
						scope:migration_fixes_home_nahua_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:nahua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nahua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_nahua_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nahua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nahua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_nahua_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nahua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nahua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_nahua_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nahua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nahua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_nahua_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nahua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nahua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_nahua_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nahua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nahua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_nahua_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nahua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nahua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_nahua_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nahua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nahua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_nahua_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nahua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nahua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_nahua_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nahua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nahua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_nahua_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nahua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nahua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_nahua_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nahua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nahua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_nahua_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:nahua
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_nahua_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_nahua_state = {
								every_scope_pop = {
									limit = {
										culture = cu:nahua
									}
									move_pop = scope:migration_fixes_home_nahua_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:tarascan
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:tarascan }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:tarascan }
							}
							save_temporary_scope_as = migration_fixes_home_tarascan_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_tarascan_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:tarascan } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_tarascan_state
						scope:migration_fixes_home_tarascan_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:tarascan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tarascan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_tarascan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tarascan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tarascan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_tarascan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tarascan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tarascan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_tarascan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tarascan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tarascan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_tarascan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tarascan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tarascan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_tarascan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tarascan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tarascan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_tarascan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tarascan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tarascan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_tarascan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tarascan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tarascan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_tarascan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tarascan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tarascan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_tarascan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tarascan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tarascan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_tarascan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tarascan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tarascan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_tarascan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tarascan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tarascan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_tarascan_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:tarascan
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_tarascan_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_tarascan_state = {
								every_scope_pop = {
									limit = {
										culture = cu:tarascan
									}
									move_pop = scope:migration_fixes_home_tarascan_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:quechua
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:quechua }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:quechua }
							}
							save_temporary_scope_as = migration_fixes_home_quechua_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_quechua_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:quechua } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_quechua_state
						scope:migration_fixes_home_quechua_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:quechua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:quechua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_quechua_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:quechua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:quechua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_quechua_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:quechua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:quechua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_quechua_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:quechua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:quechua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_quechua_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:quechua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:quechua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_quechua_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:quechua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:quechua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_quechua_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:quechua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:quechua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_quechua_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:quechua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:quechua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_quechua_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:quechua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:quechua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_quechua_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:quechua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:quechua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_quechua_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:quechua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:quechua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_quechua_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:quechua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:quechua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_quechua_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:quechua
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_quechua_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_quechua_state = {
								every_scope_pop = {
									limit = {
										culture = cu:quechua
									}
									move_pop = scope:migration_fixes_home_quechua_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:guarani
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:guarani }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:guarani }
							}
							save_temporary_scope_as = migration_fixes_home_guarani_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_guarani_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:guarani } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_guarani_state
						scope:migration_fixes_home_guarani_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:guarani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:guarani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_guarani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:guarani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:guarani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_guarani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:guarani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:guarani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_guarani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:guarani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:guarani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_guarani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:guarani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:guarani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_guarani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:guarani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:guarani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_guarani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:guarani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:guarani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_guarani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:guarani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:guarani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_guarani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:guarani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:guarani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_guarani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:guarani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:guarani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_guarani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:guarani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:guarani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_guarani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:guarani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:guarani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_guarani_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:guarani
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_guarani_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_guarani_state = {
								every_scope_pop = {
									limit = {
										culture = cu:guarani
									}
									move_pop = scope:migration_fixes_home_guarani_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:aimara
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:aimara }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:aimara }
							}
							save_temporary_scope_as = migration_fixes_home_aimara_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_aimara_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:aimara } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_aimara_state
						scope:migration_fixes_home_aimara_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:aimara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:aimara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_aimara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:aimara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:aimara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_aimara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:aimara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:aimara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_aimara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:aimara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:aimara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_aimara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:aimara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:aimara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_aimara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:aimara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:aimara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_aimara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:aimara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:aimara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_aimara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:aimara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:aimara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_aimara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:aimara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:aimara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_aimara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:aimara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:aimara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_aimara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:aimara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:aimara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_aimara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:aimara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:aimara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_aimara_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:aimara
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_aimara_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_aimara_state = {
								every_scope_pop = {
									limit = {
										culture = cu:aimara
									}
									move_pop = scope:migration_fixes_home_aimara_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:amazonian
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:amazonian }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:amazonian }
							}
							save_temporary_scope_as = migration_fixes_home_amazonian_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_amazonian_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:amazonian } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_amazonian_state
						scope:migration_fixes_home_amazonian_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:amazonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:amazonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_amazonian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:amazonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:amazonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_amazonian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:amazonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:amazonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_amazonian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:amazonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:amazonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_amazonian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:amazonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:amazonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_amazonian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:amazonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:amazonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_amazonian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:amazonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:amazonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_amazonian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:amazonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:amazonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_amazonian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:amazonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:amazonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_amazonian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:amazonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:amazonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_amazonian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:amazonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:amazonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_amazonian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:amazonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:amazonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_amazonian_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:amazonian
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_amazonian_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_amazonian_state = {
								every_scope_pop = {
									limit = {
										culture = cu:amazonian
									}
									move_pop = scope:migration_fixes_home_amazonian_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:patagonian
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:patagonian }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:patagonian }
							}
							save_temporary_scope_as = migration_fixes_home_patagonian_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_patagonian_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:patagonian } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_patagonian_state
						scope:migration_fixes_home_patagonian_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:patagonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:patagonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_patagonian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:patagonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:patagonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_patagonian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:patagonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:patagonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_patagonian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:patagonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:patagonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_patagonian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:patagonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:patagonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_patagonian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:patagonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:patagonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_patagonian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:patagonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:patagonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_patagonian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:patagonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:patagonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_patagonian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:patagonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:patagonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_patagonian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:patagonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:patagonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_patagonian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:patagonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:patagonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_patagonian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:patagonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:patagonian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_patagonian_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:patagonian
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_patagonian_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_patagonian_state = {
								every_scope_pop = {
									limit = {
										culture = cu:patagonian
									}
									move_pop = scope:migration_fixes_home_patagonian_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:guajiro
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:guajiro }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:guajiro }
							}
							save_temporary_scope_as = migration_fixes_home_guajiro_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_guajiro_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:guajiro } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_guajiro_state
						scope:migration_fixes_home_guajiro_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:guajiro
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:guajiro
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_guajiro_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:guajiro
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:guajiro
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_guajiro_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:guajiro
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:guajiro
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_guajiro_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:guajiro
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:guajiro
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_guajiro_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:guajiro
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:guajiro
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_guajiro_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:guajiro
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:guajiro
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_guajiro_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:guajiro
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:guajiro
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_guajiro_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:guajiro
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:guajiro
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_guajiro_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:guajiro
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:guajiro
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_guajiro_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:guajiro
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:guajiro
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_guajiro_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:guajiro
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:guajiro
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_guajiro_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:guajiro
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:guajiro
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_guajiro_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:guajiro
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_guajiro_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_guajiro_state = {
								every_scope_pop = {
									limit = {
										culture = cu:guajiro
									}
									move_pop = scope:migration_fixes_home_guajiro_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:tupinamba
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:tupinamba }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:tupinamba }
							}
							save_temporary_scope_as = migration_fixes_home_tupinamba_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_tupinamba_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:tupinamba } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_tupinamba_state
						scope:migration_fixes_home_tupinamba_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:tupinamba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tupinamba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_tupinamba_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tupinamba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tupinamba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_tupinamba_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tupinamba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tupinamba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_tupinamba_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tupinamba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tupinamba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_tupinamba_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tupinamba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tupinamba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_tupinamba_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tupinamba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tupinamba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_tupinamba_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tupinamba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tupinamba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_tupinamba_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tupinamba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tupinamba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_tupinamba_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tupinamba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tupinamba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_tupinamba_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tupinamba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tupinamba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_tupinamba_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tupinamba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tupinamba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_tupinamba_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tupinamba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tupinamba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_tupinamba_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:tupinamba
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_tupinamba_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_tupinamba_state = {
								every_scope_pop = {
									limit = {
										culture = cu:tupinamba
									}
									move_pop = scope:migration_fixes_home_tupinamba_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:metis
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:metis }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:metis }
							}
							save_temporary_scope_as = migration_fixes_home_metis_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_metis_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:metis } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_metis_state
						scope:migration_fixes_home_metis_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:metis
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:metis
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_metis_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:metis
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:metis
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_metis_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:metis
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:metis
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_metis_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:metis
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:metis
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_metis_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:metis
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:metis
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_metis_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:metis
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:metis
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_metis_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:metis
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:metis
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_metis_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:metis
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:metis
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_metis_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:metis
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:metis
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_metis_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:metis
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:metis
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_metis_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:metis
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:metis
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_metis_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:metis
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:metis
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_metis_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:metis
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_metis_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_metis_state = {
								every_scope_pop = {
									limit = {
										culture = cu:metis
									}
									move_pop = scope:migration_fixes_home_metis_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:dakota
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:dakota }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:dakota }
							}
							save_temporary_scope_as = migration_fixes_home_dakota_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_dakota_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:dakota } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_dakota_state
						scope:migration_fixes_home_dakota_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:dakota
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dakota
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_dakota_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dakota
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dakota
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_dakota_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dakota
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dakota
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_dakota_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dakota
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dakota
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_dakota_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dakota
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dakota
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_dakota_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dakota
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dakota
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_dakota_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dakota
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dakota
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_dakota_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dakota
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dakota
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_dakota_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dakota
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dakota
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_dakota_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dakota
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dakota
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_dakota_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dakota
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dakota
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_dakota_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dakota
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dakota
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_dakota_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:dakota
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_dakota_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_dakota_state = {
								every_scope_pop = {
									limit = {
										culture = cu:dakota
									}
									move_pop = scope:migration_fixes_home_dakota_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:cherokee
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:cherokee }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:cherokee }
							}
							save_temporary_scope_as = migration_fixes_home_cherokee_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_cherokee_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:cherokee } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_cherokee_state
						scope:migration_fixes_home_cherokee_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:cherokee
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:cherokee
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_cherokee_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:cherokee
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:cherokee
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_cherokee_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:cherokee
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:cherokee
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_cherokee_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:cherokee
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:cherokee
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_cherokee_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:cherokee
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:cherokee
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_cherokee_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:cherokee
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:cherokee
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_cherokee_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:cherokee
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:cherokee
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_cherokee_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:cherokee
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:cherokee
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_cherokee_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:cherokee
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:cherokee
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_cherokee_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:cherokee
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:cherokee
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_cherokee_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:cherokee
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:cherokee
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_cherokee_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:cherokee
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:cherokee
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_cherokee_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:cherokee
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_cherokee_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_cherokee_state = {
								every_scope_pop = {
									limit = {
										culture = cu:cherokee
									}
									move_pop = scope:migration_fixes_home_cherokee_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:muskogean
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:muskogean }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:muskogean }
							}
							save_temporary_scope_as = migration_fixes_home_muskogean_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_muskogean_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:muskogean } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_muskogean_state
						scope:migration_fixes_home_muskogean_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:muskogean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:muskogean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_muskogean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:muskogean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:muskogean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_muskogean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:muskogean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:muskogean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_muskogean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:muskogean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:muskogean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_muskogean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:muskogean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:muskogean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_muskogean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:muskogean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:muskogean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_muskogean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:muskogean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:muskogean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_muskogean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:muskogean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:muskogean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_muskogean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:muskogean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:muskogean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_muskogean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:muskogean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:muskogean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_muskogean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:muskogean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:muskogean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_muskogean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:muskogean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:muskogean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_muskogean_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:muskogean
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_muskogean_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_muskogean_state = {
								every_scope_pop = {
									limit = {
										culture = cu:muskogean
									}
									move_pop = scope:migration_fixes_home_muskogean_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:pueblo
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:pueblo }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:pueblo }
							}
							save_temporary_scope_as = migration_fixes_home_pueblo_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_pueblo_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:pueblo } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_pueblo_state
						scope:migration_fixes_home_pueblo_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:pueblo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:pueblo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_pueblo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:pueblo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:pueblo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_pueblo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:pueblo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:pueblo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_pueblo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:pueblo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:pueblo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_pueblo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:pueblo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:pueblo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_pueblo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:pueblo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:pueblo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_pueblo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:pueblo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:pueblo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_pueblo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:pueblo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:pueblo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_pueblo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:pueblo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:pueblo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_pueblo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:pueblo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:pueblo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_pueblo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:pueblo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:pueblo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_pueblo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:pueblo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:pueblo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_pueblo_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:pueblo
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_pueblo_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_pueblo_state = {
								every_scope_pop = {
									limit = {
										culture = cu:pueblo
									}
									move_pop = scope:migration_fixes_home_pueblo_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:inuit
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:inuit }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:inuit }
							}
							save_temporary_scope_as = migration_fixes_home_inuit_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_inuit_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:inuit } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_inuit_state
						scope:migration_fixes_home_inuit_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:inuit
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:inuit
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_inuit_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:inuit
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:inuit
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_inuit_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:inuit
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:inuit
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_inuit_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:inuit
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:inuit
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_inuit_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:inuit
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:inuit
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_inuit_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:inuit
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:inuit
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_inuit_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:inuit
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:inuit
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_inuit_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:inuit
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:inuit
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_inuit_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:inuit
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:inuit
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_inuit_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:inuit
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:inuit
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_inuit_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:inuit
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:inuit
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_inuit_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:inuit
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:inuit
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_inuit_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:inuit
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_inuit_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_inuit_state = {
								every_scope_pop = {
									limit = {
										culture = cu:inuit
									}
									move_pop = scope:migration_fixes_home_inuit_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:cree
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:cree }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:cree }
							}
							save_temporary_scope_as = migration_fixes_home_cree_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_cree_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:cree } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_cree_state
						scope:migration_fixes_home_cree_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:cree
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:cree
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_cree_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:cree
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:cree
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_cree_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:cree
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:cree
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_cree_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:cree
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:cree
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_cree_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:cree
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:cree
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_cree_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:cree
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:cree
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_cree_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:cree
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:cree
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_cree_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:cree
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:cree
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_cree_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:cree
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:cree
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_cree_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:cree
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:cree
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_cree_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:cree
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:cree
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_cree_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:cree
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:cree
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_cree_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:cree
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_cree_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_cree_state = {
								every_scope_pop = {
									limit = {
										culture = cu:cree
									}
									move_pop = scope:migration_fixes_home_cree_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:navajo
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:navajo }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:navajo }
							}
							save_temporary_scope_as = migration_fixes_home_navajo_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_navajo_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:navajo } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_navajo_state
						scope:migration_fixes_home_navajo_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:navajo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:navajo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_navajo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:navajo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:navajo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_navajo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:navajo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:navajo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_navajo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:navajo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:navajo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_navajo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:navajo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:navajo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_navajo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:navajo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:navajo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_navajo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:navajo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:navajo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_navajo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:navajo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:navajo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_navajo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:navajo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:navajo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_navajo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:navajo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:navajo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_navajo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:navajo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:navajo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_navajo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:navajo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:navajo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_navajo_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:navajo
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_navajo_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_navajo_state = {
								every_scope_pop = {
									limit = {
										culture = cu:navajo
									}
									move_pop = scope:migration_fixes_home_navajo_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:athabaskan
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:athabaskan }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:athabaskan }
							}
							save_temporary_scope_as = migration_fixes_home_athabaskan_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_athabaskan_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:athabaskan } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_athabaskan_state
						scope:migration_fixes_home_athabaskan_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:athabaskan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:athabaskan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_athabaskan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:athabaskan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:athabaskan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_athabaskan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:athabaskan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:athabaskan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_athabaskan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:athabaskan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:athabaskan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_athabaskan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:athabaskan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:athabaskan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_athabaskan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:athabaskan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:athabaskan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_athabaskan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:athabaskan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:athabaskan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_athabaskan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:athabaskan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:athabaskan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_athabaskan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:athabaskan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:athabaskan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_athabaskan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:athabaskan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:athabaskan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_athabaskan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:athabaskan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:athabaskan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_athabaskan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:athabaskan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:athabaskan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_athabaskan_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:athabaskan
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_athabaskan_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_athabaskan_state = {
								every_scope_pop = {
									limit = {
										culture = cu:athabaskan
									}
									move_pop = scope:migration_fixes_home_athabaskan_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:salish
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:salish }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:salish }
							}
							save_temporary_scope_as = migration_fixes_home_salish_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_salish_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:salish } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_salish_state
						scope:migration_fixes_home_salish_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:salish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:salish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_salish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:salish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:salish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_salish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:salish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:salish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_salish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:salish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:salish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_salish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:salish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:salish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_salish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:salish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:salish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_salish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:salish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:salish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_salish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:salish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:salish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_salish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:salish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:salish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_salish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:salish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:salish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_salish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:salish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:salish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_salish_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:salish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:salish
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_salish_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:salish
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_salish_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_salish_state = {
								every_scope_pop = {
									limit = {
										culture = cu:salish
									}
									move_pop = scope:migration_fixes_home_salish_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:nez_perce
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:nez_perce }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:nez_perce }
							}
							save_temporary_scope_as = migration_fixes_home_nez_perce_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_nez_perce_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:nez_perce } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_nez_perce_state
						scope:migration_fixes_home_nez_perce_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:nez_perce
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nez_perce
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_nez_perce_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nez_perce
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nez_perce
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_nez_perce_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nez_perce
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nez_perce
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_nez_perce_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nez_perce
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nez_perce
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_nez_perce_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nez_perce
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nez_perce
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_nez_perce_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nez_perce
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nez_perce
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_nez_perce_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nez_perce
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nez_perce
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_nez_perce_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nez_perce
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nez_perce
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_nez_perce_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nez_perce
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nez_perce
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_nez_perce_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nez_perce
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nez_perce
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_nez_perce_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nez_perce
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nez_perce
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_nez_perce_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nez_perce
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nez_perce
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_nez_perce_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:nez_perce
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_nez_perce_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_nez_perce_state = {
								every_scope_pop = {
									limit = {
										culture = cu:nez_perce
									}
									move_pop = scope:migration_fixes_home_nez_perce_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:siouan
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:siouan }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:siouan }
							}
							save_temporary_scope_as = migration_fixes_home_siouan_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_siouan_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:siouan } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_siouan_state
						scope:migration_fixes_home_siouan_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:siouan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:siouan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_siouan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:siouan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:siouan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_siouan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:siouan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:siouan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_siouan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:siouan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:siouan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_siouan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:siouan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:siouan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_siouan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:siouan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:siouan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_siouan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:siouan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:siouan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_siouan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:siouan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:siouan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_siouan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:siouan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:siouan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_siouan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:siouan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:siouan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_siouan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:siouan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:siouan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_siouan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:siouan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:siouan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_siouan_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:siouan
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_siouan_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_siouan_state = {
								every_scope_pop = {
									limit = {
										culture = cu:siouan
									}
									move_pop = scope:migration_fixes_home_siouan_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:comanche
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:comanche }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:comanche }
							}
							save_temporary_scope_as = migration_fixes_home_comanche_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_comanche_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:comanche } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_comanche_state
						scope:migration_fixes_home_comanche_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:comanche
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:comanche
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_comanche_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:comanche
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:comanche
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_comanche_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:comanche
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:comanche
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_comanche_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:comanche
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:comanche
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_comanche_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:comanche
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:comanche
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_comanche_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:comanche
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:comanche
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_comanche_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:comanche
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:comanche
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_comanche_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:comanche
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:comanche
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_comanche_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:comanche
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:comanche
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_comanche_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:comanche
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:comanche
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_comanche_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:comanche
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:comanche
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_comanche_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:comanche
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:comanche
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_comanche_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:comanche
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_comanche_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_comanche_state = {
								every_scope_pop = {
									limit = {
										culture = cu:comanche
									}
									move_pop = scope:migration_fixes_home_comanche_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:algonquian
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:algonquian }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:algonquian }
							}
							save_temporary_scope_as = migration_fixes_home_algonquian_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_algonquian_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:algonquian } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_algonquian_state
						scope:migration_fixes_home_algonquian_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:algonquian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:algonquian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_algonquian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:algonquian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:algonquian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_algonquian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:algonquian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:algonquian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_algonquian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:algonquian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:algonquian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_algonquian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:algonquian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:algonquian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_algonquian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:algonquian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:algonquian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_algonquian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:algonquian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:algonquian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_algonquian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:algonquian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:algonquian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_algonquian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:algonquian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:algonquian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_algonquian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:algonquian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:algonquian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_algonquian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:algonquian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:algonquian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_algonquian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:algonquian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:algonquian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_algonquian_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:algonquian
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_algonquian_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_algonquian_state = {
								every_scope_pop = {
									limit = {
										culture = cu:algonquian
									}
									move_pop = scope:migration_fixes_home_algonquian_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:iroquoian
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:iroquoian }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:iroquoian }
							}
							save_temporary_scope_as = migration_fixes_home_iroquoian_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_iroquoian_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:iroquoian } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_iroquoian_state
						scope:migration_fixes_home_iroquoian_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:iroquoian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:iroquoian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_iroquoian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:iroquoian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:iroquoian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_iroquoian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:iroquoian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:iroquoian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_iroquoian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:iroquoian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:iroquoian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_iroquoian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:iroquoian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:iroquoian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_iroquoian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:iroquoian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:iroquoian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_iroquoian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:iroquoian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:iroquoian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_iroquoian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:iroquoian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:iroquoian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_iroquoian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:iroquoian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:iroquoian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_iroquoian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:iroquoian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:iroquoian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_iroquoian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:iroquoian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:iroquoian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_iroquoian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:iroquoian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:iroquoian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_iroquoian_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:iroquoian
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_iroquoian_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_iroquoian_state = {
								every_scope_pop = {
									limit = {
										culture = cu:iroquoian
									}
									move_pop = scope:migration_fixes_home_iroquoian_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:caddoan
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:caddoan }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:caddoan }
							}
							save_temporary_scope_as = migration_fixes_home_caddoan_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_caddoan_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:caddoan } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_caddoan_state
						scope:migration_fixes_home_caddoan_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:caddoan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:caddoan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_caddoan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:caddoan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:caddoan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_caddoan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:caddoan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:caddoan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_caddoan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:caddoan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:caddoan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_caddoan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:caddoan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:caddoan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_caddoan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:caddoan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:caddoan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_caddoan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:caddoan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:caddoan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_caddoan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:caddoan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:caddoan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_caddoan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:caddoan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:caddoan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_caddoan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:caddoan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:caddoan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_caddoan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:caddoan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:caddoan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_caddoan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:caddoan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:caddoan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_caddoan_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:caddoan
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_caddoan_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_caddoan_state = {
								every_scope_pop = {
									limit = {
										culture = cu:caddoan
									}
									move_pop = scope:migration_fixes_home_caddoan_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:paiute
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:paiute }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:paiute }
							}
							save_temporary_scope_as = migration_fixes_home_paiute_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_paiute_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:paiute } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_paiute_state
						scope:migration_fixes_home_paiute_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:paiute
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:paiute
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_paiute_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:paiute
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:paiute
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_paiute_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:paiute
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:paiute
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_paiute_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:paiute
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:paiute
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_paiute_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:paiute
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:paiute
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_paiute_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:paiute
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:paiute
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_paiute_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:paiute
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:paiute
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_paiute_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:paiute
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:paiute
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_paiute_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:paiute
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:paiute
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_paiute_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:paiute
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:paiute
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_paiute_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:paiute
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:paiute
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_paiute_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:paiute
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:paiute
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_paiute_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:paiute
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_paiute_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_paiute_state = {
								every_scope_pop = {
									limit = {
										culture = cu:paiute
									}
									move_pop = scope:migration_fixes_home_paiute_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:hokan
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:hokan }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:hokan }
							}
							save_temporary_scope_as = migration_fixes_home_hokan_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_hokan_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:hokan } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_hokan_state
						scope:migration_fixes_home_hokan_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:hokan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hokan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_hokan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hokan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hokan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_hokan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hokan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hokan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_hokan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hokan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hokan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_hokan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hokan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hokan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_hokan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hokan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hokan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_hokan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hokan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hokan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_hokan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hokan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hokan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_hokan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hokan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hokan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_hokan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hokan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hokan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_hokan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hokan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hokan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_hokan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hokan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hokan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_hokan_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:hokan
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_hokan_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_hokan_state = {
								every_scope_pop = {
									limit = {
										culture = cu:hokan
									}
									move_pop = scope:migration_fixes_home_hokan_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:apache
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:apache }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:apache }
							}
							save_temporary_scope_as = migration_fixes_home_apache_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_apache_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:apache } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_apache_state
						scope:migration_fixes_home_apache_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:apache
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:apache
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_apache_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:apache
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:apache
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_apache_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:apache
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:apache
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_apache_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:apache
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:apache
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_apache_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:apache
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:apache
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_apache_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:apache
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:apache
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_apache_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:apache
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:apache
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_apache_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:apache
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:apache
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_apache_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:apache
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:apache
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_apache_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:apache
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:apache
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_apache_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:apache
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:apache
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_apache_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:apache
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:apache
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_apache_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:apache
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_apache_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_apache_state = {
								every_scope_pop = {
									limit = {
										culture = cu:apache
									}
									move_pop = scope:migration_fixes_home_apache_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:oodham
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:oodham }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:oodham }
							}
							save_temporary_scope_as = migration_fixes_home_oodham_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_oodham_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:oodham } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_oodham_state
						scope:migration_fixes_home_oodham_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:oodham
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:oodham
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_oodham_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:oodham
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:oodham
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_oodham_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:oodham
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:oodham
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_oodham_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:oodham
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:oodham
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_oodham_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:oodham
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:oodham
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_oodham_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:oodham
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:oodham
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_oodham_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:oodham
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:oodham
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_oodham_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:oodham
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:oodham
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_oodham_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:oodham
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:oodham
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_oodham_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:oodham
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:oodham
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_oodham_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:oodham
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:oodham
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_oodham_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:oodham
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:oodham
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_oodham_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:oodham
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_oodham_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_oodham_state = {
								every_scope_pop = {
									limit = {
										culture = cu:oodham
									}
									move_pop = scope:migration_fixes_home_oodham_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:mixtec
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:mixtec }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:mixtec }
							}
							save_temporary_scope_as = migration_fixes_home_mixtec_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_mixtec_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:mixtec } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_mixtec_state
						scope:migration_fixes_home_mixtec_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:mixtec
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mixtec
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_mixtec_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mixtec
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mixtec
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_mixtec_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mixtec
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mixtec
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_mixtec_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mixtec
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mixtec
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_mixtec_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mixtec
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mixtec
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_mixtec_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mixtec
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mixtec
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_mixtec_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mixtec
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mixtec
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_mixtec_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mixtec
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mixtec
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_mixtec_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mixtec
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mixtec
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_mixtec_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mixtec
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mixtec
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_mixtec_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mixtec
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mixtec
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_mixtec_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mixtec
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mixtec
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_mixtec_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:mixtec
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_mixtec_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_mixtec_state = {
								every_scope_pop = {
									limit = {
										culture = cu:mixtec
									}
									move_pop = scope:migration_fixes_home_mixtec_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:muisca
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:muisca }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:muisca }
							}
							save_temporary_scope_as = migration_fixes_home_muisca_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_muisca_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:muisca } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_muisca_state
						scope:migration_fixes_home_muisca_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:muisca
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:muisca
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_muisca_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:muisca
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:muisca
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_muisca_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:muisca
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:muisca
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_muisca_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:muisca
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:muisca
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_muisca_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:muisca
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:muisca
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_muisca_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:muisca
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:muisca
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_muisca_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:muisca
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:muisca
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_muisca_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:muisca
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:muisca
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_muisca_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:muisca
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:muisca
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_muisca_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:muisca
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:muisca
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_muisca_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:muisca
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:muisca
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_muisca_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:muisca
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:muisca
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_muisca_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:muisca
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_muisca_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_muisca_state = {
								every_scope_pop = {
									limit = {
										culture = cu:muisca
									}
									move_pop = scope:migration_fixes_home_muisca_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:miskito
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:miskito }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:miskito }
							}
							save_temporary_scope_as = migration_fixes_home_miskito_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_miskito_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:miskito } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_miskito_state
						scope:migration_fixes_home_miskito_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:miskito
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:miskito
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_miskito_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:miskito
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:miskito
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_miskito_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:miskito
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:miskito
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_miskito_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:miskito
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:miskito
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_miskito_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:miskito
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:miskito
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_miskito_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:miskito
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:miskito
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_miskito_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:miskito
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:miskito
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_miskito_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:miskito
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:miskito
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_miskito_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:miskito
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:miskito
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_miskito_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:miskito
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:miskito
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_miskito_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:miskito
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:miskito
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_miskito_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:miskito
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:miskito
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_miskito_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:miskito
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_miskito_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_miskito_state = {
								every_scope_pop = {
									limit = {
										culture = cu:miskito
									}
									move_pop = scope:migration_fixes_home_miskito_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:cariban
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:cariban }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:cariban }
							}
							save_temporary_scope_as = migration_fixes_home_cariban_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_cariban_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:cariban } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_cariban_state
						scope:migration_fixes_home_cariban_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:cariban
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:cariban
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_cariban_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:cariban
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:cariban
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_cariban_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:cariban
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:cariban
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_cariban_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:cariban
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:cariban
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_cariban_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:cariban
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:cariban
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_cariban_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:cariban
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:cariban
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_cariban_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:cariban
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:cariban
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_cariban_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:cariban
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:cariban
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_cariban_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:cariban
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:cariban
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_cariban_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:cariban
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:cariban
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_cariban_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:cariban
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:cariban
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_cariban_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:cariban
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:cariban
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_cariban_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:cariban
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_cariban_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_cariban_state = {
								every_scope_pop = {
									limit = {
										culture = cu:cariban
									}
									move_pop = scope:migration_fixes_home_cariban_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:yankee
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:yankee }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:yankee }
							}
							save_temporary_scope_as = migration_fixes_home_yankee_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_yankee_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:yankee } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_yankee_state
						scope:migration_fixes_home_yankee_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:yankee
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yankee
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_yankee_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yankee
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yankee
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_yankee_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yankee
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yankee
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_yankee_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yankee
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yankee
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_yankee_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yankee
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yankee
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_yankee_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yankee
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yankee
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_yankee_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yankee
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yankee
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_yankee_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yankee
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yankee
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_yankee_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yankee
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yankee
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_yankee_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yankee
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yankee
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_yankee_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yankee
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yankee
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_yankee_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yankee
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yankee
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_yankee_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:yankee
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_yankee_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_yankee_state = {
								every_scope_pop = {
									limit = {
										culture = cu:yankee
									}
									move_pop = scope:migration_fixes_home_yankee_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:dixie
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:dixie }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:dixie }
							}
							save_temporary_scope_as = migration_fixes_home_dixie_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_dixie_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:dixie } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_dixie_state
						scope:migration_fixes_home_dixie_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:dixie
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dixie
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_dixie_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dixie
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dixie
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_dixie_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dixie
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dixie
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_dixie_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dixie
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dixie
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_dixie_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dixie
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dixie
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_dixie_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dixie
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dixie
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_dixie_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dixie
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dixie
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_dixie_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dixie
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dixie
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_dixie_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dixie
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dixie
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_dixie_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dixie
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dixie
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_dixie_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dixie
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dixie
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_dixie_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dixie
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dixie
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_dixie_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:dixie
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_dixie_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_dixie_state = {
								every_scope_pop = {
									limit = {
										culture = cu:dixie
									}
									move_pop = scope:migration_fixes_home_dixie_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:mexican
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:mexican }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:mexican }
							}
							save_temporary_scope_as = migration_fixes_home_mexican_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_mexican_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:mexican } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_mexican_state
						scope:migration_fixes_home_mexican_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:mexican
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mexican
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_mexican_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mexican
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mexican
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_mexican_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mexican
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mexican
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_mexican_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mexican
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mexican
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_mexican_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mexican
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mexican
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_mexican_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mexican
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mexican
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_mexican_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mexican
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mexican
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_mexican_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mexican
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mexican
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_mexican_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mexican
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mexican
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_mexican_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mexican
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mexican
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_mexican_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mexican
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mexican
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_mexican_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mexican
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mexican
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_mexican_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:mexican
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_mexican_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_mexican_state = {
								every_scope_pop = {
									limit = {
										culture = cu:mexican
									}
									move_pop = scope:migration_fixes_home_mexican_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:central_american
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:central_american }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:central_american }
							}
							save_temporary_scope_as = migration_fixes_home_central_american_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_central_american_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:central_american } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_central_american_state
						scope:migration_fixes_home_central_american_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:central_american
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:central_american
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_central_american_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:central_american
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:central_american
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_central_american_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:central_american
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:central_american
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_central_american_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:central_american
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:central_american
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_central_american_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:central_american
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:central_american
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_central_american_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:central_american
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:central_american
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_central_american_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:central_american
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:central_american
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_central_american_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:central_american
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:central_american
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_central_american_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:central_american
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:central_american
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_central_american_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:central_american
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:central_american
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_central_american_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:central_american
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:central_american
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_central_american_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:central_american
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:central_american
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_central_american_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:central_american
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_central_american_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_central_american_state = {
								every_scope_pop = {
									limit = {
										culture = cu:central_american
									}
									move_pop = scope:migration_fixes_home_central_american_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:caribeno
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:caribeno }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:caribeno }
							}
							save_temporary_scope_as = migration_fixes_home_caribeno_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_caribeno_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:caribeno } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_caribeno_state
						scope:migration_fixes_home_caribeno_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:caribeno
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:caribeno
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_caribeno_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:caribeno
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:caribeno
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_caribeno_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:caribeno
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:caribeno
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_caribeno_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:caribeno
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:caribeno
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_caribeno_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:caribeno
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:caribeno
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_caribeno_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:caribeno
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:caribeno
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_caribeno_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:caribeno
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:caribeno
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_caribeno_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:caribeno
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:caribeno
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_caribeno_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:caribeno
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:caribeno
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_caribeno_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:caribeno
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:caribeno
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_caribeno_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:caribeno
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:caribeno
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_caribeno_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:caribeno
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:caribeno
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_caribeno_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:caribeno
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_caribeno_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_caribeno_state = {
								every_scope_pop = {
									limit = {
										culture = cu:caribeno
									}
									move_pop = scope:migration_fixes_home_caribeno_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:north_andean
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:north_andean }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:north_andean }
							}
							save_temporary_scope_as = migration_fixes_home_north_andean_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_north_andean_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:north_andean } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_north_andean_state
						scope:migration_fixes_home_north_andean_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:north_andean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:north_andean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_north_andean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:north_andean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:north_andean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_north_andean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:north_andean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:north_andean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_north_andean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:north_andean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:north_andean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_north_andean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:north_andean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:north_andean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_north_andean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:north_andean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:north_andean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_north_andean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:north_andean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:north_andean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_north_andean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:north_andean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:north_andean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_north_andean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:north_andean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:north_andean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_north_andean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:north_andean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:north_andean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_north_andean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:north_andean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:north_andean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_north_andean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:north_andean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:north_andean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_north_andean_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:north_andean
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_north_andean_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_north_andean_state = {
								every_scope_pop = {
									limit = {
										culture = cu:north_andean
									}
									move_pop = scope:migration_fixes_home_north_andean_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:south_andean
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:south_andean }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:south_andean }
							}
							save_temporary_scope_as = migration_fixes_home_south_andean_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_south_andean_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:south_andean } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_south_andean_state
						scope:migration_fixes_home_south_andean_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:south_andean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:south_andean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_south_andean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:south_andean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:south_andean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_south_andean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:south_andean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:south_andean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_south_andean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:south_andean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:south_andean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_south_andean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:south_andean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:south_andean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_south_andean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:south_andean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:south_andean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_south_andean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:south_andean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:south_andean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_south_andean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:south_andean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:south_andean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_south_andean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:south_andean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:south_andean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_south_andean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:south_andean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:south_andean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_south_andean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:south_andean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:south_andean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_south_andean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:south_andean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:south_andean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_south_andean_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:south_andean
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_south_andean_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_south_andean_state = {
								every_scope_pop = {
									limit = {
										culture = cu:south_andean
									}
									move_pop = scope:migration_fixes_home_south_andean_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:peruvian
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:peruvian }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:peruvian }
							}
							save_temporary_scope_as = migration_fixes_home_peruvian_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_peruvian_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:peruvian } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_peruvian_state
						scope:migration_fixes_home_peruvian_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:peruvian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:peruvian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_peruvian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:peruvian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:peruvian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_peruvian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:peruvian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:peruvian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_peruvian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:peruvian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:peruvian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_peruvian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:peruvian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:peruvian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_peruvian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:peruvian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:peruvian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_peruvian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:peruvian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:peruvian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_peruvian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:peruvian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:peruvian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_peruvian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:peruvian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:peruvian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_peruvian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:peruvian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:peruvian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_peruvian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:peruvian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:peruvian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_peruvian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:peruvian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:peruvian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_peruvian_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:peruvian
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_peruvian_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_peruvian_state = {
								every_scope_pop = {
									limit = {
										culture = cu:peruvian
									}
									move_pop = scope:migration_fixes_home_peruvian_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:bolivian
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:bolivian }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:bolivian }
							}
							save_temporary_scope_as = migration_fixes_home_bolivian_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_bolivian_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:bolivian } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_bolivian_state
						scope:migration_fixes_home_bolivian_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:bolivian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bolivian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_bolivian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bolivian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bolivian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_bolivian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bolivian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bolivian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_bolivian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bolivian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bolivian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_bolivian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bolivian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bolivian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_bolivian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bolivian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bolivian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_bolivian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bolivian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bolivian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_bolivian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bolivian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bolivian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_bolivian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bolivian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bolivian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_bolivian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bolivian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bolivian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_bolivian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bolivian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bolivian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_bolivian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bolivian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bolivian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_bolivian_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:bolivian
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_bolivian_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_bolivian_state = {
								every_scope_pop = {
									limit = {
										culture = cu:bolivian
									}
									move_pop = scope:migration_fixes_home_bolivian_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:ecuadorian
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:ecuadorian }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:ecuadorian }
							}
							save_temporary_scope_as = migration_fixes_home_ecuadorian_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_ecuadorian_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:ecuadorian } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_ecuadorian_state
						scope:migration_fixes_home_ecuadorian_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:ecuadorian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ecuadorian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_ecuadorian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ecuadorian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ecuadorian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_ecuadorian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ecuadorian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ecuadorian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_ecuadorian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ecuadorian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ecuadorian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_ecuadorian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ecuadorian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ecuadorian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_ecuadorian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ecuadorian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ecuadorian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_ecuadorian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ecuadorian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ecuadorian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_ecuadorian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ecuadorian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ecuadorian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_ecuadorian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ecuadorian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ecuadorian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_ecuadorian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ecuadorian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ecuadorian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_ecuadorian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ecuadorian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ecuadorian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_ecuadorian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ecuadorian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ecuadorian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_ecuadorian_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:ecuadorian
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_ecuadorian_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_ecuadorian_state = {
								every_scope_pop = {
									limit = {
										culture = cu:ecuadorian
									}
									move_pop = scope:migration_fixes_home_ecuadorian_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:chilean
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:chilean }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:chilean }
							}
							save_temporary_scope_as = migration_fixes_home_chilean_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_chilean_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:chilean } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_chilean_state
						scope:migration_fixes_home_chilean_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:chilean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chilean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_chilean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chilean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chilean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_chilean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chilean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chilean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_chilean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chilean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chilean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_chilean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chilean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chilean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_chilean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chilean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chilean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_chilean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chilean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chilean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_chilean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chilean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chilean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_chilean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chilean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chilean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_chilean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chilean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chilean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_chilean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chilean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chilean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_chilean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chilean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chilean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_chilean_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:chilean
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_chilean_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_chilean_state = {
								every_scope_pop = {
									limit = {
										culture = cu:chilean
									}
									move_pop = scope:migration_fixes_home_chilean_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:venezuelan
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:venezuelan }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:venezuelan }
							}
							save_temporary_scope_as = migration_fixes_home_venezuelan_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_venezuelan_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:venezuelan } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_venezuelan_state
						scope:migration_fixes_home_venezuelan_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:venezuelan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:venezuelan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_venezuelan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:venezuelan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:venezuelan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_venezuelan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:venezuelan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:venezuelan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_venezuelan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:venezuelan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:venezuelan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_venezuelan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:venezuelan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:venezuelan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_venezuelan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:venezuelan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:venezuelan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_venezuelan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:venezuelan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:venezuelan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_venezuelan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:venezuelan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:venezuelan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_venezuelan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:venezuelan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:venezuelan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_venezuelan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:venezuelan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:venezuelan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_venezuelan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:venezuelan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:venezuelan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_venezuelan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:venezuelan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:venezuelan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_venezuelan_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:venezuelan
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_venezuelan_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_venezuelan_state = {
								every_scope_pop = {
									limit = {
										culture = cu:venezuelan
									}
									move_pop = scope:migration_fixes_home_venezuelan_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:argentine
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:argentine }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:argentine }
							}
							save_temporary_scope_as = migration_fixes_home_argentine_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_argentine_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:argentine } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_argentine_state
						scope:migration_fixes_home_argentine_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:argentine
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:argentine
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_argentine_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:argentine
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:argentine
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_argentine_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:argentine
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:argentine
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_argentine_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:argentine
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:argentine
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_argentine_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:argentine
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:argentine
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_argentine_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:argentine
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:argentine
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_argentine_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:argentine
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:argentine
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_argentine_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:argentine
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:argentine
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_argentine_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:argentine
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:argentine
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_argentine_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:argentine
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:argentine
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_argentine_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:argentine
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:argentine
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_argentine_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:argentine
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:argentine
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_argentine_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:argentine
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_argentine_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_argentine_state = {
								every_scope_pop = {
									limit = {
										culture = cu:argentine
									}
									move_pop = scope:migration_fixes_home_argentine_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:uruguayan
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:uruguayan }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:uruguayan }
							}
							save_temporary_scope_as = migration_fixes_home_uruguayan_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_uruguayan_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:uruguayan } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_uruguayan_state
						scope:migration_fixes_home_uruguayan_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:uruguayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:uruguayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_uruguayan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:uruguayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:uruguayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_uruguayan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:uruguayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:uruguayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_uruguayan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:uruguayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:uruguayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_uruguayan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:uruguayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:uruguayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_uruguayan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:uruguayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:uruguayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_uruguayan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:uruguayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:uruguayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_uruguayan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:uruguayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:uruguayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_uruguayan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:uruguayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:uruguayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_uruguayan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:uruguayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:uruguayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_uruguayan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:uruguayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:uruguayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_uruguayan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:uruguayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:uruguayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_uruguayan_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:uruguayan
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_uruguayan_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_uruguayan_state = {
								every_scope_pop = {
									limit = {
										culture = cu:uruguayan
									}
									move_pop = scope:migration_fixes_home_uruguayan_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:paraguayan
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:paraguayan }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:paraguayan }
							}
							save_temporary_scope_as = migration_fixes_home_paraguayan_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_paraguayan_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:paraguayan } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_paraguayan_state
						scope:migration_fixes_home_paraguayan_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:paraguayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:paraguayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_paraguayan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:paraguayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:paraguayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_paraguayan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:paraguayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:paraguayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_paraguayan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:paraguayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:paraguayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_paraguayan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:paraguayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:paraguayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_paraguayan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:paraguayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:paraguayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_paraguayan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:paraguayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:paraguayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_paraguayan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:paraguayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:paraguayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_paraguayan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:paraguayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:paraguayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_paraguayan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:paraguayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:paraguayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_paraguayan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:paraguayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:paraguayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_paraguayan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:paraguayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:paraguayan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_paraguayan_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:paraguayan
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_paraguayan_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_paraguayan_state = {
								every_scope_pop = {
									limit = {
										culture = cu:paraguayan
									}
									move_pop = scope:migration_fixes_home_paraguayan_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:colombian
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:colombian }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:colombian }
							}
							save_temporary_scope_as = migration_fixes_home_colombian_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_colombian_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:colombian } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_colombian_state
						scope:migration_fixes_home_colombian_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:colombian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:colombian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_colombian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:colombian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:colombian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_colombian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:colombian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:colombian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_colombian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:colombian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:colombian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_colombian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:colombian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:colombian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_colombian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:colombian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:colombian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_colombian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:colombian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:colombian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_colombian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:colombian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:colombian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_colombian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:colombian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:colombian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_colombian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:colombian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:colombian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_colombian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:colombian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:colombian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_colombian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:colombian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:colombian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_colombian_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:colombian
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_colombian_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_colombian_state = {
								every_scope_pop = {
									limit = {
										culture = cu:colombian
									}
									move_pop = scope:migration_fixes_home_colombian_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:platinean
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:platinean }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:platinean }
							}
							save_temporary_scope_as = migration_fixes_home_platinean_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_platinean_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:platinean } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_platinean_state
						scope:migration_fixes_home_platinean_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:platinean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:platinean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_platinean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:platinean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:platinean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_platinean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:platinean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:platinean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_platinean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:platinean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:platinean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_platinean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:platinean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:platinean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_platinean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:platinean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:platinean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_platinean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:platinean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:platinean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_platinean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:platinean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:platinean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_platinean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:platinean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:platinean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_platinean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:platinean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:platinean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_platinean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:platinean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:platinean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_platinean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:platinean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:platinean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_platinean_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:platinean
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_platinean_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_platinean_state = {
								every_scope_pop = {
									limit = {
										culture = cu:platinean
									}
									move_pop = scope:migration_fixes_home_platinean_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:brazilian
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:brazilian }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:brazilian }
							}
							save_temporary_scope_as = migration_fixes_home_brazilian_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_brazilian_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:brazilian } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_brazilian_state
						scope:migration_fixes_home_brazilian_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:brazilian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:brazilian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_brazilian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:brazilian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:brazilian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_brazilian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:brazilian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:brazilian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_brazilian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:brazilian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:brazilian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_brazilian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:brazilian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:brazilian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_brazilian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:brazilian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:brazilian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_brazilian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:brazilian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:brazilian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_brazilian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:brazilian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:brazilian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_brazilian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:brazilian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:brazilian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_brazilian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:brazilian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:brazilian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_brazilian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:brazilian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:brazilian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_brazilian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:brazilian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:brazilian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_brazilian_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:brazilian
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_brazilian_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_brazilian_state = {
								every_scope_pop = {
									limit = {
										culture = cu:brazilian
									}
									move_pop = scope:migration_fixes_home_brazilian_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:sulista
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:sulista }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:sulista }
							}
							save_temporary_scope_as = migration_fixes_home_sulista_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_sulista_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:sulista } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_sulista_state
						scope:migration_fixes_home_sulista_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:sulista
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sulista
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_sulista_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sulista
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sulista
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_sulista_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sulista
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sulista
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_sulista_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sulista
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sulista
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_sulista_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sulista
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sulista
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_sulista_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sulista
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sulista
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_sulista_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sulista
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sulista
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_sulista_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sulista
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sulista
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_sulista_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sulista
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sulista
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_sulista_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sulista
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sulista
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_sulista_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sulista
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sulista
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_sulista_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sulista
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sulista
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_sulista_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:sulista
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_sulista_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_sulista_state = {
								every_scope_pop = {
									limit = {
										culture = cu:sulista
									}
									move_pop = scope:migration_fixes_home_sulista_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:nordestino
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:nordestino }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:nordestino }
							}
							save_temporary_scope_as = migration_fixes_home_nordestino_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_nordestino_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:nordestino } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_nordestino_state
						scope:migration_fixes_home_nordestino_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:nordestino
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nordestino
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_nordestino_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nordestino
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nordestino
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_nordestino_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nordestino
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nordestino
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_nordestino_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nordestino
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nordestino
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_nordestino_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nordestino
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nordestino
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_nordestino_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nordestino
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nordestino
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_nordestino_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nordestino
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nordestino
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_nordestino_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nordestino
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nordestino
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_nordestino_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nordestino
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nordestino
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_nordestino_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nordestino
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nordestino
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_nordestino_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nordestino
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nordestino
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_nordestino_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nordestino
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nordestino
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_nordestino_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:nordestino
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_nordestino_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_nordestino_state = {
								every_scope_pop = {
									limit = {
										culture = cu:nordestino
									}
									move_pop = scope:migration_fixes_home_nordestino_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:amazonic
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:amazonic }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:amazonic }
							}
							save_temporary_scope_as = migration_fixes_home_amazonic_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_amazonic_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:amazonic } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_amazonic_state
						scope:migration_fixes_home_amazonic_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:amazonic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:amazonic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_amazonic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:amazonic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:amazonic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_amazonic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:amazonic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:amazonic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_amazonic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:amazonic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:amazonic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_amazonic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:amazonic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:amazonic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_amazonic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:amazonic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:amazonic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_amazonic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:amazonic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:amazonic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_amazonic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:amazonic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:amazonic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_amazonic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:amazonic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:amazonic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_amazonic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:amazonic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:amazonic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_amazonic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:amazonic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:amazonic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_amazonic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:amazonic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:amazonic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_amazonic_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:amazonic
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_amazonic_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_amazonic_state = {
								every_scope_pop = {
									limit = {
										culture = cu:amazonic
									}
									move_pop = scope:migration_fixes_home_amazonic_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:paulista
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:paulista }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:paulista }
							}
							save_temporary_scope_as = migration_fixes_home_paulista_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_paulista_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:paulista } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_paulista_state
						scope:migration_fixes_home_paulista_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:paulista
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:paulista
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_paulista_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:paulista
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:paulista
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_paulista_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:paulista
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:paulista
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_paulista_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:paulista
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:paulista
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_paulista_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:paulista
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:paulista
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_paulista_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:paulista
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:paulista
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_paulista_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:paulista
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:paulista
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_paulista_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:paulista
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:paulista
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_paulista_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:paulista
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:paulista
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_paulista_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:paulista
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:paulista
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_paulista_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:paulista
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:paulista
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_paulista_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:paulista
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:paulista
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_paulista_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:paulista
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_paulista_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_paulista_state = {
								every_scope_pop = {
									limit = {
										culture = cu:paulista
									}
									move_pop = scope:migration_fixes_home_paulista_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:afro_american
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:afro_american }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:afro_american }
							}
							save_temporary_scope_as = migration_fixes_home_afro_american_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_afro_american_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:afro_american } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_afro_american_state
						scope:migration_fixes_home_afro_american_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_american
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_american
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_afro_american_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_american
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_american
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_afro_american_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_american
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_american
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_afro_american_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_american
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_american
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_afro_american_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_american
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_american
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_afro_american_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_american
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_american
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_afro_american_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_american
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_american
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_afro_american_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_american
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_american
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_afro_american_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_american
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_american
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_afro_american_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_american
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_american
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_afro_american_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_american
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_american
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_afro_american_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_american
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_american
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_afro_american_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:afro_american
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_afro_american_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_afro_american_state = {
								every_scope_pop = {
									limit = {
										culture = cu:afro_american
									}
									move_pop = scope:migration_fixes_home_afro_american_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:afro_caribbean
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:afro_caribbean }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:afro_caribbean }
							}
							save_temporary_scope_as = migration_fixes_home_afro_caribbean_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_afro_caribbean_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:afro_caribbean } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_afro_caribbean_state
						scope:migration_fixes_home_afro_caribbean_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_caribbean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_caribbean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_afro_caribbean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_caribbean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_caribbean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_afro_caribbean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_caribbean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_caribbean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_afro_caribbean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_caribbean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_caribbean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_afro_caribbean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_caribbean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_caribbean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_afro_caribbean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_caribbean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_caribbean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_afro_caribbean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_caribbean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_caribbean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_afro_caribbean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_caribbean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_caribbean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_afro_caribbean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_caribbean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_caribbean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_afro_caribbean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_caribbean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_caribbean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_afro_caribbean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_caribbean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_caribbean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_afro_caribbean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_caribbean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_caribbean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_afro_caribbean_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:afro_caribbean
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_afro_caribbean_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_afro_caribbean_state = {
								every_scope_pop = {
									limit = {
										culture = cu:afro_caribbean
									}
									move_pop = scope:migration_fixes_home_afro_caribbean_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:afro_caribeno
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:afro_caribeno }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:afro_caribeno }
							}
							save_temporary_scope_as = migration_fixes_home_afro_caribeno_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_afro_caribeno_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:afro_caribeno } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_afro_caribeno_state
						scope:migration_fixes_home_afro_caribeno_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_caribeno
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_caribeno
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_afro_caribeno_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_caribeno
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_caribeno
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_afro_caribeno_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_caribeno
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_caribeno
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_afro_caribeno_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_caribeno
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_caribeno
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_afro_caribeno_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_caribeno
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_caribeno
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_afro_caribeno_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_caribeno
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_caribeno
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_afro_caribeno_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_caribeno
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_caribeno
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_afro_caribeno_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_caribeno
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_caribeno
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_afro_caribeno_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_caribeno
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_caribeno
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_afro_caribeno_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_caribeno
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_caribeno
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_afro_caribeno_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_caribeno
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_caribeno
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_afro_caribeno_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_caribeno
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_caribeno
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_afro_caribeno_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:afro_caribeno
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_afro_caribeno_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_afro_caribeno_state = {
								every_scope_pop = {
									limit = {
										culture = cu:afro_caribeno
									}
									move_pop = scope:migration_fixes_home_afro_caribeno_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:afro_brazilian
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:afro_brazilian }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:afro_brazilian }
							}
							save_temporary_scope_as = migration_fixes_home_afro_brazilian_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_afro_brazilian_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:afro_brazilian } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_afro_brazilian_state
						scope:migration_fixes_home_afro_brazilian_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_brazilian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_brazilian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_afro_brazilian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_brazilian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_brazilian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_afro_brazilian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_brazilian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_brazilian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_afro_brazilian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_brazilian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_brazilian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_afro_brazilian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_brazilian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_brazilian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_afro_brazilian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_brazilian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_brazilian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_afro_brazilian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_brazilian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_brazilian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_afro_brazilian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_brazilian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_brazilian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_afro_brazilian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_brazilian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_brazilian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_afro_brazilian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_brazilian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_brazilian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_afro_brazilian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_brazilian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_brazilian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_afro_brazilian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_brazilian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_brazilian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_afro_brazilian_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:afro_brazilian
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_afro_brazilian_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_afro_brazilian_state = {
								every_scope_pop = {
									limit = {
										culture = cu:afro_brazilian
									}
									move_pop = scope:migration_fixes_home_afro_brazilian_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:afro_antillean
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:afro_antillean }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:afro_antillean }
							}
							save_temporary_scope_as = migration_fixes_home_afro_antillean_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_afro_antillean_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:afro_antillean } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_afro_antillean_state
						scope:migration_fixes_home_afro_antillean_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_antillean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_antillean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_afro_antillean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_antillean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_antillean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_afro_antillean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_antillean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_antillean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_afro_antillean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_antillean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_antillean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_afro_antillean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_antillean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_antillean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_afro_antillean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_antillean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_antillean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_afro_antillean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_antillean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_antillean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_afro_antillean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_antillean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_antillean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_afro_antillean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_antillean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_antillean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_afro_antillean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_antillean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_antillean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_afro_antillean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_antillean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_antillean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_afro_antillean_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afro_antillean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afro_antillean
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_afro_antillean_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:afro_antillean
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_afro_antillean_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_afro_antillean_state = {
								every_scope_pop = {
									limit = {
										culture = cu:afro_antillean
									}
									move_pop = scope:migration_fixes_home_afro_antillean_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:akan
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:akan }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:akan }
							}
							save_temporary_scope_as = migration_fixes_home_akan_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_akan_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:akan } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_akan_state
						scope:migration_fixes_home_akan_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:akan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:akan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_akan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:akan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:akan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_akan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:akan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:akan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_akan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:akan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:akan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_akan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:akan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:akan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_akan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:akan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:akan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_akan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:akan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:akan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_akan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:akan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:akan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_akan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:akan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:akan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_akan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:akan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:akan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_akan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:akan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:akan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_akan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:akan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:akan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_akan_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:akan
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_akan_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_akan_state = {
								every_scope_pop = {
									limit = {
										culture = cu:akan
									}
									move_pop = scope:migration_fixes_home_akan_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:bambara
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:bambara }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:bambara }
							}
							save_temporary_scope_as = migration_fixes_home_bambara_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_bambara_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:bambara } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_bambara_state
						scope:migration_fixes_home_bambara_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:bambara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bambara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_bambara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bambara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bambara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_bambara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bambara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bambara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_bambara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bambara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bambara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_bambara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bambara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bambara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_bambara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bambara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bambara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_bambara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bambara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bambara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_bambara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bambara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bambara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_bambara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bambara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bambara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_bambara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bambara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bambara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_bambara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bambara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bambara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_bambara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bambara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bambara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_bambara_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:bambara
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_bambara_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_bambara_state = {
								every_scope_pop = {
									limit = {
										culture = cu:bambara
									}
									move_pop = scope:migration_fixes_home_bambara_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:bassa
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:bassa }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:bassa }
							}
							save_temporary_scope_as = migration_fixes_home_bassa_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_bassa_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:bassa } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_bassa_state
						scope:migration_fixes_home_bassa_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:bassa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bassa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_bassa_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bassa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bassa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_bassa_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bassa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bassa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_bassa_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bassa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bassa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_bassa_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bassa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bassa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_bassa_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bassa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bassa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_bassa_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bassa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bassa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_bassa_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bassa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bassa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_bassa_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bassa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bassa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_bassa_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bassa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bassa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_bassa_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bassa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bassa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_bassa_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bassa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bassa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_bassa_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:bassa
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_bassa_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_bassa_state = {
								every_scope_pop = {
									limit = {
										culture = cu:bassa
									}
									move_pop = scope:migration_fixes_home_bassa_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:dyula
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:dyula }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:dyula }
							}
							save_temporary_scope_as = migration_fixes_home_dyula_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_dyula_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:dyula } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_dyula_state
						scope:migration_fixes_home_dyula_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:dyula
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dyula
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_dyula_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dyula
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dyula
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_dyula_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dyula
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dyula
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_dyula_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dyula
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dyula
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_dyula_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dyula
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dyula
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_dyula_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dyula
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dyula
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_dyula_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dyula
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dyula
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_dyula_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dyula
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dyula
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_dyula_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dyula
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dyula
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_dyula_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dyula
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dyula
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_dyula_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dyula
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dyula
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_dyula_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dyula
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dyula
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_dyula_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:dyula
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_dyula_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_dyula_state = {
								every_scope_pop = {
									limit = {
										culture = cu:dyula
									}
									move_pop = scope:migration_fixes_home_dyula_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:edo
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:edo }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:edo }
							}
							save_temporary_scope_as = migration_fixes_home_edo_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_edo_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:edo } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_edo_state
						scope:migration_fixes_home_edo_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:edo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:edo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_edo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:edo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:edo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_edo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:edo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:edo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_edo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:edo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:edo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_edo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:edo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:edo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_edo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:edo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:edo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_edo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:edo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:edo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_edo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:edo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:edo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_edo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:edo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:edo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_edo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:edo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:edo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_edo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:edo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:edo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_edo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:edo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:edo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_edo_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:edo
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_edo_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_edo_state = {
								every_scope_pop = {
									limit = {
										culture = cu:edo
									}
									move_pop = scope:migration_fixes_home_edo_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:ewe
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:ewe }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:ewe }
							}
							save_temporary_scope_as = migration_fixes_home_ewe_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_ewe_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:ewe } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_ewe_state
						scope:migration_fixes_home_ewe_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:ewe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ewe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_ewe_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ewe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ewe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_ewe_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ewe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ewe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_ewe_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ewe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ewe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_ewe_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ewe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ewe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_ewe_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ewe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ewe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_ewe_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ewe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ewe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_ewe_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ewe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ewe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_ewe_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ewe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ewe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_ewe_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ewe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ewe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_ewe_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ewe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ewe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_ewe_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ewe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ewe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_ewe_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:ewe
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_ewe_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_ewe_state = {
								every_scope_pop = {
									limit = {
										culture = cu:ewe
									}
									move_pop = scope:migration_fixes_home_ewe_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:fon
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:fon }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:fon }
							}
							save_temporary_scope_as = migration_fixes_home_fon_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_fon_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:fon } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_fon_state
						scope:migration_fixes_home_fon_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:fon
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fon
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_fon_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fon
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fon
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_fon_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fon
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fon
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_fon_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fon
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fon
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_fon_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fon
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fon
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_fon_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fon
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fon
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_fon_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fon
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fon
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_fon_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fon
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fon
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_fon_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fon
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fon
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_fon_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fon
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fon
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_fon_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fon
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fon
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_fon_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fon
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fon
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_fon_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:fon
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_fon_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_fon_state = {
								every_scope_pop = {
									limit = {
										culture = cu:fon
									}
									move_pop = scope:migration_fixes_home_fon_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:fulbe
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:fulbe }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:fulbe }
							}
							save_temporary_scope_as = migration_fixes_home_fulbe_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_fulbe_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:fulbe } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_fulbe_state
						scope:migration_fixes_home_fulbe_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:fulbe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fulbe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_fulbe_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fulbe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fulbe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_fulbe_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fulbe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fulbe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_fulbe_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fulbe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fulbe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_fulbe_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fulbe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fulbe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_fulbe_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fulbe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fulbe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_fulbe_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fulbe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fulbe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_fulbe_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fulbe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fulbe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_fulbe_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fulbe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fulbe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_fulbe_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fulbe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fulbe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_fulbe_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fulbe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fulbe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_fulbe_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fulbe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fulbe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_fulbe_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:fulbe
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_fulbe_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_fulbe_state = {
								every_scope_pop = {
									limit = {
										culture = cu:fulbe
									}
									move_pop = scope:migration_fixes_home_fulbe_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:haratin
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:haratin }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:haratin }
							}
							save_temporary_scope_as = migration_fixes_home_haratin_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_haratin_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:haratin } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_haratin_state
						scope:migration_fixes_home_haratin_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:haratin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:haratin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_haratin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:haratin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:haratin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_haratin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:haratin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:haratin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_haratin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:haratin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:haratin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_haratin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:haratin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:haratin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_haratin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:haratin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:haratin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_haratin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:haratin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:haratin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_haratin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:haratin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:haratin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_haratin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:haratin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:haratin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_haratin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:haratin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:haratin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_haratin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:haratin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:haratin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_haratin_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:haratin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:haratin
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_haratin_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:haratin
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_haratin_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_haratin_state = {
								every_scope_pop = {
									limit = {
										culture = cu:haratin
									}
									move_pop = scope:migration_fixes_home_haratin_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:hausa
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:hausa }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:hausa }
							}
							save_temporary_scope_as = migration_fixes_home_hausa_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_hausa_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:hausa } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_hausa_state
						scope:migration_fixes_home_hausa_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:hausa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hausa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_hausa_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hausa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hausa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_hausa_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hausa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hausa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_hausa_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hausa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hausa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_hausa_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hausa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hausa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_hausa_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hausa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hausa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_hausa_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hausa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hausa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_hausa_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hausa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hausa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_hausa_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hausa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hausa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_hausa_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hausa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hausa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_hausa_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hausa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hausa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_hausa_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hausa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hausa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_hausa_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:hausa
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_hausa_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_hausa_state = {
								every_scope_pop = {
									limit = {
										culture = cu:hausa
									}
									move_pop = scope:migration_fixes_home_hausa_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:ibibio
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:ibibio }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:ibibio }
							}
							save_temporary_scope_as = migration_fixes_home_ibibio_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_ibibio_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:ibibio } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_ibibio_state
						scope:migration_fixes_home_ibibio_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:ibibio
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ibibio
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_ibibio_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ibibio
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ibibio
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_ibibio_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ibibio
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ibibio
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_ibibio_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ibibio
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ibibio
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_ibibio_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ibibio
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ibibio
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_ibibio_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ibibio
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ibibio
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_ibibio_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ibibio
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ibibio
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_ibibio_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ibibio
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ibibio
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_ibibio_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ibibio
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ibibio
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_ibibio_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ibibio
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ibibio
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_ibibio_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ibibio
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ibibio
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_ibibio_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ibibio
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ibibio
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_ibibio_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:ibibio
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_ibibio_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_ibibio_state = {
								every_scope_pop = {
									limit = {
										culture = cu:ibibio
									}
									move_pop = scope:migration_fixes_home_ibibio_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:ibo
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:ibo }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:ibo }
							}
							save_temporary_scope_as = migration_fixes_home_ibo_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_ibo_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:ibo } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_ibo_state
						scope:migration_fixes_home_ibo_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:ibo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ibo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_ibo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ibo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ibo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_ibo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ibo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ibo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_ibo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ibo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ibo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_ibo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ibo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ibo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_ibo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ibo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ibo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_ibo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ibo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ibo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_ibo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ibo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ibo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_ibo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ibo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ibo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_ibo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ibo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ibo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_ibo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ibo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ibo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_ibo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ibo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ibo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_ibo_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:ibo
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_ibo_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_ibo_state = {
								every_scope_pop = {
									limit = {
										culture = cu:ibo
									}
									move_pop = scope:migration_fixes_home_ibo_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:kissi
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:kissi }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:kissi }
							}
							save_temporary_scope_as = migration_fixes_home_kissi_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_kissi_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:kissi } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_kissi_state
						scope:migration_fixes_home_kissi_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:kissi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kissi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_kissi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kissi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kissi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_kissi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kissi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kissi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_kissi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kissi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kissi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_kissi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kissi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kissi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_kissi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kissi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kissi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_kissi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kissi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kissi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_kissi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kissi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kissi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_kissi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kissi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kissi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_kissi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kissi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kissi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_kissi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kissi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kissi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_kissi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kissi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kissi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_kissi_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:kissi
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_kissi_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_kissi_state = {
								every_scope_pop = {
									limit = {
										culture = cu:kissi
									}
									move_pop = scope:migration_fixes_home_kissi_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:kru
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:kru }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:kru }
							}
							save_temporary_scope_as = migration_fixes_home_kru_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_kru_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:kru } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_kru_state
						scope:migration_fixes_home_kru_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:kru
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kru
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_kru_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kru
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kru
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_kru_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kru
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kru
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_kru_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kru
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kru
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_kru_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kru
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kru
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_kru_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kru
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kru
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_kru_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kru
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kru
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_kru_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kru
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kru
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_kru_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kru
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kru
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_kru_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kru
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kru
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_kru_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kru
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kru
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_kru_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kru
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kru
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_kru_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:kru
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_kru_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_kru_state = {
								every_scope_pop = {
									limit = {
										culture = cu:kru
									}
									move_pop = scope:migration_fixes_home_kru_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:mande
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:mande }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:mande }
							}
							save_temporary_scope_as = migration_fixes_home_mande_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_mande_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:mande } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_mande_state
						scope:migration_fixes_home_mande_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:mande
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mande
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_mande_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mande
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mande
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_mande_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mande
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mande
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_mande_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mande
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mande
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_mande_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mande
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mande
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_mande_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mande
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mande
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_mande_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mande
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mande
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_mande_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mande
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mande
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_mande_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mande
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mande
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_mande_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mande
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mande
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_mande_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mande
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mande
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_mande_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mande
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mande
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_mande_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:mande
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_mande_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_mande_state = {
								every_scope_pop = {
									limit = {
										culture = cu:mande
									}
									move_pop = scope:migration_fixes_home_mande_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:bidan
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:bidan }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:bidan }
							}
							save_temporary_scope_as = migration_fixes_home_bidan_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_bidan_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:bidan } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_bidan_state
						scope:migration_fixes_home_bidan_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:bidan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bidan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_bidan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bidan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bidan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_bidan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bidan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bidan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_bidan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bidan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bidan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_bidan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bidan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bidan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_bidan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bidan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bidan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_bidan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bidan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bidan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_bidan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bidan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bidan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_bidan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bidan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bidan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_bidan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bidan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bidan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_bidan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bidan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bidan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_bidan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bidan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bidan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_bidan_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:bidan
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_bidan_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_bidan_state = {
								every_scope_pop = {
									limit = {
										culture = cu:bidan
									}
									move_pop = scope:migration_fixes_home_bidan_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:mossi
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:mossi }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:mossi }
							}
							save_temporary_scope_as = migration_fixes_home_mossi_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_mossi_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:mossi } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_mossi_state
						scope:migration_fixes_home_mossi_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:mossi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mossi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_mossi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mossi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mossi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_mossi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mossi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mossi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_mossi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mossi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mossi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_mossi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mossi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mossi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_mossi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mossi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mossi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_mossi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mossi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mossi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_mossi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mossi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mossi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_mossi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mossi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mossi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_mossi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mossi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mossi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_mossi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mossi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mossi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_mossi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mossi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mossi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_mossi_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:mossi
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_mossi_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_mossi_state = {
								every_scope_pop = {
									limit = {
										culture = cu:mossi
									}
									move_pop = scope:migration_fixes_home_mossi_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:senufo
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:senufo }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:senufo }
							}
							save_temporary_scope_as = migration_fixes_home_senufo_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_senufo_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:senufo } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_senufo_state
						scope:migration_fixes_home_senufo_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:senufo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:senufo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_senufo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:senufo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:senufo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_senufo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:senufo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:senufo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_senufo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:senufo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:senufo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_senufo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:senufo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:senufo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_senufo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:senufo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:senufo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_senufo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:senufo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:senufo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_senufo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:senufo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:senufo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_senufo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:senufo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:senufo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_senufo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:senufo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:senufo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_senufo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:senufo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:senufo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_senufo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:senufo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:senufo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_senufo_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:senufo
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_senufo_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_senufo_state = {
								every_scope_pop = {
									limit = {
										culture = cu:senufo
									}
									move_pop = scope:migration_fixes_home_senufo_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:songhai
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:songhai }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:songhai }
							}
							save_temporary_scope_as = migration_fixes_home_songhai_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_songhai_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:songhai } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_songhai_state
						scope:migration_fixes_home_songhai_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:songhai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:songhai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_songhai_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:songhai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:songhai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_songhai_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:songhai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:songhai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_songhai_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:songhai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:songhai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_songhai_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:songhai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:songhai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_songhai_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:songhai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:songhai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_songhai_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:songhai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:songhai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_songhai_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:songhai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:songhai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_songhai_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:songhai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:songhai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_songhai_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:songhai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:songhai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_songhai_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:songhai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:songhai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_songhai_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:songhai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:songhai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_songhai_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:songhai
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_songhai_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_songhai_state = {
								every_scope_pop = {
									limit = {
										culture = cu:songhai
									}
									move_pop = scope:migration_fixes_home_songhai_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:tiv
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:tiv }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:tiv }
							}
							save_temporary_scope_as = migration_fixes_home_tiv_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_tiv_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:tiv } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_tiv_state
						scope:migration_fixes_home_tiv_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:tiv
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tiv
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_tiv_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tiv
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tiv
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_tiv_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tiv
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tiv
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_tiv_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tiv
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tiv
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_tiv_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tiv
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tiv
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_tiv_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tiv
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tiv
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_tiv_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tiv
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tiv
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_tiv_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tiv
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tiv
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_tiv_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tiv
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tiv
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_tiv_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tiv
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tiv
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_tiv_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tiv
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tiv
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_tiv_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tiv
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tiv
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_tiv_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:tiv
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_tiv_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_tiv_state = {
								every_scope_pop = {
									limit = {
										culture = cu:tiv
									}
									move_pop = scope:migration_fixes_home_tiv_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:tuareg
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:tuareg }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:tuareg }
							}
							save_temporary_scope_as = migration_fixes_home_tuareg_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_tuareg_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:tuareg } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_tuareg_state
						scope:migration_fixes_home_tuareg_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:tuareg
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tuareg
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_tuareg_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tuareg
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tuareg
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_tuareg_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tuareg
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tuareg
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_tuareg_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tuareg
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tuareg
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_tuareg_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tuareg
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tuareg
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_tuareg_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tuareg
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tuareg
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_tuareg_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tuareg
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tuareg
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_tuareg_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tuareg
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tuareg
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_tuareg_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tuareg
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tuareg
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_tuareg_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tuareg
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tuareg
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_tuareg_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tuareg
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tuareg
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_tuareg_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tuareg
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tuareg
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_tuareg_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:tuareg
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_tuareg_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_tuareg_state = {
								every_scope_pop = {
									limit = {
										culture = cu:tuareg
									}
									move_pop = scope:migration_fixes_home_tuareg_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:wolof
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:wolof }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:wolof }
							}
							save_temporary_scope_as = migration_fixes_home_wolof_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_wolof_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:wolof } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_wolof_state
						scope:migration_fixes_home_wolof_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:wolof
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:wolof
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_wolof_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:wolof
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:wolof
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_wolof_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:wolof
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:wolof
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_wolof_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:wolof
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:wolof
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_wolof_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:wolof
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:wolof
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_wolof_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:wolof
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:wolof
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_wolof_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:wolof
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:wolof
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_wolof_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:wolof
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:wolof
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_wolof_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:wolof
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:wolof
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_wolof_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:wolof
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:wolof
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_wolof_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:wolof
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:wolof
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_wolof_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:wolof
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:wolof
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_wolof_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:wolof
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_wolof_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_wolof_state = {
								every_scope_pop = {
									limit = {
										culture = cu:wolof
									}
									move_pop = scope:migration_fixes_home_wolof_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:yoruba
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:yoruba }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:yoruba }
							}
							save_temporary_scope_as = migration_fixes_home_yoruba_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_yoruba_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:yoruba } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_yoruba_state
						scope:migration_fixes_home_yoruba_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:yoruba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yoruba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_yoruba_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yoruba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yoruba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_yoruba_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yoruba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yoruba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_yoruba_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yoruba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yoruba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_yoruba_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yoruba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yoruba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_yoruba_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yoruba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yoruba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_yoruba_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yoruba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yoruba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_yoruba_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yoruba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yoruba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_yoruba_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yoruba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yoruba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_yoruba_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yoruba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yoruba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_yoruba_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yoruba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yoruba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_yoruba_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yoruba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yoruba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_yoruba_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:yoruba
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_yoruba_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_yoruba_state = {
								every_scope_pop = {
									limit = {
										culture = cu:yoruba
									}
									move_pop = scope:migration_fixes_home_yoruba_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:bakongo
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:bakongo }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:bakongo }
							}
							save_temporary_scope_as = migration_fixes_home_bakongo_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_bakongo_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:bakongo } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_bakongo_state
						scope:migration_fixes_home_bakongo_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:bakongo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bakongo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_bakongo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bakongo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bakongo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_bakongo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bakongo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bakongo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_bakongo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bakongo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bakongo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_bakongo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bakongo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bakongo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_bakongo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bakongo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bakongo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_bakongo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bakongo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bakongo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_bakongo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bakongo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bakongo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_bakongo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bakongo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bakongo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_bakongo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bakongo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bakongo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_bakongo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bakongo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bakongo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_bakongo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bakongo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bakongo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_bakongo_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:bakongo
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_bakongo_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_bakongo_state = {
								every_scope_pop = {
									limit = {
										culture = cu:bakongo
									}
									move_pop = scope:migration_fixes_home_bakongo_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:baguirmi
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:baguirmi }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:baguirmi }
							}
							save_temporary_scope_as = migration_fixes_home_baguirmi_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_baguirmi_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:baguirmi } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_baguirmi_state
						scope:migration_fixes_home_baguirmi_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:baguirmi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:baguirmi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_baguirmi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:baguirmi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:baguirmi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_baguirmi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:baguirmi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:baguirmi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_baguirmi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:baguirmi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:baguirmi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_baguirmi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:baguirmi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:baguirmi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_baguirmi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:baguirmi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:baguirmi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_baguirmi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:baguirmi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:baguirmi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_baguirmi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:baguirmi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:baguirmi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_baguirmi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:baguirmi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:baguirmi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_baguirmi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:baguirmi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:baguirmi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_baguirmi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:baguirmi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:baguirmi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_baguirmi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:baguirmi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:baguirmi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_baguirmi_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:baguirmi
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_baguirmi_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_baguirmi_state = {
								every_scope_pop = {
									limit = {
										culture = cu:baguirmi
									}
									move_pop = scope:migration_fixes_home_baguirmi_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:fang
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:fang }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:fang }
							}
							save_temporary_scope_as = migration_fixes_home_fang_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_fang_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:fang } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_fang_state
						scope:migration_fixes_home_fang_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:fang
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fang
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_fang_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fang
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fang
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_fang_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fang
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fang
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_fang_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fang
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fang
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_fang_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fang
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fang
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_fang_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fang
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fang
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_fang_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fang
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fang
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_fang_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fang
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fang
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_fang_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fang
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fang
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_fang_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fang
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fang
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_fang_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fang
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fang
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_fang_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fang
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fang
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_fang_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:fang
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_fang_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_fang_state = {
								every_scope_pop = {
									limit = {
										culture = cu:fang
									}
									move_pop = scope:migration_fixes_home_fang_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:kanuri
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:kanuri }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:kanuri }
							}
							save_temporary_scope_as = migration_fixes_home_kanuri_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_kanuri_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:kanuri } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_kanuri_state
						scope:migration_fixes_home_kanuri_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:kanuri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kanuri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_kanuri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kanuri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kanuri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_kanuri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kanuri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kanuri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_kanuri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kanuri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kanuri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_kanuri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kanuri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kanuri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_kanuri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kanuri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kanuri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_kanuri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kanuri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kanuri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_kanuri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kanuri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kanuri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_kanuri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kanuri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kanuri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_kanuri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kanuri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kanuri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_kanuri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kanuri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kanuri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_kanuri_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kanuri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kanuri
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_kanuri_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:kanuri
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_kanuri_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_kanuri_state = {
								every_scope_pop = {
									limit = {
										culture = cu:kanuri
									}
									move_pop = scope:migration_fixes_home_kanuri_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:luba
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:luba }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:luba }
							}
							save_temporary_scope_as = migration_fixes_home_luba_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_luba_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:luba } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_luba_state
						scope:migration_fixes_home_luba_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:luba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:luba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_luba_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:luba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:luba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_luba_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:luba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:luba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_luba_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:luba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:luba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_luba_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:luba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:luba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_luba_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:luba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:luba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_luba_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:luba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:luba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_luba_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:luba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:luba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_luba_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:luba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:luba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_luba_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:luba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:luba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_luba_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:luba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:luba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_luba_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:luba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:luba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_luba_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:luba
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_luba_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_luba_state = {
								every_scope_pop = {
									limit = {
										culture = cu:luba
									}
									move_pop = scope:migration_fixes_home_luba_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:lunda
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:lunda }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:lunda }
							}
							save_temporary_scope_as = migration_fixes_home_lunda_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_lunda_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:lunda } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_lunda_state
						scope:migration_fixes_home_lunda_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:lunda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lunda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_lunda_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lunda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lunda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_lunda_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lunda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lunda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_lunda_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lunda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lunda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_lunda_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lunda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lunda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_lunda_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lunda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lunda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_lunda_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lunda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lunda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_lunda_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lunda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lunda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_lunda_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lunda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lunda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_lunda_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lunda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lunda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_lunda_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lunda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lunda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_lunda_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lunda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lunda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_lunda_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:lunda
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_lunda_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_lunda_state = {
								every_scope_pop = {
									limit = {
										culture = cu:lunda
									}
									move_pop = scope:migration_fixes_home_lunda_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:mongo
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:mongo }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:mongo }
							}
							save_temporary_scope_as = migration_fixes_home_mongo_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_mongo_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:mongo } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_mongo_state
						scope:migration_fixes_home_mongo_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:mongo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mongo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_mongo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mongo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mongo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_mongo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mongo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mongo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_mongo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mongo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mongo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_mongo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mongo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mongo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_mongo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mongo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mongo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_mongo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mongo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mongo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_mongo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mongo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mongo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_mongo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mongo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mongo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_mongo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mongo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mongo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_mongo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mongo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mongo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_mongo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:mongo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:mongo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_mongo_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:mongo
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_mongo_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_mongo_state = {
								every_scope_pop = {
									limit = {
										culture = cu:mongo
									}
									move_pop = scope:migration_fixes_home_mongo_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:sara
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:sara }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:sara }
							}
							save_temporary_scope_as = migration_fixes_home_sara_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_sara_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:sara } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_sara_state
						scope:migration_fixes_home_sara_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:sara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_sara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_sara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_sara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_sara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_sara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_sara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_sara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_sara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_sara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_sara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_sara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_sara_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:sara
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_sara_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_sara_state = {
								every_scope_pop = {
									limit = {
										culture = cu:sara
									}
									move_pop = scope:migration_fixes_home_sara_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:teda
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:teda }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:teda }
							}
							save_temporary_scope_as = migration_fixes_home_teda_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_teda_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:teda } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_teda_state
						scope:migration_fixes_home_teda_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:teda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:teda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_teda_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:teda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:teda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_teda_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:teda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:teda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_teda_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:teda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:teda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_teda_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:teda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:teda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_teda_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:teda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:teda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_teda_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:teda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:teda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_teda_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:teda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:teda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_teda_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:teda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:teda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_teda_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:teda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:teda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_teda_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:teda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:teda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_teda_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:teda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:teda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_teda_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:teda
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_teda_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_teda_state = {
								every_scope_pop = {
									limit = {
										culture = cu:teda
									}
									move_pop = scope:migration_fixes_home_teda_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:equatorial_bantu
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:equatorial_bantu }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:equatorial_bantu }
							}
							save_temporary_scope_as = migration_fixes_home_equatorial_bantu_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_equatorial_bantu_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:equatorial_bantu } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_equatorial_bantu_state
						scope:migration_fixes_home_equatorial_bantu_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:equatorial_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:equatorial_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_equatorial_bantu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:equatorial_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:equatorial_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_equatorial_bantu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:equatorial_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:equatorial_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_equatorial_bantu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:equatorial_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:equatorial_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_equatorial_bantu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:equatorial_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:equatorial_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_equatorial_bantu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:equatorial_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:equatorial_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_equatorial_bantu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:equatorial_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:equatorial_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_equatorial_bantu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:equatorial_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:equatorial_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_equatorial_bantu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:equatorial_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:equatorial_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_equatorial_bantu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:equatorial_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:equatorial_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_equatorial_bantu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:equatorial_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:equatorial_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_equatorial_bantu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:equatorial_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:equatorial_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_equatorial_bantu_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:equatorial_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_equatorial_bantu_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_equatorial_bantu_state = {
								every_scope_pop = {
									limit = {
										culture = cu:equatorial_bantu
									}
									move_pop = scope:migration_fixes_home_equatorial_bantu_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:fluvian_bantu
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:fluvian_bantu }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:fluvian_bantu }
							}
							save_temporary_scope_as = migration_fixes_home_fluvian_bantu_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_fluvian_bantu_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:fluvian_bantu } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_fluvian_bantu_state
						scope:migration_fixes_home_fluvian_bantu_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:fluvian_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fluvian_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_fluvian_bantu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fluvian_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fluvian_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_fluvian_bantu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fluvian_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fluvian_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_fluvian_bantu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fluvian_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fluvian_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_fluvian_bantu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fluvian_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fluvian_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_fluvian_bantu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fluvian_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fluvian_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_fluvian_bantu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fluvian_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fluvian_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_fluvian_bantu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fluvian_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fluvian_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_fluvian_bantu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fluvian_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fluvian_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_fluvian_bantu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fluvian_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fluvian_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_fluvian_bantu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fluvian_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fluvian_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_fluvian_bantu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fluvian_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fluvian_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_fluvian_bantu_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:fluvian_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_fluvian_bantu_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_fluvian_bantu_state = {
								every_scope_pop = {
									limit = {
										culture = cu:fluvian_bantu
									}
									move_pop = scope:migration_fixes_home_fluvian_bantu_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:nilotic
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:nilotic }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:nilotic }
							}
							save_temporary_scope_as = migration_fixes_home_nilotic_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_nilotic_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:nilotic } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_nilotic_state
						scope:migration_fixes_home_nilotic_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:nilotic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nilotic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_nilotic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nilotic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nilotic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_nilotic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nilotic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nilotic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_nilotic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nilotic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nilotic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_nilotic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nilotic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nilotic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_nilotic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nilotic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nilotic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_nilotic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nilotic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nilotic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_nilotic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nilotic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nilotic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_nilotic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nilotic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nilotic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_nilotic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nilotic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nilotic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_nilotic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nilotic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nilotic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_nilotic_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nilotic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nilotic
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_nilotic_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:nilotic
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_nilotic_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_nilotic_state = {
								every_scope_pop = {
									limit = {
										culture = cu:nilotic
									}
									move_pop = scope:migration_fixes_home_nilotic_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:amhara
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:amhara }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:amhara }
							}
							save_temporary_scope_as = migration_fixes_home_amhara_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_amhara_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:amhara } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_amhara_state
						scope:migration_fixes_home_amhara_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:amhara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:amhara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_amhara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:amhara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:amhara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_amhara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:amhara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:amhara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_amhara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:amhara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:amhara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_amhara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:amhara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:amhara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_amhara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:amhara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:amhara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_amhara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:amhara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:amhara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_amhara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:amhara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:amhara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_amhara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:amhara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:amhara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_amhara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:amhara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:amhara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_amhara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:amhara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:amhara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_amhara_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:amhara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:amhara
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_amhara_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:amhara
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_amhara_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_amhara_state = {
								every_scope_pop = {
									limit = {
										culture = cu:amhara
									}
									move_pop = scope:migration_fixes_home_amhara_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:afar
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:afar }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:afar }
							}
							save_temporary_scope_as = migration_fixes_home_afar_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_afar_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:afar } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_afar_state
						scope:migration_fixes_home_afar_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:afar
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afar
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_afar_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afar
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afar
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_afar_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afar
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afar
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_afar_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afar
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afar
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_afar_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afar
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afar
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_afar_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afar
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afar
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_afar_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afar
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afar
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_afar_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afar
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afar
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_afar_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afar
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afar
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_afar_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afar
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afar
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_afar_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afar
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afar
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_afar_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:afar
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:afar
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_afar_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:afar
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_afar_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_afar_state = {
								every_scope_pop = {
									limit = {
										culture = cu:afar
									}
									move_pop = scope:migration_fixes_home_afar_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:azande
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:azande }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:azande }
							}
							save_temporary_scope_as = migration_fixes_home_azande_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_azande_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:azande } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_azande_state
						scope:migration_fixes_home_azande_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:azande
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:azande
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_azande_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:azande
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:azande
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_azande_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:azande
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:azande
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_azande_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:azande
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:azande
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_azande_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:azande
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:azande
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_azande_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:azande
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:azande
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_azande_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:azande
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:azande
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_azande_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:azande
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:azande
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_azande_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:azande
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:azande
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_azande_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:azande
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:azande
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_azande_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:azande
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:azande
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_azande_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:azande
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:azande
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_azande_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:azande
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_azande_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_azande_state = {
								every_scope_pop = {
									limit = {
										culture = cu:azande
									}
									move_pop = scope:migration_fixes_home_azande_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:baganda
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:baganda }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:baganda }
							}
							save_temporary_scope_as = migration_fixes_home_baganda_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_baganda_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:baganda } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_baganda_state
						scope:migration_fixes_home_baganda_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:baganda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:baganda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_baganda_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:baganda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:baganda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_baganda_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:baganda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:baganda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_baganda_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:baganda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:baganda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_baganda_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:baganda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:baganda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_baganda_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:baganda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:baganda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_baganda_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:baganda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:baganda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_baganda_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:baganda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:baganda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_baganda_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:baganda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:baganda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_baganda_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:baganda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:baganda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_baganda_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:baganda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:baganda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_baganda_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:baganda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:baganda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_baganda_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:baganda
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_baganda_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_baganda_state = {
								every_scope_pop = {
									limit = {
										culture = cu:baganda
									}
									move_pop = scope:migration_fixes_home_baganda_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:beja
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:beja }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:beja }
							}
							save_temporary_scope_as = migration_fixes_home_beja_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_beja_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:beja } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_beja_state
						scope:migration_fixes_home_beja_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:beja
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:beja
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_beja_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:beja
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:beja
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_beja_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:beja
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:beja
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_beja_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:beja
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:beja
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_beja_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:beja
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:beja
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_beja_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:beja
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:beja
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_beja_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:beja
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:beja
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_beja_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:beja
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:beja
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_beja_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:beja
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:beja
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_beja_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:beja
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:beja
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_beja_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:beja
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:beja
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_beja_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:beja
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:beja
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_beja_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:beja
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_beja_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_beja_state = {
								every_scope_pop = {
									limit = {
										culture = cu:beja
									}
									move_pop = scope:migration_fixes_home_beja_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:dinka
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:dinka }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:dinka }
							}
							save_temporary_scope_as = migration_fixes_home_dinka_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_dinka_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:dinka } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_dinka_state
						scope:migration_fixes_home_dinka_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:dinka
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dinka
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_dinka_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dinka
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dinka
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_dinka_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dinka
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dinka
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_dinka_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dinka
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dinka
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_dinka_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dinka
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dinka
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_dinka_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dinka
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dinka
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_dinka_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dinka
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dinka
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_dinka_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dinka
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dinka
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_dinka_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dinka
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dinka
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_dinka_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dinka
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dinka
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_dinka_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dinka
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dinka
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_dinka_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:dinka
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:dinka
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_dinka_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:dinka
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_dinka_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_dinka_state = {
								every_scope_pop = {
									limit = {
										culture = cu:dinka
									}
									move_pop = scope:migration_fixes_home_dinka_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:fur
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:fur }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:fur }
							}
							save_temporary_scope_as = migration_fixes_home_fur_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_fur_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:fur } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_fur_state
						scope:migration_fixes_home_fur_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:fur
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fur
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_fur_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fur
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fur
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_fur_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fur
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fur
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_fur_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fur
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fur
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_fur_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fur
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fur
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_fur_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fur
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fur
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_fur_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fur
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fur
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_fur_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fur
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fur
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_fur_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fur
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fur
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_fur_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fur
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fur
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_fur_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fur
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fur
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_fur_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:fur
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:fur
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_fur_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:fur
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_fur_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_fur_state = {
								every_scope_pop = {
									limit = {
										culture = cu:fur
									}
									move_pop = scope:migration_fixes_home_fur_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:kikuyu
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:kikuyu }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:kikuyu }
							}
							save_temporary_scope_as = migration_fixes_home_kikuyu_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_kikuyu_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:kikuyu } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_kikuyu_state
						scope:migration_fixes_home_kikuyu_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:kikuyu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kikuyu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_kikuyu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kikuyu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kikuyu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_kikuyu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kikuyu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kikuyu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_kikuyu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kikuyu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kikuyu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_kikuyu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kikuyu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kikuyu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_kikuyu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kikuyu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kikuyu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_kikuyu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kikuyu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kikuyu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_kikuyu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kikuyu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kikuyu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_kikuyu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kikuyu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kikuyu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_kikuyu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kikuyu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kikuyu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_kikuyu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kikuyu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kikuyu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_kikuyu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kikuyu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kikuyu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_kikuyu_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:kikuyu
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_kikuyu_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_kikuyu_state = {
								every_scope_pop = {
									limit = {
										culture = cu:kikuyu
									}
									move_pop = scope:migration_fixes_home_kikuyu_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:luo
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:luo }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:luo }
							}
							save_temporary_scope_as = migration_fixes_home_luo_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_luo_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:luo } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_luo_state
						scope:migration_fixes_home_luo_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:luo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:luo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_luo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:luo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:luo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_luo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:luo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:luo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_luo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:luo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:luo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_luo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:luo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:luo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_luo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:luo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:luo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_luo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:luo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:luo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_luo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:luo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:luo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_luo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:luo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:luo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_luo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:luo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:luo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_luo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:luo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:luo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_luo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:luo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:luo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_luo_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:luo
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_luo_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_luo_state = {
								every_scope_pop = {
									limit = {
										culture = cu:luo
									}
									move_pop = scope:migration_fixes_home_luo_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:maasai
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:maasai }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:maasai }
							}
							save_temporary_scope_as = migration_fixes_home_maasai_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_maasai_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:maasai } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_maasai_state
						scope:migration_fixes_home_maasai_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:maasai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:maasai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_maasai_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:maasai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:maasai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_maasai_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:maasai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:maasai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_maasai_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:maasai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:maasai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_maasai_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:maasai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:maasai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_maasai_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:maasai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:maasai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_maasai_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:maasai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:maasai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_maasai_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:maasai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:maasai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_maasai_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:maasai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:maasai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_maasai_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:maasai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:maasai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_maasai_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:maasai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:maasai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_maasai_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:maasai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:maasai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_maasai_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:maasai
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_maasai_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_maasai_state = {
								every_scope_pop = {
									limit = {
										culture = cu:maasai
									}
									move_pop = scope:migration_fixes_home_maasai_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:nuer
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:nuer }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:nuer }
							}
							save_temporary_scope_as = migration_fixes_home_nuer_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_nuer_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:nuer } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_nuer_state
						scope:migration_fixes_home_nuer_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:nuer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nuer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_nuer_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nuer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nuer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_nuer_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nuer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nuer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_nuer_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nuer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nuer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_nuer_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nuer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nuer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_nuer_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nuer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nuer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_nuer_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nuer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nuer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_nuer_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nuer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nuer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_nuer_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nuer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nuer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_nuer_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nuer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nuer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_nuer_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nuer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nuer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_nuer_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nuer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nuer
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_nuer_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:nuer
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_nuer_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_nuer_state = {
								every_scope_pop = {
									limit = {
										culture = cu:nuer
									}
									move_pop = scope:migration_fixes_home_nuer_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:nuba
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:nuba }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:nuba }
							}
							save_temporary_scope_as = migration_fixes_home_nuba_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_nuba_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:nuba } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_nuba_state
						scope:migration_fixes_home_nuba_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:nuba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nuba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_nuba_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nuba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nuba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_nuba_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nuba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nuba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_nuba_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nuba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nuba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_nuba_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nuba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nuba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_nuba_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nuba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nuba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_nuba_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nuba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nuba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_nuba_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nuba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nuba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_nuba_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nuba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nuba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_nuba_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nuba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nuba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_nuba_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nuba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nuba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_nuba_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nuba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nuba
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_nuba_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:nuba
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_nuba_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_nuba_state = {
								every_scope_pop = {
									limit = {
										culture = cu:nuba
									}
									move_pop = scope:migration_fixes_home_nuba_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:oromo
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:oromo }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:oromo }
							}
							save_temporary_scope_as = migration_fixes_home_oromo_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_oromo_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:oromo } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_oromo_state
						scope:migration_fixes_home_oromo_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:oromo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:oromo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_oromo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:oromo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:oromo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_oromo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:oromo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:oromo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_oromo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:oromo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:oromo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_oromo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:oromo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:oromo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_oromo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:oromo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:oromo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_oromo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:oromo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:oromo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_oromo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:oromo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:oromo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_oromo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:oromo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:oromo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_oromo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:oromo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:oromo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_oromo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:oromo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:oromo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_oromo_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:oromo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:oromo
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_oromo_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:oromo
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_oromo_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_oromo_state = {
								every_scope_pop = {
									limit = {
										culture = cu:oromo
									}
									move_pop = scope:migration_fixes_home_oromo_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:ruanda
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:ruanda }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:ruanda }
							}
							save_temporary_scope_as = migration_fixes_home_ruanda_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_ruanda_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:ruanda } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_ruanda_state
						scope:migration_fixes_home_ruanda_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:ruanda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ruanda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_ruanda_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ruanda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ruanda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_ruanda_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ruanda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ruanda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_ruanda_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ruanda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ruanda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_ruanda_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ruanda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ruanda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_ruanda_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ruanda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ruanda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_ruanda_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ruanda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ruanda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_ruanda_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ruanda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ruanda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_ruanda_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ruanda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ruanda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_ruanda_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ruanda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ruanda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_ruanda_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ruanda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ruanda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_ruanda_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ruanda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ruanda
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_ruanda_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:ruanda
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_ruanda_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_ruanda_state = {
								every_scope_pop = {
									limit = {
										culture = cu:ruanda
									}
									move_pop = scope:migration_fixes_home_ruanda_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:rundi
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:rundi }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:rundi }
							}
							save_temporary_scope_as = migration_fixes_home_rundi_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_rundi_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:rundi } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_rundi_state
						scope:migration_fixes_home_rundi_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:rundi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:rundi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_rundi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:rundi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:rundi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_rundi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:rundi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:rundi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_rundi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:rundi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:rundi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_rundi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:rundi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:rundi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_rundi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:rundi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:rundi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_rundi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:rundi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:rundi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_rundi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:rundi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:rundi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_rundi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:rundi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:rundi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_rundi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:rundi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:rundi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_rundi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:rundi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:rundi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_rundi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:rundi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:rundi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_rundi_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:rundi
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_rundi_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_rundi_state = {
								every_scope_pop = {
									limit = {
										culture = cu:rundi
									}
									move_pop = scope:migration_fixes_home_rundi_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:sidama
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:sidama }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:sidama }
							}
							save_temporary_scope_as = migration_fixes_home_sidama_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_sidama_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:sidama } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_sidama_state
						scope:migration_fixes_home_sidama_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:sidama
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sidama
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_sidama_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sidama
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sidama
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_sidama_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sidama
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sidama
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_sidama_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sidama
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sidama
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_sidama_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sidama
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sidama
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_sidama_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sidama
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sidama
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_sidama_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sidama
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sidama
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_sidama_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sidama
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sidama
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_sidama_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sidama
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sidama
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_sidama_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sidama
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sidama
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_sidama_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sidama
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sidama
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_sidama_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sidama
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sidama
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_sidama_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:sidama
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_sidama_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_sidama_state = {
								every_scope_pop = {
									limit = {
										culture = cu:sidama
									}
									move_pop = scope:migration_fixes_home_sidama_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:somali
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:somali }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:somali }
							}
							save_temporary_scope_as = migration_fixes_home_somali_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_somali_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:somali } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_somali_state
						scope:migration_fixes_home_somali_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:somali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:somali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_somali_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:somali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:somali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_somali_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:somali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:somali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_somali_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:somali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:somali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_somali_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:somali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:somali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_somali_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:somali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:somali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_somali_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:somali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:somali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_somali_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:somali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:somali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_somali_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:somali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:somali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_somali_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:somali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:somali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_somali_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:somali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:somali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_somali_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:somali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:somali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_somali_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:somali
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_somali_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_somali_state = {
								every_scope_pop = {
									limit = {
										culture = cu:somali
									}
									move_pop = scope:migration_fixes_home_somali_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:sudanese
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:sudanese }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:sudanese }
							}
							save_temporary_scope_as = migration_fixes_home_sudanese_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_sudanese_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:sudanese } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_sudanese_state
						scope:migration_fixes_home_sudanese_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:sudanese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sudanese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_sudanese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sudanese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sudanese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_sudanese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sudanese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sudanese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_sudanese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sudanese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sudanese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_sudanese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sudanese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sudanese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_sudanese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sudanese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sudanese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_sudanese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sudanese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sudanese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_sudanese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sudanese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sudanese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_sudanese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sudanese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sudanese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_sudanese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sudanese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sudanese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_sudanese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sudanese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sudanese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_sudanese_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sudanese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sudanese
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_sudanese_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:sudanese
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_sudanese_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_sudanese_state = {
								every_scope_pop = {
									limit = {
										culture = cu:sudanese
									}
									move_pop = scope:migration_fixes_home_sudanese_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:sukuma
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:sukuma }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:sukuma }
							}
							save_temporary_scope_as = migration_fixes_home_sukuma_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_sukuma_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:sukuma } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_sukuma_state
						scope:migration_fixes_home_sukuma_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:sukuma
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sukuma
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_sukuma_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sukuma
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sukuma
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_sukuma_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sukuma
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sukuma
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_sukuma_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sukuma
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sukuma
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_sukuma_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sukuma
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sukuma
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_sukuma_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sukuma
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sukuma
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_sukuma_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sukuma
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sukuma
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_sukuma_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sukuma
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sukuma
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_sukuma_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sukuma
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sukuma
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_sukuma_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sukuma
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sukuma
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_sukuma_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sukuma
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sukuma
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_sukuma_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sukuma
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sukuma
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_sukuma_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:sukuma
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_sukuma_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_sukuma_state = {
								every_scope_pop = {
									limit = {
										culture = cu:sukuma
									}
									move_pop = scope:migration_fixes_home_sukuma_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:swahili
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:swahili }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:swahili }
							}
							save_temporary_scope_as = migration_fixes_home_swahili_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_swahili_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:swahili } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_swahili_state
						scope:migration_fixes_home_swahili_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:swahili
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:swahili
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_swahili_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:swahili
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:swahili
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_swahili_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:swahili
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:swahili
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_swahili_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:swahili
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:swahili
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_swahili_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:swahili
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:swahili
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_swahili_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:swahili
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:swahili
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_swahili_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:swahili
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:swahili
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_swahili_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:swahili
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:swahili
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_swahili_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:swahili
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:swahili
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_swahili_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:swahili
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:swahili
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_swahili_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:swahili
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:swahili
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_swahili_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:swahili
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:swahili
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_swahili_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:swahili
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_swahili_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_swahili_state = {
								every_scope_pop = {
									limit = {
										culture = cu:swahili
									}
									move_pop = scope:migration_fixes_home_swahili_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:tigray
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:tigray }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:tigray }
							}
							save_temporary_scope_as = migration_fixes_home_tigray_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_tigray_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:tigray } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_tigray_state
						scope:migration_fixes_home_tigray_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:tigray
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tigray
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_tigray_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tigray
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tigray
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_tigray_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tigray
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tigray
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_tigray_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tigray
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tigray
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_tigray_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tigray
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tigray
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_tigray_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tigray
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tigray
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_tigray_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tigray
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tigray
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_tigray_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tigray
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tigray
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_tigray_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tigray
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tigray
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_tigray_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tigray
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tigray
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_tigray_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tigray
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tigray
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_tigray_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tigray
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tigray
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_tigray_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:tigray
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_tigray_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_tigray_state = {
								every_scope_pop = {
									limit = {
										culture = cu:tigray
									}
									move_pop = scope:migration_fixes_home_tigray_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:unyamwezi
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:unyamwezi }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:unyamwezi }
							}
							save_temporary_scope_as = migration_fixes_home_unyamwezi_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_unyamwezi_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:unyamwezi } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_unyamwezi_state
						scope:migration_fixes_home_unyamwezi_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:unyamwezi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:unyamwezi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_unyamwezi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:unyamwezi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:unyamwezi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_unyamwezi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:unyamwezi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:unyamwezi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_unyamwezi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:unyamwezi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:unyamwezi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_unyamwezi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:unyamwezi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:unyamwezi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_unyamwezi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:unyamwezi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:unyamwezi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_unyamwezi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:unyamwezi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:unyamwezi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_unyamwezi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:unyamwezi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:unyamwezi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_unyamwezi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:unyamwezi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:unyamwezi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_unyamwezi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:unyamwezi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:unyamwezi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_unyamwezi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:unyamwezi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:unyamwezi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_unyamwezi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:unyamwezi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:unyamwezi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_unyamwezi_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:unyamwezi
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_unyamwezi_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_unyamwezi_state = {
								every_scope_pop = {
									limit = {
										culture = cu:unyamwezi
									}
									move_pop = scope:migration_fixes_home_unyamwezi_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:lacustrine_bantu
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:lacustrine_bantu }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:lacustrine_bantu }
							}
							save_temporary_scope_as = migration_fixes_home_lacustrine_bantu_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_lacustrine_bantu_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:lacustrine_bantu } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_lacustrine_bantu_state
						scope:migration_fixes_home_lacustrine_bantu_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:lacustrine_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lacustrine_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_lacustrine_bantu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lacustrine_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lacustrine_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_lacustrine_bantu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lacustrine_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lacustrine_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_lacustrine_bantu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lacustrine_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lacustrine_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_lacustrine_bantu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lacustrine_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lacustrine_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_lacustrine_bantu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lacustrine_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lacustrine_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_lacustrine_bantu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lacustrine_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lacustrine_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_lacustrine_bantu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lacustrine_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lacustrine_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_lacustrine_bantu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lacustrine_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lacustrine_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_lacustrine_bantu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lacustrine_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lacustrine_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_lacustrine_bantu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lacustrine_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lacustrine_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_lacustrine_bantu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lacustrine_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lacustrine_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_lacustrine_bantu_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:lacustrine_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_lacustrine_bantu_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_lacustrine_bantu_state = {
								every_scope_pop = {
									limit = {
										culture = cu:lacustrine_bantu
									}
									move_pop = scope:migration_fixes_home_lacustrine_bantu_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:chewa
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:chewa }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:chewa }
							}
							save_temporary_scope_as = migration_fixes_home_chewa_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_chewa_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:chewa } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_chewa_state
						scope:migration_fixes_home_chewa_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:chewa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chewa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_chewa_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chewa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chewa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_chewa_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chewa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chewa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_chewa_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chewa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chewa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_chewa_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chewa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chewa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_chewa_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chewa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chewa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_chewa_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chewa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chewa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_chewa_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chewa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chewa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_chewa_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chewa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chewa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_chewa_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chewa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chewa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_chewa_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chewa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chewa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_chewa_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chewa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chewa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_chewa_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:chewa
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_chewa_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_chewa_state = {
								every_scope_pop = {
									limit = {
										culture = cu:chewa
									}
									move_pop = scope:migration_fixes_home_chewa_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:herero
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:herero }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:herero }
							}
							save_temporary_scope_as = migration_fixes_home_herero_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_herero_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:herero } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_herero_state
						scope:migration_fixes_home_herero_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:herero
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:herero
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_herero_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:herero
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:herero
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_herero_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:herero
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:herero
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_herero_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:herero
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:herero
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_herero_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:herero
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:herero
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_herero_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:herero
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:herero
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_herero_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:herero
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:herero
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_herero_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:herero
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:herero
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_herero_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:herero
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:herero
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_herero_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:herero
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:herero
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_herero_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:herero
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:herero
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_herero_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:herero
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:herero
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_herero_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:herero
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_herero_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_herero_state = {
								every_scope_pop = {
									limit = {
										culture = cu:herero
									}
									move_pop = scope:migration_fixes_home_herero_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:khoisan
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:khoisan }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:khoisan }
							}
							save_temporary_scope_as = migration_fixes_home_khoisan_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_khoisan_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:khoisan } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_khoisan_state
						scope:migration_fixes_home_khoisan_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:khoisan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:khoisan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_khoisan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:khoisan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:khoisan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_khoisan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:khoisan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:khoisan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_khoisan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:khoisan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:khoisan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_khoisan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:khoisan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:khoisan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_khoisan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:khoisan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:khoisan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_khoisan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:khoisan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:khoisan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_khoisan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:khoisan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:khoisan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_khoisan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:khoisan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:khoisan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_khoisan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:khoisan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:khoisan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_khoisan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:khoisan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:khoisan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_khoisan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:khoisan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:khoisan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_khoisan_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:khoisan
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_khoisan_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_khoisan_state = {
								every_scope_pop = {
									limit = {
										culture = cu:khoisan
									}
									move_pop = scope:migration_fixes_home_khoisan_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:lomwe
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:lomwe }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:lomwe }
							}
							save_temporary_scope_as = migration_fixes_home_lomwe_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_lomwe_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:lomwe } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_lomwe_state
						scope:migration_fixes_home_lomwe_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:lomwe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lomwe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_lomwe_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lomwe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lomwe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_lomwe_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lomwe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lomwe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_lomwe_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lomwe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lomwe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_lomwe_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lomwe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lomwe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_lomwe_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lomwe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lomwe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_lomwe_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lomwe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lomwe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_lomwe_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lomwe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lomwe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_lomwe_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lomwe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lomwe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_lomwe_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lomwe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lomwe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_lomwe_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lomwe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lomwe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_lomwe_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lomwe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lomwe
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_lomwe_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:lomwe
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_lomwe_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_lomwe_state = {
								every_scope_pop = {
									limit = {
										culture = cu:lomwe
									}
									move_pop = scope:migration_fixes_home_lomwe_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:makua
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:makua }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:makua }
							}
							save_temporary_scope_as = migration_fixes_home_makua_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_makua_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:makua } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_makua_state
						scope:migration_fixes_home_makua_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:makua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:makua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_makua_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:makua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:makua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_makua_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:makua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:makua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_makua_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:makua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:makua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_makua_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:makua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:makua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_makua_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:makua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:makua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_makua_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:makua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:makua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_makua_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:makua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:makua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_makua_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:makua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:makua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_makua_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:makua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:makua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_makua_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:makua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:makua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_makua_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:makua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:makua
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_makua_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:makua
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_makua_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_makua_state = {
								every_scope_pop = {
									limit = {
										culture = cu:makua
									}
									move_pop = scope:migration_fixes_home_makua_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:nguni
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:nguni }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:nguni }
							}
							save_temporary_scope_as = migration_fixes_home_nguni_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_nguni_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:nguni } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_nguni_state
						scope:migration_fixes_home_nguni_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:nguni
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nguni
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_nguni_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nguni
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nguni
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_nguni_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nguni
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nguni
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_nguni_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nguni
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nguni
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_nguni_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nguni
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nguni
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_nguni_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nguni
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nguni
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_nguni_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nguni
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nguni
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_nguni_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nguni
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nguni
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_nguni_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nguni
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nguni
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_nguni_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nguni
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nguni
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_nguni_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nguni
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nguni
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_nguni_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:nguni
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:nguni
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_nguni_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:nguni
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_nguni_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_nguni_state = {
								every_scope_pop = {
									limit = {
										culture = cu:nguni
									}
									move_pop = scope:migration_fixes_home_nguni_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:ovimbundu
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:ovimbundu }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:ovimbundu }
							}
							save_temporary_scope_as = migration_fixes_home_ovimbundu_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_ovimbundu_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:ovimbundu } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_ovimbundu_state
						scope:migration_fixes_home_ovimbundu_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:ovimbundu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ovimbundu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_ovimbundu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ovimbundu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ovimbundu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_ovimbundu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ovimbundu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ovimbundu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_ovimbundu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ovimbundu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ovimbundu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_ovimbundu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ovimbundu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ovimbundu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_ovimbundu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ovimbundu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ovimbundu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_ovimbundu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ovimbundu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ovimbundu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_ovimbundu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ovimbundu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ovimbundu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_ovimbundu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ovimbundu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ovimbundu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_ovimbundu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ovimbundu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ovimbundu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_ovimbundu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ovimbundu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ovimbundu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_ovimbundu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:ovimbundu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:ovimbundu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_ovimbundu_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:ovimbundu
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_ovimbundu_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_ovimbundu_state = {
								every_scope_pop = {
									limit = {
										culture = cu:ovimbundu
									}
									move_pop = scope:migration_fixes_home_ovimbundu_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:sena
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:sena }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:sena }
							}
							save_temporary_scope_as = migration_fixes_home_sena_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_sena_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:sena } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_sena_state
						scope:migration_fixes_home_sena_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:sena
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sena
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_sena_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sena
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sena
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_sena_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sena
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sena
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_sena_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sena
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sena
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_sena_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sena
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sena
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_sena_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sena
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sena
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_sena_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sena
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sena
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_sena_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sena
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sena
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_sena_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sena
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sena
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_sena_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sena
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sena
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_sena_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sena
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sena
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_sena_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sena
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sena
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_sena_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:sena
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_sena_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_sena_state = {
								every_scope_pop = {
									limit = {
										culture = cu:sena
									}
									move_pop = scope:migration_fixes_home_sena_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:shona
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:shona }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:shona }
							}
							save_temporary_scope_as = migration_fixes_home_shona_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_shona_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:shona } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_shona_state
						scope:migration_fixes_home_shona_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:shona
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:shona
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_shona_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:shona
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:shona
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_shona_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:shona
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:shona
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_shona_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:shona
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:shona
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_shona_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:shona
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:shona
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_shona_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:shona
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:shona
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_shona_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:shona
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:shona
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_shona_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:shona
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:shona
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_shona_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:shona
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:shona
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_shona_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:shona
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:shona
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_shona_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:shona
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:shona
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_shona_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:shona
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:shona
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_shona_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:shona
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_shona_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_shona_state = {
								every_scope_pop = {
									limit = {
										culture = cu:shona
									}
									move_pop = scope:migration_fixes_home_shona_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:sotho
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:sotho }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:sotho }
							}
							save_temporary_scope_as = migration_fixes_home_sotho_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_sotho_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:sotho } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_sotho_state
						scope:migration_fixes_home_sotho_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:sotho
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sotho
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_sotho_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sotho
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sotho
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_sotho_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sotho
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sotho
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_sotho_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sotho
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sotho
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_sotho_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sotho
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sotho
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_sotho_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sotho
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sotho
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_sotho_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sotho
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sotho
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_sotho_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sotho
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sotho
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_sotho_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sotho
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sotho
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_sotho_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sotho
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sotho
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_sotho_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sotho
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sotho
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_sotho_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sotho
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sotho
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_sotho_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:sotho
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_sotho_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_sotho_state = {
								every_scope_pop = {
									limit = {
										culture = cu:sotho
									}
									move_pop = scope:migration_fixes_home_sotho_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:tonga
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:tonga }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:tonga }
							}
							save_temporary_scope_as = migration_fixes_home_tonga_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_tonga_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:tonga } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_tonga_state
						scope:migration_fixes_home_tonga_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:tonga
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tonga
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_tonga_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tonga
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tonga
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_tonga_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tonga
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tonga
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_tonga_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tonga
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tonga
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_tonga_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tonga
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tonga
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_tonga_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tonga
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tonga
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_tonga_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tonga
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tonga
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_tonga_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tonga
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tonga
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_tonga_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tonga
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tonga
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_tonga_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tonga
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tonga
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_tonga_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tonga
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tonga
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_tonga_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tonga
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tonga
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_tonga_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:tonga
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_tonga_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_tonga_state = {
								every_scope_pop = {
									limit = {
										culture = cu:tonga
									}
									move_pop = scope:migration_fixes_home_tonga_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:tswana
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:tswana }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:tswana }
							}
							save_temporary_scope_as = migration_fixes_home_tswana_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_tswana_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:tswana } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_tswana_state
						scope:migration_fixes_home_tswana_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:tswana
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tswana
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_tswana_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tswana
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tswana
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_tswana_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tswana
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tswana
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_tswana_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tswana
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tswana
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_tswana_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tswana
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tswana
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_tswana_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tswana
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tswana
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_tswana_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tswana
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tswana
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_tswana_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tswana
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tswana
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_tswana_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tswana
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tswana
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_tswana_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tswana
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tswana
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_tswana_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tswana
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tswana
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_tswana_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tswana
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tswana
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_tswana_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:tswana
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_tswana_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_tswana_state = {
								every_scope_pop = {
									limit = {
										culture = cu:tswana
									}
									move_pop = scope:migration_fixes_home_tswana_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:xhosa
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:xhosa }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:xhosa }
							}
							save_temporary_scope_as = migration_fixes_home_xhosa_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_xhosa_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:xhosa } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_xhosa_state
						scope:migration_fixes_home_xhosa_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:xhosa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:xhosa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_xhosa_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:xhosa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:xhosa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_xhosa_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:xhosa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:xhosa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_xhosa_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:xhosa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:xhosa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_xhosa_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:xhosa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:xhosa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_xhosa_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:xhosa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:xhosa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_xhosa_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:xhosa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:xhosa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_xhosa_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:xhosa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:xhosa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_xhosa_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:xhosa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:xhosa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_xhosa_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:xhosa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:xhosa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_xhosa_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:xhosa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:xhosa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_xhosa_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:xhosa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:xhosa
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_xhosa_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:xhosa
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_xhosa_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_xhosa_state = {
								every_scope_pop = {
									limit = {
										culture = cu:xhosa
									}
									move_pop = scope:migration_fixes_home_xhosa_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:yao
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:yao }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:yao }
							}
							save_temporary_scope_as = migration_fixes_home_yao_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_yao_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:yao } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_yao_state
						scope:migration_fixes_home_yao_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:yao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_yao_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_yao_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_yao_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_yao_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_yao_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_yao_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_yao_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_yao_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_yao_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_yao_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_yao_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yao
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_yao_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:yao
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_yao_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_yao_state = {
								every_scope_pop = {
									limit = {
										culture = cu:yao
									}
									move_pop = scope:migration_fixes_home_yao_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:zulu
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:zulu }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:zulu }
							}
							save_temporary_scope_as = migration_fixes_home_zulu_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_zulu_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:zulu } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_zulu_state
						scope:migration_fixes_home_zulu_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:zulu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:zulu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_zulu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:zulu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:zulu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_zulu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:zulu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:zulu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_zulu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:zulu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:zulu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_zulu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:zulu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:zulu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_zulu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:zulu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:zulu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_zulu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:zulu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:zulu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_zulu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:zulu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:zulu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_zulu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:zulu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:zulu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_zulu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:zulu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:zulu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_zulu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:zulu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:zulu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_zulu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:zulu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:zulu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_zulu_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:zulu
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_zulu_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_zulu_state = {
								every_scope_pop = {
									limit = {
										culture = cu:zulu
									}
									move_pop = scope:migration_fixes_home_zulu_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:kavango_bantu
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:kavango_bantu }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:kavango_bantu }
							}
							save_temporary_scope_as = migration_fixes_home_kavango_bantu_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_kavango_bantu_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:kavango_bantu } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_kavango_bantu_state
						scope:migration_fixes_home_kavango_bantu_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:kavango_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kavango_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_kavango_bantu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kavango_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kavango_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_kavango_bantu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kavango_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kavango_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_kavango_bantu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kavango_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kavango_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_kavango_bantu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kavango_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kavango_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_kavango_bantu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kavango_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kavango_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_kavango_bantu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kavango_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kavango_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_kavango_bantu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kavango_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kavango_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_kavango_bantu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kavango_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kavango_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_kavango_bantu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kavango_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kavango_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_kavango_bantu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kavango_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kavango_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_kavango_bantu_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:kavango_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:kavango_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_kavango_bantu_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:kavango_bantu
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_kavango_bantu_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_kavango_bantu_state = {
								every_scope_pop = {
									limit = {
										culture = cu:kavango_bantu
									}
									move_pop = scope:migration_fixes_home_kavango_bantu_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:anglo_canadian
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:anglo_canadian }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:anglo_canadian }
							}
							save_temporary_scope_as = migration_fixes_home_anglo_canadian_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_anglo_canadian_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:anglo_canadian } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_anglo_canadian_state
						scope:migration_fixes_home_anglo_canadian_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:anglo_canadian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:anglo_canadian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_anglo_canadian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:anglo_canadian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:anglo_canadian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_anglo_canadian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:anglo_canadian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:anglo_canadian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_anglo_canadian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:anglo_canadian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:anglo_canadian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_anglo_canadian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:anglo_canadian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:anglo_canadian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_anglo_canadian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:anglo_canadian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:anglo_canadian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_anglo_canadian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:anglo_canadian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:anglo_canadian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_anglo_canadian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:anglo_canadian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:anglo_canadian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_anglo_canadian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:anglo_canadian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:anglo_canadian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_anglo_canadian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:anglo_canadian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:anglo_canadian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_anglo_canadian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:anglo_canadian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:anglo_canadian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_anglo_canadian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:anglo_canadian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:anglo_canadian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_anglo_canadian_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:anglo_canadian
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_anglo_canadian_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_anglo_canadian_state = {
								every_scope_pop = {
									limit = {
										culture = cu:anglo_canadian
									}
									move_pop = scope:migration_fixes_home_anglo_canadian_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:franco_canadian
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:franco_canadian }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:franco_canadian }
							}
							save_temporary_scope_as = migration_fixes_home_franco_canadian_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_franco_canadian_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:franco_canadian } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_franco_canadian_state
						scope:migration_fixes_home_franco_canadian_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:franco_canadian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:franco_canadian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_franco_canadian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:franco_canadian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:franco_canadian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_franco_canadian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:franco_canadian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:franco_canadian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_franco_canadian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:franco_canadian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:franco_canadian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_franco_canadian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:franco_canadian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:franco_canadian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_franco_canadian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:franco_canadian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:franco_canadian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_franco_canadian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:franco_canadian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:franco_canadian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_franco_canadian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:franco_canadian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:franco_canadian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_franco_canadian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:franco_canadian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:franco_canadian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_franco_canadian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:franco_canadian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:franco_canadian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_franco_canadian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:franco_canadian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:franco_canadian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_franco_canadian_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:franco_canadian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:franco_canadian
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_franco_canadian_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:franco_canadian
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_franco_canadian_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_franco_canadian_state = {
								every_scope_pop = {
									limit = {
										culture = cu:franco_canadian
									}
									move_pop = scope:migration_fixes_home_franco_canadian_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:sorb
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:sorb }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:sorb }
							}
							save_temporary_scope_as = migration_fixes_home_sorb_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_sorb_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:sorb } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_sorb_state
						scope:migration_fixes_home_sorb_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:sorb
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sorb
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_sorb_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sorb
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sorb
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_sorb_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sorb
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sorb
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_sorb_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sorb
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sorb
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_sorb_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sorb
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sorb
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_sorb_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sorb
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sorb
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_sorb_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sorb
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sorb
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_sorb_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sorb
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sorb
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_sorb_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sorb
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sorb
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_sorb_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sorb
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sorb
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_sorb_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sorb
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sorb
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_sorb_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:sorb
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:sorb
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_sorb_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:sorb
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_sorb_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_sorb_state = {
								every_scope_pop = {
									limit = {
										culture = cu:sorb
									}
									move_pop = scope:migration_fixes_home_sorb_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:tuvan
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:tuvan }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:tuvan }
							}
							save_temporary_scope_as = migration_fixes_home_tuvan_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_tuvan_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:tuvan } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_tuvan_state
						scope:migration_fixes_home_tuvan_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:tuvan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tuvan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_tuvan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tuvan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tuvan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_tuvan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tuvan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tuvan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_tuvan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tuvan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tuvan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_tuvan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tuvan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tuvan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_tuvan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tuvan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tuvan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_tuvan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tuvan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tuvan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_tuvan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tuvan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tuvan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_tuvan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tuvan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tuvan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_tuvan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tuvan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tuvan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_tuvan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tuvan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tuvan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_tuvan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tuvan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tuvan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_tuvan_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:tuvan
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_tuvan_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_tuvan_state = {
								every_scope_pop = {
									limit = {
										culture = cu:tuvan
									}
									move_pop = scope:migration_fixes_home_tuvan_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:corsican
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:corsican }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:corsican }
							}
							save_temporary_scope_as = migration_fixes_home_corsican_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_corsican_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:corsican } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_corsican_state
						scope:migration_fixes_home_corsican_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:corsican
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:corsican
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_corsican_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:corsican
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:corsican
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_corsican_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:corsican
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:corsican
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_corsican_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:corsican
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:corsican
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_corsican_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:corsican
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:corsican
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_corsican_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:corsican
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:corsican
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_corsican_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:corsican
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:corsican
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_corsican_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:corsican
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:corsican
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_corsican_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:corsican
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:corsican
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_corsican_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:corsican
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:corsican
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_corsican_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:corsican
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:corsican
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_corsican_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:corsican
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:corsican
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_corsican_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:corsican
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_corsican_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_corsican_state = {
								every_scope_pop = {
									limit = {
										culture = cu:corsican
									}
									move_pop = scope:migration_fixes_home_corsican_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:yemenite
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:yemenite }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:yemenite }
							}
							save_temporary_scope_as = migration_fixes_home_yemenite_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_yemenite_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:yemenite } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_yemenite_state
						scope:migration_fixes_home_yemenite_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:yemenite
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yemenite
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_yemenite_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yemenite
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yemenite
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_yemenite_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yemenite
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yemenite
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_yemenite_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yemenite
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yemenite
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_yemenite_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yemenite
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yemenite
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_yemenite_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yemenite
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yemenite
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_yemenite_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yemenite
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yemenite
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_yemenite_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yemenite
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yemenite
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_yemenite_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yemenite
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yemenite
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_yemenite_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yemenite
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yemenite
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_yemenite_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yemenite
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yemenite
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_yemenite_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:yemenite
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:yemenite
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_yemenite_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:yemenite
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_yemenite_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_yemenite_state = {
								every_scope_pop = {
									limit = {
										culture = cu:yemenite
									}
									move_pop = scope:migration_fixes_home_yemenite_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:szekely
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:szekely }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:szekely }
							}
							save_temporary_scope_as = migration_fixes_home_szekely_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_szekely_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:szekely } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_szekely_state
						scope:migration_fixes_home_szekely_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:szekely
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:szekely
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_szekely_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:szekely
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:szekely
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_szekely_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:szekely
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:szekely
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_szekely_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:szekely
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:szekely
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_szekely_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:szekely
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:szekely
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_szekely_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:szekely
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:szekely
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_szekely_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:szekely
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:szekely
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_szekely_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:szekely
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:szekely
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_szekely_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:szekely
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:szekely
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_szekely_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:szekely
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:szekely
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_szekely_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:szekely
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:szekely
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_szekely_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:szekely
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:szekely
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_szekely_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:szekely
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_szekely_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_szekely_state = {
								every_scope_pop = {
									limit = {
										culture = cu:szekely
									}
									move_pop = scope:migration_fixes_home_szekely_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:hindustani
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:hindustani }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:hindustani }
							}
							save_temporary_scope_as = migration_fixes_home_hindustani_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_hindustani_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:hindustani } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_hindustani_state
						scope:migration_fixes_home_hindustani_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:hindustani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hindustani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_hindustani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hindustani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hindustani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_hindustani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hindustani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hindustani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_hindustani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hindustani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hindustani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_hindustani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hindustani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hindustani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_hindustani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hindustani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hindustani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_hindustani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hindustani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hindustani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_hindustani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hindustani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hindustani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_hindustani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hindustani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hindustani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_hindustani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hindustani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hindustani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_hindustani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hindustani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hindustani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_hindustani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:hindustani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:hindustani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_hindustani_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:hindustani
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_hindustani_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_hindustani_state = {
								every_scope_pop = {
									limit = {
										culture = cu:hindustani
									}
									move_pop = scope:migration_fixes_home_hindustani_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:lushai
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:lushai }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:lushai }
							}
							save_temporary_scope_as = migration_fixes_home_lushai_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_lushai_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:lushai } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_lushai_state
						scope:migration_fixes_home_lushai_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:lushai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lushai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_lushai_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lushai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lushai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_lushai_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lushai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lushai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_lushai_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lushai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lushai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_lushai_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lushai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lushai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_lushai_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lushai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lushai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_lushai_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lushai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lushai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_lushai_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lushai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lushai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_lushai_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lushai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lushai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_lushai_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lushai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lushai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_lushai_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lushai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lushai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_lushai_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:lushai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:lushai
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_lushai_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:lushai
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_lushai_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_lushai_state = {
								every_scope_pop = {
									limit = {
										culture = cu:lushai
									}
									move_pop = scope:migration_fixes_home_lushai_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:bundeli
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:bundeli }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:bundeli }
							}
							save_temporary_scope_as = migration_fixes_home_bundeli_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_bundeli_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:bundeli } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_bundeli_state
						scope:migration_fixes_home_bundeli_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:bundeli
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bundeli
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_bundeli_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bundeli
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bundeli
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_bundeli_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bundeli
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bundeli
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_bundeli_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bundeli
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bundeli
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_bundeli_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bundeli
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bundeli
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_bundeli_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bundeli
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bundeli
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_bundeli_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bundeli
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bundeli
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_bundeli_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bundeli
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bundeli
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_bundeli_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bundeli
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bundeli
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_bundeli_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bundeli
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bundeli
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_bundeli_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bundeli
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bundeli
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_bundeli_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bundeli
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bundeli
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_bundeli_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:bundeli
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_bundeli_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_bundeli_state = {
								every_scope_pop = {
									limit = {
										culture = cu:bundeli
									}
									move_pop = scope:migration_fixes_home_bundeli_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:pahari
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:pahari }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:pahari }
							}
							save_temporary_scope_as = migration_fixes_home_pahari_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_pahari_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:pahari } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_pahari_state
						scope:migration_fixes_home_pahari_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:pahari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:pahari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_pahari_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:pahari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:pahari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_pahari_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:pahari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:pahari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_pahari_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:pahari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:pahari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_pahari_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:pahari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:pahari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_pahari_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:pahari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:pahari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_pahari_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:pahari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:pahari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_pahari_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:pahari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:pahari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_pahari_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:pahari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:pahari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_pahari_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:pahari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:pahari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_pahari_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:pahari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:pahari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_pahari_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:pahari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:pahari
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_pahari_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:pahari
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_pahari_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_pahari_state = {
								every_scope_pop = {
									limit = {
										culture = cu:pahari
									}
									move_pop = scope:migration_fixes_home_pahari_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:gondi
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:gondi }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:gondi }
							}
							save_temporary_scope_as = migration_fixes_home_gondi_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_gondi_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:gondi } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_gondi_state
						scope:migration_fixes_home_gondi_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:gondi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:gondi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_gondi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:gondi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:gondi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_gondi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:gondi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:gondi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_gondi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:gondi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:gondi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_gondi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:gondi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:gondi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_gondi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:gondi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:gondi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_gondi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:gondi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:gondi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_gondi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:gondi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:gondi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_gondi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:gondi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:gondi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_gondi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:gondi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:gondi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_gondi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:gondi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:gondi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_gondi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:gondi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:gondi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_gondi_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:gondi
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_gondi_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_gondi_state = {
								every_scope_pop = {
									limit = {
										culture = cu:gondi
									}
									move_pop = scope:migration_fixes_home_gondi_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:bageli
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:bageli }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:bageli }
							}
							save_temporary_scope_as = migration_fixes_home_bageli_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_bageli_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:bageli } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_bageli_state
						scope:migration_fixes_home_bageli_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:bageli
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bageli
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_bageli_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bageli
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bageli
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_bageli_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bageli
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bageli
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_bageli_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bageli
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bageli
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_bageli_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bageli
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bageli
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_bageli_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bageli
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bageli
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_bageli_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bageli
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bageli
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_bageli_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bageli
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bageli
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_bageli_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bageli
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bageli
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_bageli_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bageli
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bageli
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_bageli_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bageli
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bageli
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_bageli_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bageli
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bageli
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_bageli_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:bageli
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_bageli_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_bageli_state = {
								every_scope_pop = {
									limit = {
										culture = cu:bageli
									}
									move_pop = scope:migration_fixes_home_bageli_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:chhattisgarhi
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:chhattisgarhi }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:chhattisgarhi }
							}
							save_temporary_scope_as = migration_fixes_home_chhattisgarhi_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_chhattisgarhi_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:chhattisgarhi } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_chhattisgarhi_state
						scope:migration_fixes_home_chhattisgarhi_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:chhattisgarhi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chhattisgarhi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_chhattisgarhi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chhattisgarhi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chhattisgarhi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_chhattisgarhi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chhattisgarhi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chhattisgarhi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_chhattisgarhi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chhattisgarhi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chhattisgarhi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_chhattisgarhi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chhattisgarhi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chhattisgarhi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_chhattisgarhi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chhattisgarhi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chhattisgarhi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_chhattisgarhi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chhattisgarhi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chhattisgarhi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_chhattisgarhi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chhattisgarhi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chhattisgarhi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_chhattisgarhi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chhattisgarhi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chhattisgarhi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_chhattisgarhi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chhattisgarhi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chhattisgarhi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_chhattisgarhi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chhattisgarhi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chhattisgarhi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_chhattisgarhi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:chhattisgarhi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:chhattisgarhi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_chhattisgarhi_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:chhattisgarhi
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_chhattisgarhi_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_chhattisgarhi_state = {
								every_scope_pop = {
									limit = {
										culture = cu:chhattisgarhi
									}
									move_pop = scope:migration_fixes_home_chhattisgarhi_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:naga
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:naga }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:naga }
							}
							save_temporary_scope_as = migration_fixes_home_naga_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_naga_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:naga } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_naga_state
						scope:migration_fixes_home_naga_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:naga
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:naga
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_naga_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:naga
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:naga
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_naga_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:naga
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:naga
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_naga_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:naga
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:naga
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_naga_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:naga
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:naga
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_naga_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:naga
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:naga
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_naga_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:naga
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:naga
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_naga_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:naga
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:naga
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_naga_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:naga
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:naga
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_naga_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:naga
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:naga
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_naga_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:naga
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:naga
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_naga_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:naga
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:naga
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_naga_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:naga
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_naga_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_naga_state = {
								every_scope_pop = {
									limit = {
										culture = cu:naga
									}
									move_pop = scope:migration_fixes_home_naga_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:deccani
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:deccani }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:deccani }
							}
							save_temporary_scope_as = migration_fixes_home_deccani_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_deccani_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:deccani } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_deccani_state
						scope:migration_fixes_home_deccani_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:deccani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:deccani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_deccani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:deccani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:deccani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_deccani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:deccani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:deccani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_deccani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:deccani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:deccani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_deccani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:deccani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:deccani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_deccani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:deccani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:deccani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_deccani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:deccani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:deccani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_deccani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:deccani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:deccani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_deccani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:deccani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:deccani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_deccani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:deccani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:deccani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_deccani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:deccani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:deccani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_deccani_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:deccani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:deccani
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_deccani_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:deccani
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_deccani_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_deccani_state = {
								every_scope_pop = {
									limit = {
										culture = cu:deccani
									}
									move_pop = scope:migration_fixes_home_deccani_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:gujarati
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:gujarati }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:gujarati }
							}
							save_temporary_scope_as = migration_fixes_home_gujarati_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_gujarati_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:gujarati } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_gujarati_state
						scope:migration_fixes_home_gujarati_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:gujarati
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:gujarati
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_gujarati_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:gujarati
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:gujarati
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_gujarati_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:gujarati
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:gujarati
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_gujarati_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:gujarati
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:gujarati
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_gujarati_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:gujarati
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:gujarati
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_gujarati_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:gujarati
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:gujarati
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_gujarati_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:gujarati
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:gujarati
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_gujarati_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:gujarati
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:gujarati
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_gujarati_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:gujarati
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:gujarati
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_gujarati_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:gujarati
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:gujarati
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_gujarati_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:gujarati
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:gujarati
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_gujarati_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:gujarati
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:gujarati
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_gujarati_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:gujarati
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_gujarati_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_gujarati_state = {
								every_scope_pop = {
									limit = {
										culture = cu:gujarati
									}
									move_pop = scope:migration_fixes_home_gujarati_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:tamil
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:tamil }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:tamil }
							}
							save_temporary_scope_as = migration_fixes_home_tamil_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_tamil_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:tamil } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_tamil_state
						scope:migration_fixes_home_tamil_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:tamil
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tamil
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_tamil_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tamil
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tamil
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_tamil_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tamil
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tamil
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_tamil_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tamil
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tamil
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_tamil_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tamil
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tamil
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_tamil_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tamil
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tamil
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_tamil_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tamil
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tamil
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_tamil_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tamil
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tamil
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_tamil_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tamil
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tamil
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_tamil_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tamil
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tamil
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_tamil_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tamil
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tamil
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_tamil_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:tamil
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:tamil
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_tamil_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:tamil
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_tamil_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_tamil_state = {
								every_scope_pop = {
									limit = {
										culture = cu:tamil
									}
									move_pop = scope:migration_fixes_home_tamil_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:bengali
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:bengali }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:bengali }
							}
							save_temporary_scope_as = migration_fixes_home_bengali_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_bengali_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:bengali } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_bengali_state
						scope:migration_fixes_home_bengali_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:bengali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bengali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_bengali_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bengali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bengali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_bengali_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bengali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bengali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_bengali_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bengali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bengali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_bengali_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bengali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bengali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_bengali_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bengali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bengali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_bengali_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bengali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bengali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_bengali_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bengali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bengali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_bengali_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bengali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bengali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_bengali_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bengali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bengali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_bengali_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bengali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bengali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_bengali_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:bengali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:bengali
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_bengali_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:bengali
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_bengali_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_bengali_state = {
								every_scope_pop = {
									limit = {
										culture = cu:bengali
									}
									move_pop = scope:migration_fixes_home_bengali_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:marathi
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:marathi }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:marathi }
							}
							save_temporary_scope_as = migration_fixes_home_marathi_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_marathi_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:marathi } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_marathi_state
						scope:migration_fixes_home_marathi_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:marathi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:marathi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_marathi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:marathi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:marathi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_marathi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:marathi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:marathi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_marathi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:marathi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:marathi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_marathi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:marathi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:marathi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_marathi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:marathi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:marathi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_marathi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:marathi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:marathi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_marathi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:marathi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:marathi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_marathi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:marathi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:marathi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_marathi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:marathi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:marathi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_marathi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:marathi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:marathi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_marathi_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:marathi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:marathi
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_marathi_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:marathi
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_marathi_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_marathi_state = {
								every_scope_pop = {
									limit = {
										culture = cu:marathi
									}
									move_pop = scope:migration_fixes_home_marathi_state
								}
							}
						}
					}
				}
				if = {
					limit = {
						country_has_primary_culture = cu:pathan
					}
					if = {
						limit = {
							any_scope_state = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:pathan }
							}
						}
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = no
								any_scope_pop = { culture = cu:pathan }
							}
							save_temporary_scope_as = migration_fixes_home_pathan_state
						}
					}
					else = {
						random_scope_state = {
							limit = {
								owner = ROOT
								is_capital = yes
							}
							save_temporary_scope_as = migration_fixes_home_pathan_state
						}
					}
					every_scope_state = {
						limit = {
							owner = ROOT
							NOT = { any_scope_pop = { culture = cu:pathan } }
							OR = {
								is_incorporated = yes
								NOT = { has_state_trait = state_trait_severe_malaria }
								owner = { has_technology_researched = quinine }
							}
							OR = {
								is_incorporated = yes
								is_split_state = no
								owner = { NOT = { has_law = law_type:law_no_colonial_affairs } }
								NOT = { any_neighbouring_state = { owner = { is_country_type = decentralized } } }
							}
							OR = {
								is_isolated_from_market = no
								AND = {
									is_coastal = yes
									has_building = building_port
								}
							}
						}
						save_temporary_scope_as = migration_fixes_target_pathan_state
						scope:migration_fixes_home_pathan_state = {
							if = {
								limit = {
									any_scope_pop = {
										culture = cu:pathan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:pathan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10
									}
									move_pop = scope:migration_fixes_target_pathan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:pathan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:pathan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20
									}
									move_pop = scope:migration_fixes_target_pathan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:pathan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:pathan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 40
									}
									move_pop = scope:migration_fixes_target_pathan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:pathan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:pathan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 80
									}
									move_pop = scope:migration_fixes_target_pathan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:pathan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:pathan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 160
									}
									move_pop = scope:migration_fixes_target_pathan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:pathan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:pathan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 320
									}
									move_pop = scope:migration_fixes_target_pathan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:pathan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:pathan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 640
									}
									move_pop = scope:migration_fixes_target_pathan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:pathan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:pathan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 1280
									}
									move_pop = scope:migration_fixes_target_pathan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:pathan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:pathan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 2560
									}
									move_pop = scope:migration_fixes_target_pathan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:pathan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:pathan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 5120
									}
									move_pop = scope:migration_fixes_target_pathan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:pathan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:pathan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 10240
									}
									move_pop = scope:migration_fixes_target_pathan_state
								}
							}
							else_if = {
								limit = {
									any_scope_pop = {
										culture = cu:pathan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
								}
								random_scope_pop = {
									limit = {
										culture = cu:pathan
										strata = lower
										NOT = { is_pop_type = slaves }
										total_size <= 20480
									}
									move_pop = scope:migration_fixes_target_pathan_state
								}
							}
							else = {
								random_scope_pop = {
									limit = {
										culture = cu:pathan
										strata = lower
										NOT = { is_pop_type = slaves }
									}
									move_pop = scope:migration_fixes_target_pathan_state
								}
							}
						}
						if = {
							limit = {
								is_incorporated = no
							}
							scope:migration_fixes_target_pathan_state = {
								every_scope_pop = {
									limit = {
										culture = cu:pathan
									}
									move_pop = scope:migration_fixes_home_pathan_state
								}
							}
						}
					}
				}
			}
		}
		trigger_event = {
			id = migration_fixes.1
			days = 1
		}
	}
}
